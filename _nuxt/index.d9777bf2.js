import{i as Hu,f as Ue,o as uo,j as yw,w as Fu,k as id,n as bw,l as ww,m as wu,q as Ne,s as xw,x as ad,y as kw,r as na,z as sd,A as Mw,c as Wo,a as _r,B as Ys,C as Yf,b as oo,T as Sw,D as Cw,E as Tw,d as Ow,p as _w,e as Aw,_ as Ew}from"./entry.e0f850a0.js";var Iw=Object.defineProperty,Nw=(n,t,e)=>t in n?Iw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Dw=(n,t,e)=>(Nw(n,typeof t!="symbol"?t+"":t,e),e);const Qf="Ui",ud={classPrefix:{type:[String,null],default:null}};function cd(n){return{getClassName:Ue(()=>t=>[{[`${Qf}${t}`]:Qf,[`${n.classPrefix}${t}`]:!!n.classPrefix}])}}const Lw={tag:{type:String,default:"button",validator:n=>["button","a","NuxtLink","RouterLink","span"].includes(n)}};function $w(n){const t=ad(),e=Ue(()=>t.to?"RouterLink":t.href?"a":n.tag?n.tag:"button"),o=Ue(()=>[{"--is-interactive":["NuxtLink","RouterLink","a","button"].includes(e.value)}]);return{componentTag:e,routableClassList:o}}const zw={size:{type:String,default:"medium",validator:n=>["x-small","small","medium","large","x-large","xx-large","custom"].includes(n)}};function Rw(n){return{sizeClassList:Ue(()=>[{[`--${n.size}-size`]:n.size}])}}const jw={color:{type:[String,null],default:null}};function Bw(n){return{colorClassList:Ue(()=>[{[`--${n.color}-color`]:n.color}])}}const Pw={active:{type:Boolean,default:!1},interesting:{type:Boolean,default:!1},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:[String,Number,null,Boolean],default:null},loading:{type:Boolean,default:!1}};function Hw(n){return{stateClassList:Ue(()=>[{"--is-active":n.active,"--is-interesting":n.interesting,"--is-disabled":n.disabled,"--is-error":n.error,"--is-required":n.required,"--is-loading":n.loading}])}}const Fw={outline:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},icon:{type:Boolean,default:!1}};function Vw(n){return{styleClassList:Ue(()=>[{"--is-solid":!n.outline,"--is-outline":n.outline,"--is-rounded":n.rounded,"--is-icon":n.icon}])}}const qw=Hu({__name:"UiButton",props:{...Lw,...ud,...zw,...jw,...Pw,...Fw},setup(n){const t=n,{getClassName:e}=cd(t),{componentTag:o,routableClassList:a}=$w(t),{sizeClassList:s}=Rw(t),{colorClassList:u}=Bw(t),{stateClassList:l}=Hw(t),{styleClassList:f}=Vw(t),h=Ue(()=>[a.value,s.value,u.value,l.value,f.value]);return(d,v)=>(uo(),yw(xw(Ne(o)),wu(d.$attrs,{class:[Ne(e)("Button"),h.value]}),{default:Fu(()=>[id(d.$slots,"default",bw(ww(t)))]),_:3},16,["class"]))}});function de(n){this.content=n}de.prototype={constructor:de,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var o=e&&e!=n?this.remove(e):this,a=o.find(n),s=o.content.slice();return a==-1?s.push(e||n,t):(s[a+1]=t,e&&(s[a]=e)),new de(s)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new de(e)},addToStart:function(n,t){return new de([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new de(e)},addBefore:function(n,t,e){var o=this.remove(t),a=o.content.slice(),s=o.find(n);return a.splice(s==-1?a.length:s,0,t,e),new de(a)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=de.from(n),n.size?new de(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=de.from(n),n.size?new de(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=de.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};de.from=function(n){if(n instanceof de)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new de(t)};function ld(n,t,e){for(let o=0;;o++){if(o==n.childCount||o==t.childCount)return n.childCount==t.childCount?null:e;let a=n.child(o),s=t.child(o);if(a==s){e+=a.nodeSize;continue}if(!a.sameMarkup(s))return e;if(a.isText&&a.text!=s.text){for(let u=0;a.text[u]==s.text[u];u++)e++;return e}if(a.content.size||s.content.size){let u=ld(a.content,s.content,e+1);if(u!=null)return u}e+=a.nodeSize}}function fd(n,t,e,o){for(let a=n.childCount,s=t.childCount;;){if(a==0||s==0)return a==s?null:{a:e,b:o};let u=n.child(--a),l=t.child(--s),f=u.nodeSize;if(u==l){e-=f,o-=f;continue}if(!u.sameMarkup(l))return{a:e,b:o};if(u.isText&&u.text!=l.text){let h=0,d=Math.min(u.text.length,l.text.length);for(;h<d&&u.text[u.text.length-h-1]==l.text[l.text.length-h-1];)h++,e--,o--;return{a:e,b:o}}if(u.content.size||l.content.size){let h=fd(u.content,l.content,e-1,o-1);if(h)return h}e-=f,o-=f}}class F{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let o=0;o<t.length;o++)this.size+=t[o].nodeSize}nodesBetween(t,e,o,a=0,s){for(let u=0,l=0;l<e;u++){let f=this.content[u],h=l+f.nodeSize;if(h>t&&o(f,a+l,s||null,u)!==!1&&f.content.size){let d=l+1;f.nodesBetween(Math.max(0,t-d),Math.min(f.content.size,e-d),o,a+d)}l=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,o,a){let s="",u=!0;return this.nodesBetween(t,e,(l,f)=>{l.isText?(s+=l.text.slice(Math.max(t,f)-f,e-f),u=!o):l.isLeaf?(a?s+=typeof a=="function"?a(l):a:l.type.spec.leafText&&(s+=l.type.spec.leafText(l)),u=!o):!u&&l.isBlock&&(s+=o,u=!0)},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,o=t.firstChild,a=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(o)&&(a[a.length-1]=e.withText(e.text+o.text),s=1);s<t.content.length;s++)a.push(t.content[s]);return new F(a,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let o=[],a=0;if(e>t)for(let s=0,u=0;u<e;s++){let l=this.content[s],f=u+l.nodeSize;f>t&&((u<t||f>e)&&(l.isText?l=l.cut(Math.max(0,t-u),Math.min(l.text.length,e-u)):l=l.cut(Math.max(0,t-u-1),Math.min(l.content.size,e-u-1))),o.push(l),a+=l.nodeSize),u=f}return new F(o,a)}cutByIndex(t,e){return t==e?F.empty:t==0&&e==this.content.length?this:new F(this.content.slice(t,e))}replaceChild(t,e){let o=this.content[t];if(o==e)return this;let a=this.content.slice(),s=this.size+e.nodeSize-o.nodeSize;return a[t]=e,new F(a,s)}addToStart(t){return new F([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new F(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,o=0;e<this.content.length;e++){let a=this.content[e];t(a,o,e),o+=a.nodeSize}}findDiffStart(t,e=0){return ld(this,t,e)}findDiffEnd(t,e=this.size,o=t.size){return fd(this,t,e,o)}findIndex(t,e=-1){if(t==0)return ra(0,t);if(t==this.size)return ra(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let o=0,a=0;;o++){let s=this.child(o),u=a+s.nodeSize;if(u>=t)return u==t||e>0?ra(o+1,u):ra(o,a);a=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return F.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return F.empty;let e,o=0;for(let a=0;a<t.length;a++){let s=t[a];o+=s.nodeSize,a&&s.isText&&t[a-1].sameMarkup(s)?(e||(e=t.slice(0,a)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new F(e||t,o)}static from(t){if(!t)return F.empty;if(t instanceof F)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new F([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Qs={index:0,offset:0};function ra(n,t){return Qs.index=n,Qs.offset=t,Qs}function xu(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(!xu(n[o],t[o]))return!1}else{for(let o in n)if(!(o in t)||!xu(n[o],t[o]))return!1;for(let o in t)if(!(o in n))return!1}return!0}let bn=class ku{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,o=!1;for(let a=0;a<t.length;a++){let s=t[a];if(this.eq(s))return t;if(this.type.excludes(s.type))e||(e=t.slice(0,a));else{if(s.type.excludes(this.type))return t;!o&&s.type.rank>this.type.rank&&(e||(e=t.slice(0,a)),e.push(this),o=!0),e&&e.push(s)}}return e||(e=t.slice()),o||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&xu(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let o=t.marks[e.type];if(!o)throw new RangeError(`There is no mark type ${e.type} in this schema`);return o.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].eq(e[o]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return ku.none;if(t instanceof ku)return[t];let e=t.slice();return e.sort((o,a)=>o.type.rank-a.type.rank),e}};bn.none=[];class Ww extends Error{}class K{constructor(t,e,o){this.content=t,this.openStart=e,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let o=dd(this.content,t+this.openStart,e);return o&&new K(o,this.openStart,this.openEnd)}removeBetween(t,e){return new K(pd(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return K.empty;let o=e.openStart||0,a=e.openEnd||0;if(typeof o!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(F.fromJSON(t,e.content),o,a)}static maxOpen(t,e=!0){let o=0,a=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)o++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)a++;return new K(t,o,a)}}K.empty=new K(F.empty,0,0);function pd(n,t,e){let{index:o,offset:a}=n.findIndex(t),s=n.maybeChild(o),{index:u,offset:l}=n.findIndex(e);if(a==t||s.isText){if(l!=e&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(o!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(o,s.copy(pd(s.content,t-a-1,e-a-1)))}function dd(n,t,e,o){let{index:a,offset:s}=n.findIndex(t),u=n.maybeChild(a);if(s==t||u.isText)return o&&!o.canReplace(a,a,e)?null:n.cut(0,t).append(e).append(n.cut(t));let l=dd(u.content,t-s-1,e);return l&&n.replaceChild(a,u.copy(l))}class Mu{constructor(t,e,o){this.$from=t,this.$to=e,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}class ni{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(o=>{o.tag?this.tags.push(o):o.style&&this.styles.push(o)}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let a=t.nodes[o.node];return a.contentMatch.matchType(a)})}parse(t,e={}){let o=new ep(this,e,!1);return o.addAll(t,e.from,e.to),o.finish()}parseSlice(t,e={}){let o=new ep(this,e,!0);return o.addAll(t,e.from,e.to),K.maxOpen(o.finish())}matchTag(t,e,o){for(let a=o?this.tags.indexOf(o)+1:0;a<this.tags.length;a++){let s=this.tags[a];if(Jw(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let u=s.getAttrs(t);if(u===!1)continue;s.attrs=u||void 0}return s}}}matchStyle(t,e,o,a){for(let s=a?this.styles.indexOf(a)+1:0;s<this.styles.length;s++){let u=this.styles[s],l=u.style;if(!(l.indexOf(t)!=0||u.context&&!o.matchesContext(u.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=e))){if(u.getAttrs){let f=u.getAttrs(e);if(f===!1)continue;u.attrs=f||void 0}return u}}}static schemaRules(t){let e=[];function o(a){let s=a.priority==null?50:a.priority,u=0;for(;u<e.length;u++){let l=e[u];if((l.priority==null?50:l.priority)<s)break}e.splice(u,0,a)}for(let a in t.marks){let s=t.marks[a].spec.parseDOM;s&&s.forEach(u=>{o(u=np(u)),u.mark||u.ignore||u.clearMark||(u.mark=a)})}for(let a in t.nodes){let s=t.nodes[a].spec.parseDOM;s&&s.forEach(u=>{o(u=np(u)),u.node||u.ignore||u.mark||(u.node=a)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ni(t,ni.schemaRules(t)))}}const hd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kw={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},md={ol:!0,ul:!0},ha=1,ma=2,Jo=4;function tp(n,t,e){return t!=null?(t?ha:0)|(t==="full"?ma:0):n&&n.whitespace=="pre"?ha|ma:e&~Jo}class oa{constructor(t,e,o,a,s,u,l){this.type=t,this.attrs=e,this.marks=o,this.pendingMarks=a,this.solid=s,this.options=l,this.content=[],this.activeMarks=bn.none,this.stashMarks=[],this.match=u||(l&Jo?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(F.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let o=this.type.contentMatch,a;return(a=o.findWrapping(t.type))?(this.match=o,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ha)){let o=this.content[this.content.length-1],a;if(o&&o.isText&&(a=/[ \t\r\n\u000c]+$/.exec(o.text))){let s=o;o.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-a[0].length))}}let e=F.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,o=this.pendingMarks;e<o.length;e++){let a=o[e];(this.type?this.type.allowsMarkType(a.type):Zw(a.type,t))&&!a.isInSet(this.activeMarks)&&(this.activeMarks=a.addToSet(this.activeMarks),this.pendingMarks=a.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!hd.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ep{constructor(t,e,o){this.parser=t,this.options=e,this.isOpen=o,this.open=0;let a=e.topNode,s,u=tp(null,e.preserveWhitespace,0)|(o?Jo:0);a?s=new oa(a.type,a.attrs,bn.none,bn.none,!0,e.topMatch||a.type.contentMatch,u):o?s=new oa(null,null,bn.none,bn.none,!0,null,u):s=new oa(t.schema.topNodeType,null,bn.none,bn.none,!0,null,u),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){let e=t.getAttribute("style");if(!e)this.addElement(t);else{let o=this.readStyles(Gw(e));if(!o)return;let[a,s]=o,u=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],u);for(let l=0;l<a.length;l++)this.addPendingMark(a[l]);this.addElement(t);for(let l=0;l<a.length;l++)this.removePendingMark(a[l],u);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}}}addTextNode(t){let e=t.nodeValue,o=this.top;if(o.options&ma||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(o.options&ha)o.options&ma?e=e.replace(/\r\n?/g,`
`):e=e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let o=t.nodeName.toLowerCase(),a;md.hasOwnProperty(o)&&this.parser.normalizeLists&&Uw(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,e));if(s?s.ignore:Kw.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let u,l=this.top,f=this.needsBlock;if(hd.hasOwnProperty(o))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),u=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),u&&this.sync(l),this.needsBlock=f}else this.addElementByRule(t,s,s.consuming===!1?a:void 0)}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=bn.none,o=bn.none;for(let a=0;a<t.length;a+=2)for(let s=void 0;;){let u=this.parser.matchStyle(t[a],t[a+1],this,s);if(!u)break;if(u.ignore)return null;if(u.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{u.clearMark(l)&&(o=l.addToSet(o))}):e=this.parser.schema.marks[u.mark].create(u.attrs).addToSet(e),u.consuming===!1)s=u;else break}return[e,o]}addElementByRule(t,e,o){let a,s,u;e.node?(s=this.parser.schema.nodes[e.node],s.isLeaf?this.insertNode(s.create(e.attrs))||this.leafFallback(t):a=this.enter(s,e.attrs||null,e.preserveWhitespace)):(u=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(u));let l=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,o);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(f=>this.insertNode(f));else{let f=t;typeof e.contentElement=="string"?f=t.querySelector(e.contentElement):typeof e.contentElement=="function"?f=e.contentElement(t):e.contentElement&&(f=e.contentElement),this.findAround(t,f,!0),this.addAll(f)}a&&this.sync(l)&&this.open--,u&&this.removePendingMark(u,l)}addAll(t,e,o){let a=e||0;for(let s=e?t.childNodes[e]:t.firstChild,u=o==null?null:t.childNodes[o];s!=u;s=s.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(s);this.findAtPoint(t,a)}findPlace(t){let e,o;for(let a=this.open;a>=0;a--){let s=this.nodes[a],u=s.findWrapping(t);if(u&&(!e||e.length>u.length)&&(e=u,o=s,!u.length)||s.solid)break}if(!e)return!1;this.sync(o);for(let a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let o=e.activeMarks;for(let a=0;a<t.marks.length;a++)(!e.type||e.type.allowsMarkType(t.marks[a].type))&&(o=t.marks[a].addToSet(o));return e.content.push(t.mark(o)),!0}return!1}enter(t,e,o){let a=this.findPlace(t.create(e));return a&&this.enterInner(t,e,!0,o),a}enterInner(t,e=null,o=!1,a){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let u=tp(t,a,s.options);s.options&Jo&&s.content.length==0&&(u|=Jo),this.nodes.push(new oa(t,e,s.activeMarks,s.pendingMarks,o,null,u)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let o=this.nodes[e].content;for(let a=o.length-1;a>=0;a--)t+=o[a].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==t&&this.find[o].offset==e&&(this.find[o].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,o){if(t!=e&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&e.compareDocumentPosition(this.find[a].node)&(o?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),o=this.options.context,a=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(a?0:1),u=(l,f)=>{for(;l>=0;l--){let h=e[l];if(h==""){if(l==e.length-1||l==0)continue;for(;f>=s;f--)if(u(l-1,f))return!0;return!1}else{let d=f>0||f==0&&a?this.nodes[f].type:o&&f>=s?o.node(f-s).type:null;if(!d||d.name!=h&&d.groups.indexOf(h)==-1)return!1;f--}}return!0};return u(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let e in this.parser.schema.nodes){let o=this.parser.schema.nodes[e];if(o.isTextblock&&o.defaultAttrs)return o}}addPendingMark(t){let e=Xw(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let o=this.open;o>=0;o--){let a=this.nodes[o];if(a.pendingMarks.lastIndexOf(t)>-1)a.pendingMarks=t.removeFromSet(a.pendingMarks);else{a.activeMarks=t.removeFromSet(a.activeMarks);let s=a.popFromStashMark(t);s&&a.type&&a.type.allowsMarkType(s.type)&&(a.activeMarks=s.addToSet(a.activeMarks))}if(a==e)break}}}function Uw(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let o=t.nodeType==1?t.nodeName.toLowerCase():null;o&&md.hasOwnProperty(o)&&e?(e.appendChild(t),t=e):o=="li"?e=t:o&&(e=null)}}function Jw(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function Gw(n){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,e,o=[];for(;e=t.exec(n);)o.push(e[1],e[2].trim());return o}function np(n){let t={};for(let e in n)t[e]=n[e];return t}function Zw(n,t){let e=t.schema.nodes;for(let o in e){let a=e[o];if(!a.allowsMarkType(n))continue;let s=[],u=l=>{s.push(l);for(let f=0;f<l.edgeCount;f++){let{type:h,next:d}=l.edge(f);if(h==t||s.indexOf(d)<0&&u(d))return!0}};if(u(a.contentMatch))return!0}}function Xw(n,t){for(let e=0;e<t.length;e++)if(n.eq(t[e]))return t[e]}class Ar{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},o){o||(o=tu(e).createDocumentFragment());let a=o,s=[];return t.forEach(u=>{if(s.length||u.marks.length){let l=0,f=0;for(;l<s.length&&f<u.marks.length;){let h=u.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(s[l][0])||h.type.spec.spanning===!1)break;l++,f++}for(;l<s.length;)a=s.pop()[1];for(;f<u.marks.length;){let h=u.marks[f++],d=this.serializeMark(h,u.isInline,e);d&&(s.push([h,a]),a.appendChild(d.dom),a=d.contentDOM||d.dom)}}a.appendChild(this.serializeNodeInner(u,e))}),o}serializeNodeInner(t,e){let{dom:o,contentDOM:a}=Ar.renderSpec(tu(e),this.nodes[t.type.name](t));if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,a)}return o}serializeNode(t,e={}){let o=this.serializeNodeInner(t,e);for(let a=t.marks.length-1;a>=0;a--){let s=this.serializeMark(t.marks[a],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(o),o=s.dom)}return o}serializeMark(t,e,o={}){let a=this.marks[t.type.name];return a&&Ar.renderSpec(tu(o),a(t,e))}static renderSpec(t,e,o=null){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],s=a.indexOf(" ");s>0&&(o=a.slice(0,s),a=a.slice(s+1));let u,l=o?t.createElementNS(o,a):t.createElement(a),f=e[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let d in f)if(f[d]!=null){let v=d.indexOf(" ");v>0?l.setAttributeNS(d.slice(0,v),d.slice(v+1),f[d]):l.setAttribute(d,f[d])}}for(let d=h;d<e.length;d++){let v=e[d];if(v===0){if(d<e.length-1||d>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:b,contentDOM:x}=Ar.renderSpec(t,v,o);if(l.appendChild(b),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:l,contentDOM:u}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ar(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=rp(t.nodes);return e.text||(e.text=o=>o.text),e}static marksFromSchema(t){return rp(t.marks)}}function rp(n){let t={};for(let e in n){let o=n[e].spec.toDOM;o&&(t[e]=o)}return t}function tu(n){return n.document||window.document}const gd=65535,vd=Math.pow(2,16);function Yw(n,t){return n+t*vd}function op(n){return n&gd}function Qw(n){return(n-(n&gd))/vd}const yd=1,bd=2,la=4,wd=8;class Su{constructor(t,e,o){this.pos=t,this.delInfo=e,this.recover=o}get deleted(){return(this.delInfo&wd)>0}get deletedBefore(){return(this.delInfo&(yd|la))>0}get deletedAfter(){return(this.delInfo&(bd|la))>0}get deletedAcross(){return(this.delInfo&la)>0}}class Ke{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&Ke.empty)return Ke.empty}recover(t){let e=0,o=op(t);if(!this.inverted)for(let a=0;a<o;a++)e+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[o*3]+e+Qw(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,o){let a=0,s=this.inverted?2:1,u=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let f=this.ranges[l]-(this.inverted?a:0);if(f>t)break;let h=this.ranges[l+s],d=this.ranges[l+u],v=f+h;if(t<=v){let b=h?t==f?-1:t==v?1:e:e,x=f+a+(b<0?0:d);if(o)return x;let O=t==(e<0?f:v)?null:Yw(l/3,t-f),C=t==f?bd:t==v?yd:la;return(e<0?t!=f:t!=v)&&(C|=wd),new Su(x,C,O)}a+=d-h}return o?t+a:new Su(t+a,0,null)}touches(t,e){let o=0,a=op(e),s=this.inverted?2:1,u=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let f=this.ranges[l]-(this.inverted?o:0);if(f>t)break;let h=this.ranges[l+s],d=f+h;if(t<=d&&l==a*3)return!0;o+=this.ranges[l+u]-h}return!1}forEach(t){let e=this.inverted?2:1,o=this.inverted?1:2;for(let a=0,s=0;a<this.ranges.length;a+=3){let u=this.ranges[a],l=u-(this.inverted?s:0),f=u+(this.inverted?0:s),h=this.ranges[a+e],d=this.ranges[a+o];t(l,l+h,f,f+d),s+=d-h}}invert(){return new Ke(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ke.empty:new Ke(t<0?[0,-t,0]:[0,0,t])}}Ke.empty=new Ke([]);class Go{constructor(t=[],e,o=0,a=t.length){this.maps=t,this.mirror=e,this.from=o,this.to=a}slice(t=0,e=this.maps.length){return new Go(this.maps,this.mirror,t,e)}copy(){return new Go(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,o=this.maps.length;e<t.maps.length;e++){let a=t.getMirror(e);this.appendMap(t.maps[e],a!=null&&a<e?o+a:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,o=this.maps.length+t.maps.length;e>=0;e--){let a=t.getMirror(e);this.appendMap(t.maps[e].invert(),a!=null&&a>e?o-a-1:void 0)}}invert(){let t=new Go;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let o=this.from;o<this.to;o++)t=this.maps[o].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,o){let a=0;for(let s=this.from;s<this.to;s++){let u=this.maps[s],l=u.mapResult(t,e);if(l.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,t=this.maps[f].recover(l.recover);continue}}a|=l.delInfo,t=l.pos}return o?t:new Su(t,a,null)}}const eu=Object.create(null);class Ce{getMap(){return Ke.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=eu[e.stepType];if(!o)throw new RangeError(`No step type ${e.stepType} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in eu)throw new RangeError("Duplicate use of step JSON ID "+t);return eu[t]=e,e.prototype.jsonID=t,e}}class Ft{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Ft(t,null)}static fail(t){return new Ft(null,t)}static fromReplace(t,e,o,a){try{return Ft.ok(t.replace(e,o,a))}catch(s){if(s instanceof Ww)return Ft.fail(s.message);throw s}}}function Vu(n,t,e){let o=[];for(let a=0;a<n.childCount;a++){let s=n.child(a);s.content.size&&(s=s.copy(Vu(s.content,t,s))),s.isInline&&(s=t(s,e,a)),o.push(s)}return F.fromArray(o)}class Er extends Ce{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=t.resolve(this.from),a=o.node(o.sharedDepth(this.to)),s=new K(Vu(e.content,(u,l)=>!u.isAtom||!l.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),a),e.openStart,e.openEnd);return Ft.fromReplace(t,this.from,this.to,s)}invert(){return new Ir(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new Er(e.pos,o.pos,this.mark)}merge(t){return t instanceof Er&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Er(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Er(e.from,e.to,t.markFromJSON(e.mark))}}Ce.jsonID("addMark",Er);class Ir extends Ce{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=new K(Vu(e.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),e.openStart,e.openEnd);return Ft.fromReplace(t,this.from,this.to,o)}invert(){return new Er(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new Ir(e.pos,o.pos,this.mark)}merge(t){return t instanceof Ir&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ir(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ir(e.from,e.to,t.markFromJSON(e.mark))}}Ce.jsonID("removeMark",Ir);class Nr extends Ce{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ft.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Ft.fromReplace(t,this.pos,this.pos+1,new K(F.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let o=this.mark.addToSet(e.marks);if(o.length==e.marks.length){for(let a=0;a<e.marks.length;a++)if(!e.marks[a].isInSet(o))return new Nr(this.pos,e.marks[a]);return new Nr(this.pos,this.mark)}}return new ri(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Nr(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Nr(e.pos,t.markFromJSON(e.mark))}}Ce.jsonID("addNodeMark",Nr);class ri extends Ce{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ft.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Ft.fromReplace(t,this.pos,this.pos+1,new K(F.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Nr(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ri(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ri(e.pos,t.markFromJSON(e.mark))}}Ce.jsonID("removeNodeMark",ri);class We extends Ce{constructor(t,e,o,a=!1){super(),this.from=t,this.to=e,this.slice=o,this.structure=a}apply(t){return this.structure&&Cu(t,this.from,this.to)?Ft.fail("Structure replace would overwrite content"):Ft.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ke([this.from,this.to-this.from,this.slice.size])}invert(t){return new We(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deletedAcross&&o.deletedAcross?null:new We(e.pos,Math.max(e.pos,o.pos),this.slice)}merge(t){if(!(t instanceof We)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?K.empty:new K(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new We(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?K.empty:new K(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new We(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new We(e.from,e.to,K.fromJSON(t,e.slice),!!e.structure)}}Ce.jsonID("replace",We);class ke extends Ce{constructor(t,e,o,a,s,u,l=!1){super(),this.from=t,this.to=e,this.gapFrom=o,this.gapTo=a,this.slice=s,this.insert=u,this.structure=l}apply(t){if(this.structure&&(Cu(t,this.from,this.gapFrom)||Cu(t,this.gapTo,this.to)))return Ft.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Ft.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,e.content);return o?Ft.fromReplace(t,this.from,this.to,o):Ft.fail("Content does not fit in gap")}getMap(){return new Ke([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new ke(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),a=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return e.deletedAcross&&o.deletedAcross||a<e.pos||s>o.pos?null:new ke(e.pos,o.pos,a,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ke(e.from,e.to,e.gapFrom,e.gapTo,K.fromJSON(t,e.slice),e.insert,!!e.structure)}}Ce.jsonID("replaceAround",ke);function Cu(n,t,e){let o=n.resolve(t),a=e-t,s=o.depth;for(;a>0&&s>0&&o.indexAfter(s)==o.node(s).childCount;)s--,a--;if(a>0){let u=o.node(s).maybeChild(o.indexAfter(s));for(;a>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,a--}}return!1}function tx(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function wo(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let e=n.depth;;--e){let o=n.$from.node(e),a=n.$from.index(e),s=n.$to.indexAfter(e);if(e<n.depth&&o.canReplace(a,s,t))return e;if(e==0||o.type.spec.isolating||!tx(o,a,s))break}return null}function qu(n,t,e=null,o=n){let a=ex(n,t),s=a&&nx(o,t);return s?a.map(ip).concat({type:t,attrs:e}).concat(s.map(ip)):null}function ip(n){return{type:n,attrs:null}}function ex(n,t){let{parent:e,startIndex:o,endIndex:a}=n,s=e.contentMatchAt(o).findWrapping(t);if(!s)return null;let u=s.length?s[0]:t;return e.canReplaceWith(o,a,u)?s:null}function nx(n,t){let{parent:e,startIndex:o,endIndex:a}=n,s=e.child(o),u=t.contentMatch.findWrapping(s.type);if(!u)return null;let l=(u.length?u[u.length-1]:t).contentMatch;for(let f=o;l&&f<a;f++)l=l.matchType(e.child(f).type);return!l||!l.validEnd?null:u}function co(n,t,e=1,o){let a=n.resolve(t),s=a.depth-e,u=o&&o[o.length-1]||a.parent;if(s<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!u.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let h=a.depth-1,d=e-2;h>s;h--,d--){let v=a.node(h),b=a.index(h);if(v.type.spec.isolating)return!1;let x=v.content.cutByIndex(b,v.childCount),O=o&&o[d]||v;if(O!=v&&(x=x.replaceChild(0,O.type.create(O.attrs))),!v.canReplace(b+1,v.childCount)||!O.type.validContent(x))return!1}let l=a.indexAfter(s),f=o&&o[0];return a.node(s).canReplaceWith(l,l,f?f.type:a.node(s+1).type)}function ur(n,t){let e=n.resolve(t),o=e.index();return xd(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(o,o+1)}function xd(n,t){return!!(n&&t&&!n.isLeaf&&n.canAppend(t))}function kd(n,t,e=-1){let o=n.resolve(t);for(let a=o.depth;;a--){let s,u,l=o.index(a);if(a==o.depth?(s=o.nodeBefore,u=o.nodeAfter):e>0?(s=o.node(a+1),l++,u=o.node(a).maybeChild(l)):(s=o.node(a).maybeChild(l-1),u=o.node(a+1)),s&&!s.isTextblock&&xd(s,u)&&o.node(a).canReplace(l,l+1))return t;if(a==0)break;t=e<0?o.before(a):o.after(a)}}function Md(n,t,e){let o=n.resolve(t);if(!e.content.size)return t;let a=e.content;for(let s=0;s<e.openStart;s++)a=a.firstChild.content;for(let s=1;s<=(e.openStart==0&&e.size?2:1);s++)for(let u=o.depth;u>=0;u--){let l=u==o.depth?0:o.pos<=(o.start(u+1)+o.end(u+1))/2?-1:1,f=o.index(u)+(l>0?1:0),h=o.node(u),d=!1;if(s==1)d=h.canReplace(f,f,a);else{let v=h.contentMatchAt(f).findWrapping(a.firstChild.type);d=v&&h.canReplaceWith(f,f,v[0])}if(d)return l==0?o.pos:l<0?o.before(u+1):o.after(u+1)}return null}function Sd(n,t,e=t,o=K.empty){if(t==e&&!o.size)return null;let a=n.resolve(t),s=n.resolve(e);return rx(a,s,o)?new We(t,e,o):new ox(a,s,o).fit()}function rx(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}class ox{constructor(t,e,o){this.$from=t,this.$to=e,this.unplaced=o,this.frontier=[],this.placed=F.empty;for(let a=0;a<=t.depth;a++){let s=t.node(a);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=F.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,o=this.$from,a=this.close(t<0?this.$to:o.doc.resolve(t));if(!a)return null;let s=this.placed,u=o.depth,l=a.depth;for(;u&&l&&s.childCount==1;)s=s.firstChild.content,u--,l--;let f=new K(s,u,l);return t>-1?new ke(o.pos,t,this.$to.pos,this.$to.end(),f,e):f.size||o.pos!=this.$to.pos?new We(o.pos,a.pos,f):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,o=0,a=this.unplaced.openEnd;o<t;o++){let s=e.firstChild;if(e.childCount>1&&(a=0),s.type.spec.isolating&&a<=o){t=o;break}e=s.content}for(let e=1;e<=2;e++)for(let o=e==1?t:this.unplaced.openStart;o>=0;o--){let a,s=null;o?(s=nu(this.unplaced.content,o-1).firstChild,a=s.content):a=this.unplaced.content;let u=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:f,match:h}=this.frontier[l],d,v=null;if(e==1&&(u?h.matchType(u.type)||(v=h.fillBefore(F.from(u),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:o,frontierDepth:l,parent:s,inject:v};if(e==2&&u&&(d=h.findWrapping(u.type)))return{sliceDepth:o,frontierDepth:l,parent:s,wrap:d};if(s&&h.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:o}=this.unplaced,a=nu(t,e);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new K(t,e+1,Math.max(o,a.size+e>=t.size-o?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:o}=this.unplaced,a=nu(t,e);if(a.childCount<=1&&e>0){let s=t.size-e<=e+a.size;this.unplaced=new K(Ko(t,e-1,1),e-1,s?e-1:o)}else this.unplaced=new K(Ko(t,e,1),e,o)}placeNodes({sliceDepth:t,frontierDepth:e,parent:o,inject:a,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let C=0;C<s.length;C++)this.openFrontierNode(s[C]);let u=this.unplaced,l=o?o.content:u.content,f=u.openStart-t,h=0,d=[],{match:v,type:b}=this.frontier[e];if(a){for(let C=0;C<a.childCount;C++)d.push(a.child(C));v=v.matchFragment(a)}let x=l.size+t-(u.content.size-u.openEnd);for(;h<l.childCount;){let C=l.child(h),A=v.matchType(C.type);if(!A)break;h++,(h>1||f==0||C.content.size)&&(v=A,d.push(Cd(C.mark(b.allowedMarks(C.marks)),h==1?f:0,h==l.childCount?x:-1)))}let O=h==l.childCount;O||(x=-1),this.placed=Uo(this.placed,e,F.from(d)),this.frontier[e].match=v,O&&x<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,A=l;C<x;C++){let z=A.lastChild;this.frontier.push({type:z.type,match:z.contentMatchAt(z.childCount)}),A=z.content}this.unplaced=O?t==0?K.empty:new K(Ko(u.content,t-1,1),t-1,x<0?u.openEnd:t-1):new K(Ko(u.content,t,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!ru(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:o}=this.$to,a=this.$to.after(o);for(;o>1&&a==this.$to.end(--o);)++a;return a}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:o,type:a}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),u=ru(t,e,a,o,s);if(u){for(let l=e-1;l>=0;l--){let{match:f,type:h}=this.frontier[l],d=ru(t,l,h,f,!0);if(!d||d.childCount)continue t}return{depth:e,fit:u,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Uo(this.placed,e.depth,e.fit)),t=e.move;for(let o=e.depth+1;o<=t.depth;o++){let a=t.node(o),s=a.type.contentMatch.fillBefore(a.content,!0,t.index(o));this.openFrontierNode(a.type,a.attrs,s)}return t}openFrontierNode(t,e=null,o){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=Uo(this.placed,this.depth,F.from(t.create(e,o))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(F.empty,!0);t.childCount&&(this.placed=Uo(this.placed,this.frontier.length,t))}}function Ko(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(Ko(n.firstChild.content,t-1,e)))}function Uo(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(Uo(n.lastChild.content,t-1,e)))}function nu(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function Cd(n,t,e){if(t<=0)return n;let o=n.content;return t>1&&(o=o.replaceChild(0,Cd(o.firstChild,t-1,o.childCount==1?e-1:0))),t>0&&(o=n.type.contentMatch.fillBefore(o).append(o),e<=0&&(o=o.append(n.type.contentMatch.matchFragment(o).fillBefore(F.empty,!0)))),n.copy(o)}function ru(n,t,e,o,a){let s=n.node(t),u=a?n.indexAfter(t):n.index(t);if(u==s.childCount&&!e.compatibleContent(s.type))return null;let l=o.fillBefore(s.content,!0,u);return l&&!ix(e,s.content,u)?l:null}function ix(n,t,e){for(let o=e;o<t.childCount;o++)if(!n.allowsMarks(t.child(o).marks))return!0;return!1}class Zo extends Ce{constructor(t,e,o){super(),this.pos=t,this.attr=e,this.value=o}apply(t){let e=t.nodeAt(this.pos);if(!e)return Ft.fail("No node at attribute step's position");let o=Object.create(null);for(let s in e.attrs)o[s]=e.attrs[s];o[this.attr]=this.value;let a=e.type.create(o,null,e.marks);return Ft.fromReplace(t,this.pos,this.pos+1,new K(F.from(a),0,e.isLeaf?0:1))}getMap(){return Ke.empty}invert(t){return new Zo(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Zo(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Zo(e.pos,e.attr,e.value)}}Ce.jsonID("attr",Zo);let oi=class extends Error{};oi=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};oi.prototype=Object.create(Error.prototype);oi.prototype.constructor=oi;oi.prototype.name="TransformError";const ou=Object.create(null);class ct{constructor(t,e,o){this.$anchor=t,this.$head=e,this.ranges=o||[new ax(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=K.empty){let o=e.content.lastChild,a=null;for(let l=0;l<e.openEnd;l++)a=o,o=o.lastChild;let s=t.steps.length,u=this.ranges;for(let l=0;l<u.length;l++){let{$from:f,$to:h}=u[l],d=t.mapping.slice(s);t.replaceRange(d.map(f.pos),d.map(h.pos),l?K.empty:e),l==0&&up(t,s,(o?o.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,e){let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:u,$to:l}=a[s],f=t.mapping.slice(o),h=f.map(u.pos),d=f.map(l.pos);s?t.deleteRange(h,d):(t.replaceRangeWith(h,d,e),up(t,o,e.isInline?-1:1))}}static findFrom(t,e,o=!1){let a=t.parent.inlineContent?new lt(t):io(t.node(0),t.parent,t.pos,t.index(),e,o);if(a)return a;for(let s=t.depth-1;s>=0;s--){let u=e<0?io(t.node(0),t.node(s),t.before(s+1),t.index(s),e,o):io(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,o);if(u)return u}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new un(t.node(0))}static atStart(t){return io(t,t,0,0,1)||new un(t)}static atEnd(t){return io(t,t,t.content.size,t.childCount,-1)||new un(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=ou[e.type];if(!o)throw new RangeError(`No selection type ${e.type} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in ou)throw new RangeError("Duplicate use of selection JSON ID "+t);return ou[t]=e,e.prototype.jsonID=t,e}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class ax{constructor(t,e){this.$from=t,this.$to=e}}let ap=!1;function sp(n){!ap&&!n.parent.inlineContent&&(ap=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class lt extends ct{constructor(t,e=t){sp(t),sp(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let o=t.resolve(e.map(this.head));if(!o.parent.inlineContent)return ct.near(o);let a=t.resolve(e.map(this.anchor));return new lt(a.parent.inlineContent?a:o,o)}replace(t,e=K.empty){if(super.replace(t,e),e==K.empty){let o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}}eq(t){return t instanceof lt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new _a(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,o=e){let a=t.resolve(e);return new this(a,o==e?a:t.resolve(o))}static between(t,e,o){let a=t.pos-e.pos;if((!o||a)&&(o=a>=0?1:-1),!e.parent.inlineContent){let s=ct.findFrom(e,o,!0)||ct.findFrom(e,-o,!0);if(s)e=s.$head;else return ct.near(e,o)}return t.parent.inlineContent||(a==0?t=e:(t=(ct.findFrom(t,-o,!0)||ct.findFrom(t,o,!0)).$anchor,t.pos<e.pos!=a<0&&(t=e))),new lt(t,e)}}ct.jsonID("text",lt);class _a{constructor(t,e){this.anchor=t,this.head=e}map(t){return new _a(t.map(this.anchor),t.map(this.head))}resolve(t){return lt.between(t.resolve(this.anchor),t.resolve(this.head))}}class Y extends ct{constructor(t){let e=t.nodeAfter,o=t.node(0).resolve(t.pos+e.nodeSize);super(t,o),this.node=e}map(t,e){let{deleted:o,pos:a}=e.mapResult(this.anchor),s=t.resolve(a);return o?ct.near(s):new Y(s)}content(){return new K(F.from(this.node),0,0)}eq(t){return t instanceof Y&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Wu(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Y(t.resolve(e.anchor))}static create(t,e){return new Y(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Y.prototype.visible=!1;ct.jsonID("node",Y);class Wu{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:o}=t.mapResult(this.anchor);return e?new _a(o,o):new Wu(o)}resolve(t){let e=t.resolve(this.anchor),o=e.nodeAfter;return o&&Y.isSelectable(o)?new Y(e):ct.near(e)}}class un extends ct{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=K.empty){if(e==K.empty){t.delete(0,t.doc.content.size);let o=ct.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new un(t)}map(t){return new un(t)}eq(t){return t instanceof un}getBookmark(){return sx}}ct.jsonID("all",un);const sx={map(){return this},resolve(n){return new un(n)}};function io(n,t,e,o,a,s=!1){if(t.inlineContent)return lt.create(n,e);for(let u=o-(a>0?0:1);a>0?u<t.childCount:u>=0;u+=a){let l=t.child(u);if(l.isAtom){if(!s&&Y.isSelectable(l))return Y.create(n,e-(a<0?l.nodeSize:0))}else{let f=io(n,l,e+a,a<0?l.childCount:0,a,s);if(f)return f}e+=l.nodeSize*a}return null}function up(n,t,e){let o=n.steps.length-1;if(o<t)return;let a=n.steps[o];if(!(a instanceof We||a instanceof ke))return;let s=n.mapping.maps[o],u;s.forEach((l,f,h,d)=>{u==null&&(u=d)}),n.setSelection(ct.near(n.doc.resolve(u),e))}function cp(n,t){return!t||!n?n:n.bind(t)}class ia{constructor(t,e,o){this.name=t,this.init=cp(e.init,o),this.apply=cp(e.apply,o)}}new ia("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ia("selection",{init(n,t){return n.selection||ct.atStart(t.doc)},apply(n){return n.selection}}),new ia("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,o){return o.selection.$cursor?n.storedMarks:null}}),new ia("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}});function Td(n,t,e){for(let o in n){let a=n[o];a instanceof Function?a=a.bind(t):o=="handleDOMEvents"&&(a=Td(a,t,{})),e[o]=a}return e}class cn{constructor(t){this.spec=t,this.props={},t.props&&Td(t.props,this,this.props),this.key=t.key?t.key.key:Od("plugin")}getState(t){return t[this.key]}}const iu=Object.create(null);function Od(n){return n in iu?n+"$"+ ++iu[n]:(iu[n]=0,n+"$")}class _n{constructor(t="key"){this.key=Od(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const ci=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},_d=function(n,t,e,o){return e&&(lp(n,t,e,o,-1)||lp(n,t,e,o,1))},ux=/^(img|br|input|textarea|hr)$/i;function lp(n,t,e,o,a){for(;;){if(n==e&&t==o)return!0;if(t==(a<0?0:ga(n))){let s=n.parentNode;if(!s||s.nodeType!=1||lx(n)||ux.test(n.nodeName)||n.contentEditable=="false")return!1;t=ci(n)+(a<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[t+(a<0?-1:0)],n.contentEditable=="false")return!1;t=a<0?ga(n):0}else return!1}}function ga(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function cx(n,t,e){for(let o=t==0,a=t==ga(n);o||a;){if(n==e)return!0;let s=ci(n);if(n=n.parentNode,!n)return!1;o=o&&s==0,a=a&&s==ga(n)}}function lx(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const Ad=function(n){return n.focusNode&&_d(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ed(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}const Tn=typeof navigator<"u"?navigator:null,fp=typeof document<"u"?document:null,cr=Tn&&Tn.userAgent||"",Tu=/Edge\/(\d+)/.exec(cr),Id=/MSIE \d/.exec(cr),Ou=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cr),li=!!(Id||Ou||Tu),Nd=Id?document.documentMode:Ou?+Ou[1]:Tu?+Tu[1]:0,Aa=!li&&/gecko\/(\d+)/i.test(cr);Aa&&+(/Firefox\/(\d+)/.exec(cr)||[0,0])[1];const _u=!li&&/Chrome\/(\d+)/.exec(cr),Rr=!!_u,fx=_u?+_u[1]:0,jr=!li&&!!Tn&&/Apple Computer/.test(Tn.vendor),Ku=jr&&(/Mobile\/\w+/.test(cr)||!!Tn&&Tn.maxTouchPoints>2),qe=Ku||(Tn?/Mac/.test(Tn.platform):!1),px=Tn?/Win/.test(Tn.platform):!1,fi=/Android \d/.test(cr),Uu=!!fp&&"webkitFontSmoothing"in fp.documentElement.style,dx=Uu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function hx(n,t=null){let e=n.domSelectionRange(),o=n.state.doc;if(!e.focusNode)return null;let a=n.docView.nearestDesc(e.focusNode),s=a&&a.size==0,u=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(u<0)return null;let l=o.resolve(u),f,h;if(Ad(e)){for(f=l;a&&!a.node;)a=a.parent;let d=a.node;if(a&&d.isAtom&&Y.isSelectable(d)&&a.parent&&!(d.isInline&&cx(e.focusNode,e.focusOffset,a.dom))){let v=a.posBefore;h=new Y(u==v?l:o.resolve(v))}}else{let d=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(d<0)return null;f=o.resolve(d)}if(!h){let d=t=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;h=Ld(n,f,l,d)}return h}function Dd(n){return n.editable?n.hasFocus():yx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ju(n,t=!1){let e=n.state.selection;if(vx(n,e),!!Dd(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Rr){let o=n.domSelectionRange(),a=n.domObserver.currentSelection;if(o.anchorNode&&a.anchorNode&&_d(o.anchorNode,o.anchorOffset,a.anchorNode,a.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)gx(n);else{let{anchor:o,head:a}=e,s,u;pp&&!(e instanceof lt)&&(e.$from.parent.inlineContent||(s=dp(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(u=dp(n,e.to))),n.docView.setSelection(o,a,n.root,t),pp&&(s&&hp(s),u&&hp(u)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&mx(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const pp=jr||Rr&&fx<63;function dp(n,t){let{node:e,offset:o}=n.docView.domFromPos(t,0),a=o<e.childNodes.length?e.childNodes[o]:null,s=o?e.childNodes[o-1]:null;if(jr&&a&&a.contentEditable=="false")return au(a);if((!a||a.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(a)return au(a);if(s)return au(s)}}function au(n){return n.contentEditable="true",jr&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function hp(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function mx(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),o=e.anchorNode,a=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=o||e.anchorOffset!=a)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Dd(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function gx(n){let t=n.domSelection(),e=document.createRange(),o=n.cursorWrapper.dom,a=o.nodeName=="IMG";a?e.setEnd(o.parentNode,ci(o)+1):e.setEnd(o,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!a&&!n.state.selection.visible&&li&&Nd<=11&&(o.disabled=!0,o.disabled=!1)}function vx(n,t){if(t instanceof Y){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(mp(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else mp(n)}function mp(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Ld(n,t,e,o){return n.someProp("createSelectionBetween",a=>a(n,t,e))||lt.between(t,e,o)}function yx(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Au(n,t){let{$anchor:e,$head:o}=n.selection,a=t>0?e.max(o):e.min(o),s=a.parent.inlineContent?a.depth?n.doc.resolve(t>0?a.after():a.before()):null:a;return s&&ct.findFrom(s,t)}function Tr(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function gp(n,t,e){let o=n.state.selection;if(o instanceof lt){if(!o.empty||e.indexOf("s")>-1)return!1;if(n.endOfTextblock(t>0?"forward":"backward")){let a=Au(n.state,t);return a&&a instanceof Y?Tr(n,a):!1}else if(!(qe&&e.indexOf("m")>-1)){let a=o.$head,s=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,u;if(!s||s.isText)return!1;let l=t<0?a.pos-s.nodeSize:a.pos;return s.isAtom||(u=n.docView.descAt(l))&&!u.contentDOM?Y.isSelectable(s)?Tr(n,new Y(t<0?n.state.doc.resolve(a.pos-s.nodeSize):a)):Uu?Tr(n,new lt(n.state.doc.resolve(t<0?l:l+s.nodeSize))):!1:!1}}else{if(o instanceof Y&&o.node.isInline)return Tr(n,new lt(t>0?o.$to:o.$from));{let a=Au(n.state,t);return a?Tr(n,a):!1}}}function va(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Xo(n){let t=n.pmViewDesc;return t&&t.size==0&&(n.nextSibling||n.nodeName!="BR")}function Fo(n,t){return t<0?bx(n):$d(n)}function bx(n){let t=n.domSelectionRange(),e=t.focusNode,o=t.focusOffset;if(!e)return;let a,s,u=!1;for(Aa&&e.nodeType==1&&o<va(e)&&Xo(e.childNodes[o])&&(u=!0);;)if(o>0){if(e.nodeType!=1)break;{let l=e.childNodes[o-1];if(Xo(l))a=e,s=--o;else if(l.nodeType==3)e=l,o=e.nodeValue.length;else break}}else{if(zd(e))break;{let l=e.previousSibling;for(;l&&Xo(l);)a=e.parentNode,s=ci(l),l=l.previousSibling;if(l)e=l,o=va(e);else{if(e=e.parentNode,e==n.dom)break;o=0}}}u?Eu(n,e,o):a&&Eu(n,a,s)}function $d(n){let t=n.domSelectionRange(),e=t.focusNode,o=t.focusOffset;if(!e)return;let a=va(e),s,u;for(;;)if(o<a){if(e.nodeType!=1)break;let l=e.childNodes[o];if(Xo(l))s=e,u=++o;else break}else{if(zd(e))break;{let l=e.nextSibling;for(;l&&Xo(l);)s=l.parentNode,u=ci(l)+1,l=l.nextSibling;if(l)e=l,o=0,a=va(e);else{if(e=e.parentNode,e==n.dom)break;o=a=0}}}s&&Eu(n,s,u)}function zd(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function Eu(n,t,e){let o=n.domSelection();if(Ad(o)){let s=document.createRange();s.setEnd(t,e),s.setStart(t,e),o.removeAllRanges(),o.addRange(s)}else o.extend&&o.extend(t,e);n.domObserver.setCurSelection();let{state:a}=n;setTimeout(()=>{n.state==a&&Ju(n)},50)}function vp(n,t){let e=n.state.doc.resolve(t);if(!(Rr||px)&&e.parent.inlineContent){let o=n.coordsAtPos(t);if(t>e.start()){let a=n.coordsAtPos(t-1),s=(a.top+a.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(a.left-o.left)>1)return a.left<o.left?"ltr":"rtl"}if(t<e.end()){let a=n.coordsAtPos(t+1),s=(a.top+a.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(a.left-o.left)>1)return a.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function yp(n,t,e){let o=n.state.selection;if(o instanceof lt&&!o.empty||e.indexOf("s")>-1||qe&&e.indexOf("m")>-1)return!1;let{$from:a,$to:s}=o;if(!a.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let u=Au(n.state,t);if(u&&u instanceof Y)return Tr(n,u)}if(!a.parent.inlineContent){let u=t<0?a:s,l=o instanceof un?ct.near(u,t):ct.findFrom(u,t);return l?Tr(n,l):!1}return!1}function bp(n,t){if(!(n.state.selection instanceof lt))return!0;let{$head:e,$anchor:o,empty:a}=n.state.selection;if(!e.sameParent(o))return!0;if(!a)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let u=n.state.tr;return t<0?u.delete(e.pos-s.nodeSize,e.pos):u.delete(e.pos,e.pos+s.nodeSize),n.dispatch(u),!0}return!1}function wp(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function wx(n){if(!jr||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let o=t.firstChild;wp(n,o,"true"),setTimeout(()=>wp(n,o,"false"),20)}return!1}function xx(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function kx(n,t){let e=t.keyCode,o=xx(t);if(e==8||qe&&e==72&&o=="c")return bp(n,-1)||Fo(n,-1);if(e==46||qe&&e==68&&o=="c")return bp(n,1)||Fo(n,1);if(e==13||e==27)return!0;if(e==37||qe&&e==66&&o=="c"){let a=e==37?vp(n,n.state.selection.from)=="ltr"?-1:1:-1;return gp(n,a,o)||Fo(n,a)}else if(e==39||qe&&e==70&&o=="c"){let a=e==39?vp(n,n.state.selection.from)=="ltr"?1:-1:1;return gp(n,a,o)||Fo(n,a)}else{if(e==38||qe&&e==80&&o=="c")return yp(n,-1,o)||Fo(n,-1);if(e==40||qe&&e==78&&o=="c")return wx(n)||yp(n,1,o)||$d(n);if(o==(qe?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function Rd(n,t){n.someProp("transformCopied",x=>{t=x(t,n)});let e=[],{content:o,openStart:a,openEnd:s}=t;for(;a>1&&s>1&&o.childCount==1&&o.firstChild.childCount==1;){a--,s--;let x=o.firstChild;e.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),o=x.content}let u=n.someProp("clipboardSerializer")||Ar.fromSchema(n.state.schema),l=Vd(),f=l.createElement("div");f.appendChild(u.serializeFragment(o,{document:l}));let h=f.firstChild,d,v=0;for(;h&&h.nodeType==1&&(d=Fd[h.nodeName.toLowerCase()]);){for(let x=d.length-1;x>=0;x--){let O=l.createElement(d[x]);for(;f.firstChild;)O.appendChild(f.firstChild);f.appendChild(O),v++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${a} ${s}${v?` -${v}`:""} ${JSON.stringify(e)}`);let b=n.someProp("clipboardTextSerializer",x=>x(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:f,text:b}}function jd(n,t,e,o,a){let s=a.parent.type.spec.code,u,l;if(!e&&!t)return null;let f=t&&(o||s||!e);if(f){if(n.someProp("transformPastedText",b=>{t=b(t,s||o,n)}),s)return t?new K(F.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):K.empty;let v=n.someProp("clipboardTextParser",b=>b(t,a,o,n));if(v)l=v;else{let b=a.marks(),{schema:x}=n.state,O=Ar.fromSchema(x);u=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(C=>{let A=u.appendChild(document.createElement("p"));C&&A.appendChild(O.serializeNode(x.text(C,b)))})}}else n.someProp("transformPastedHTML",v=>{e=v(e,n)}),u=Cx(e),Uu&&Tx(u);let h=u&&u.querySelector("[data-pm-slice]"),d=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let v=+d[3];v>0;v--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||ni.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(f||d),context:a,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!Mx.test(v.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Ox(xp(l,+d[1],+d[2]),d[4]);else if(l=K.maxOpen(Sx(l.content,a),!0),l.openStart||l.openEnd){let v=0,b=0;for(let x=l.content.firstChild;v<l.openStart&&!x.type.spec.isolating;v++,x=x.firstChild);for(let x=l.content.lastChild;b<l.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild);l=xp(l,v,b)}return n.someProp("transformPasted",v=>{l=v(l,n)}),l}const Mx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Sx(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.index(e)),a,s=[];if(n.forEach(u=>{if(!s)return;let l=o.findWrapping(u.type),f;if(!l)return s=null;if(f=s.length&&a.length&&Pd(l,a,u,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=Hd(s[s.length-1],a.length));let h=Bd(u,l);s.push(h),o=o.matchType(h.type),a=l}}),s)return F.from(s)}return n}function Bd(n,t,e=0){for(let o=t.length-1;o>=e;o--)n=t[o].create(null,F.from(n));return n}function Pd(n,t,e,o,a){if(a<n.length&&a<t.length&&n[a]==t[a]){let s=Pd(n,t,e,o.lastChild,a+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(a==n.length-1?e.type:n[a+1]))return o.copy(o.content.append(F.from(Bd(e,n,a+1))))}}function Hd(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,Hd(n.lastChild,t-1)),o=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(e.append(o))}function Iu(n,t,e,o,a,s){let u=t<0?n.firstChild:n.lastChild,l=u.content;return n.childCount>1&&(s=0),a<o-1&&(l=Iu(l,t,e,o,a+1,s)),a>=e&&(l=t<0?u.contentMatchAt(0).fillBefore(l,s<=a).append(l):l.append(u.contentMatchAt(u.childCount).fillBefore(F.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,u.copy(l))}function xp(n,t,e){return t<n.openStart&&(n=new K(Iu(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new K(Iu(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const Fd={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kp=null;function Vd(){return kp||(kp=document.implementation.createHTMLDocument("title"))}function Cx(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=Vd().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(n),a;if((a=o&&Fd[o[1].toLowerCase()])&&(n=a.map(s=>"<"+s+">").join("")+n+a.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=n,a)for(let s=0;s<a.length;s++)e=e.querySelector(a[s])||e;return e}function Tx(n){let t=n.querySelectorAll(Rr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let o=t[e];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),o)}}function Ox(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,o;try{o=JSON.parse(t)}catch{return n}let{content:a,openStart:s,openEnd:u}=n;for(let l=o.length-2;l>=0;l-=2){let f=e.nodes[o[l]];if(!f||f.hasRequiredAttrs())break;a=F.from(f.create(o[l+1],a)),s++,u++}return new K(a,s,u)}const ln={},De={};function or(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}De.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!Wd(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(fi&&Rr&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),Ku&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let o=Date.now();n.input.lastIOSEnter=o,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==o&&(n.someProp("handleKeyDown",a=>a(n,Ed(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",o=>o(n,e))||kx(n,e)?e.preventDefault():or(n,"key")};De.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};De.keypress=(n,t)=>{let e=t;if(Wd(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||qe&&e.metaKey)return;if(n.someProp("handleKeyPress",a=>a(n,e))){e.preventDefault();return}let o=n.state.selection;if(!(o instanceof lt)||!o.$from.sameParent(o.$to)){let a=String.fromCharCode(e.charCode);!/[\r\n]/.test(a)&&!n.someProp("handleTextInput",s=>s(n,o.$from.pos,o.$to.pos,a))&&n.dispatch(n.state.tr.insertText(a).scrollIntoView()),e.preventDefault()}};function Ea(n){return{left:n.clientX,top:n.clientY}}function _x(n,t){let e=t.x-n.clientX,o=t.y-n.clientY;return e*e+o*o<100}function Gu(n,t,e,o,a){if(o==-1)return!1;let s=n.state.doc.resolve(o);for(let u=s.depth+1;u>0;u--)if(n.someProp(t,l=>u>s.depth?l(n,e,s.nodeAfter,s.before(u),a,!0):l(n,e,s.node(u),s.before(u),a,!1)))return!0;return!1}function lo(n,t,e){n.focused||n.focus();let o=n.state.tr.setSelection(t);e=="pointer"&&o.setMeta("pointer",!0),n.dispatch(o)}function Ax(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),o=e.nodeAfter;return o&&o.isAtom&&Y.isSelectable(o)?(lo(n,new Y(e),"pointer"),!0):!1}function Ex(n,t){if(t==-1)return!1;let e=n.state.selection,o,a;e instanceof Y&&(o=e.node);let s=n.state.doc.resolve(t);for(let u=s.depth+1;u>0;u--){let l=u>s.depth?s.nodeAfter:s.node(u);if(Y.isSelectable(l)){o&&e.$from.depth>0&&u>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?a=s.before(e.$from.depth):a=s.before(u);break}}return a!=null?(lo(n,Y.create(n.state.doc,a),"pointer"),!0):!1}function Ix(n,t,e,o,a){return Gu(n,"handleClickOn",t,e,o)||n.someProp("handleClick",s=>s(n,t,o))||(a?Ex(n,e):Ax(n,e))}function Nx(n,t,e,o){return Gu(n,"handleDoubleClickOn",t,e,o)||n.someProp("handleDoubleClick",a=>a(n,t,o))}function Dx(n,t,e,o){return Gu(n,"handleTripleClickOn",t,e,o)||n.someProp("handleTripleClick",a=>a(n,t,o))||Lx(n,e,o)}function Lx(n,t,e){if(e.button!=0)return!1;let o=n.state.doc;if(t==-1)return o.inlineContent?(lo(n,lt.create(o,0,o.content.size),"pointer"),!0):!1;let a=o.resolve(t);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s),l=a.before(s);if(u.inlineContent)lo(n,lt.create(o,l+1,l+1+u.content.size),"pointer");else if(Y.isSelectable(u))lo(n,Y.create(o,l),"pointer");else continue;return!0}}function Zu(n){return ya(n)}const qd=qe?"metaKey":"ctrlKey";ln.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let o=Zu(n),a=Date.now(),s="singleClick";a-n.input.lastClick.time<500&&_x(e,n.input.lastClick)&&!e[qd]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:a,x:e.clientX,y:e.clientY,type:s};let u=n.posAtCoords(Ea(e));u&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new $x(n,u,e,!!o)):(s=="doubleClick"?Nx:Dx)(n,u.pos,u.inside,e)?e.preventDefault():or(n,"pointer"))};class $x{constructor(t,e,o,a){this.view=t,this.pos=e,this.event=o,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!o[qd],this.allowDefault=o.shiftKey;let s,u;if(e.inside>-1)s=t.state.doc.nodeAt(e.inside),u=e.inside;else{let d=t.state.doc.resolve(e.pos);s=d.parent,u=d.depth?d.before():0}const l=a?null:o.target,f=l?t.docView.nearestDesc(l,!0):null;this.target=f?f.dom:null;let{selection:h}=t.state;(o.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof Y&&h.from<=u&&h.to>u)&&(this.mightDrag={node:s,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Aa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),or(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ju(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ea(t))),this.updateAllowDefault(t),this.allowDefault||!e?or(this.view,"pointer"):Ix(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||jr&&this.mightDrag&&!this.mightDrag.node.isAtom||Rr&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(lo(this.view,ct.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):or(this.view,"pointer")}move(t){this.updateAllowDefault(t),or(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ln.touchstart=n=>{n.input.lastTouch=Date.now(),Zu(n),or(n,"pointer")};ln.touchmove=n=>{n.input.lastTouch=Date.now(),or(n,"pointer")};ln.contextmenu=n=>Zu(n);function Wd(n,t){return n.composing?!0:jr&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const zx=fi?5e3:-1;De.compositionstart=De.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||e.marks(),ya(n,!0),n.markCursor=null;else if(ya(n),Aa&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let o=n.domSelectionRange();for(let a=o.focusNode,s=o.focusOffset;a&&a.nodeType==1&&s!=0;){let u=s<0?a.lastChild:a.childNodes[s-1];if(!u)break;if(u.nodeType==3){n.domSelection().collapse(u,u.nodeValue.length);break}else a=u,s=-1}}n.input.composing=!0}Kd(n,zx)};De.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionID++,Kd(n,20))};function Kd(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>ya(n),t))}function Rx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=jx());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function jx(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function ya(n,t=!1){if(!(fi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Rx(n),t||n.docView&&n.docView.dirty){let e=hx(n);return e&&!e.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(e)):n.updateState(n.state),!0}return!1}}function Bx(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),a=document.createRange();a.selectNodeContents(t),n.dom.blur(),o.removeAllRanges(),o.addRange(a),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}const fo=li&&Nd<15||Ku&&dx<604;ln.copy=De.cut=(n,t)=>{let e=t,o=n.state.selection,a=e.type=="cut";if(o.empty)return;let s=fo?null:e.clipboardData,u=o.content(),{dom:l,text:f}=Rd(n,u);s?(e.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",f)):Bx(n,l),a&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Px(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Hx(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,o=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(()=>{n.focus(),o.parentNode&&o.parentNode.removeChild(o),e?Nu(n,o.value,null,n.input.shiftKey,t):Nu(n,o.textContent,o.innerHTML,n.input.shiftKey,t)},50)}function Nu(n,t,e,o,a){let s=jd(n,t,e,o,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,a,s||K.empty)))return!0;if(!s)return!1;let u=Px(s),l=u?n.state.tr.replaceSelectionWith(u,n.input.shiftKey):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}De.paste=(n,t)=>{let e=t;if(n.composing&&!fi)return;let o=fo?null:e.clipboardData;o&&Nu(n,o.getData("text/plain"),o.getData("text/html"),n.input.shiftKey,e)?e.preventDefault():Hx(n,e)};class Fx{constructor(t,e){this.slice=t,this.move=e}}const Ud=qe?"altKey":"ctrlKey";ln.dragstart=(n,t)=>{let e=t,o=n.input.mouseDown;if(o&&o.done(),!e.dataTransfer)return;let a=n.state.selection,s=a.empty?null:n.posAtCoords(Ea(e));if(!(s&&s.pos>=a.from&&s.pos<=(a instanceof Y?a.to-1:a.to))){if(o&&o.mightDrag)n.dispatch(n.state.tr.setSelection(Y.create(n.state.doc,o.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){let h=n.docView.nearestDesc(e.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&n.dispatch(n.state.tr.setSelection(Y.create(n.state.doc,h.posBefore)))}}let u=n.state.selection.content(),{dom:l,text:f}=Rd(n,u);e.dataTransfer.clearData(),e.dataTransfer.setData(fo?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",fo||e.dataTransfer.setData("text/plain",f),n.dragging=new Fx(u,!e[Ud])};ln.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};De.dragover=De.dragenter=(n,t)=>t.preventDefault();De.drop=(n,t)=>{let e=t,o=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let a=n.posAtCoords(Ea(e));if(!a)return;let s=n.state.doc.resolve(a.pos),u=o&&o.slice;u?n.someProp("transformPasted",O=>{u=O(u,n)}):u=jd(n,e.dataTransfer.getData(fo?"Text":"text/plain"),fo?null:e.dataTransfer.getData("text/html"),!1,s);let l=!!(o&&!e[Ud]);if(n.someProp("handleDrop",O=>O(n,e,u||K.empty,l))){e.preventDefault();return}if(!u)return;e.preventDefault();let f=u?Md(n.state.doc,s.pos,u):s.pos;f==null&&(f=s.pos);let h=n.state.tr;l&&h.deleteSelection();let d=h.mapping.map(f),v=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(v?h.replaceRangeWith(d,d,u.content.firstChild):h.replaceRange(d,d,u),h.doc.eq(b))return;let x=h.doc.resolve(d);if(v&&Y.isSelectable(u.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new Y(x));else{let O=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((C,A,z,L)=>O=L),h.setSelection(Ld(n,x,h.doc.resolve(O)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};ln.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ju(n)},20))};ln.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ln.beforeinput=(n,t)=>{if(Rr&&fi&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:e}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=e||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,Ed(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in De)ln[n]=De[n];function ii(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class Xu{constructor(t,e){this.toDOM=t,this.spec=e||Dr,this.side=this.spec.side||0}map(t,e,o,a){let{pos:s,deleted:u}=t.mapResult(e.from+a,this.side<0?-1:1);return u?null:new kn(s-o,s-o,this)}valid(){return!0}eq(t){return this==t||t instanceof Xu&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ii(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ir{constructor(t,e){this.attrs=t,this.spec=e||Dr}map(t,e,o,a){let s=t.map(e.from+a,this.spec.inclusiveStart?-1:1)-o,u=t.map(e.to+a,this.spec.inclusiveEnd?1:-1)-o;return s>=u?null:new kn(s,u,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof ir&&ii(this.attrs,t.attrs)&&ii(this.spec,t.spec)}static is(t){return t.type instanceof ir}destroy(){}}class Yu{constructor(t,e){this.attrs=t,this.spec=e||Dr}map(t,e,o,a){let s=t.mapResult(e.from+a,1);if(s.deleted)return null;let u=t.mapResult(e.to+a,-1);return u.deleted||u.pos<=s.pos?null:new kn(s.pos-o,u.pos-o,this)}valid(t,e){let{index:o,offset:a}=t.content.findIndex(e.from),s;return a==e.from&&!(s=t.child(o)).isText&&a+s.nodeSize==e.to}eq(t){return this==t||t instanceof Yu&&ii(this.attrs,t.attrs)&&ii(this.spec,t.spec)}destroy(){}}class kn{constructor(t,e,o){this.from=t,this.to=e,this.type=o}copy(t,e){return new kn(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,o){return this.type.map(t,this,e,o)}static widget(t,e,o){return new kn(t,t,new Xu(e,o))}static inline(t,e,o,a){return new kn(t,e,new ir(o,a))}static node(t,e,o,a){return new kn(t,e,new Yu(o,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof ir}}const ao=[],Dr={};class Kt{constructor(t,e){this.local=t.length?t:ao,this.children=e.length?e:ao}static create(t,e){return e.length?ba(e,t,0,Dr):he}find(t,e,o){let a=[];return this.findInner(t??0,e??1e9,a,0,o),a}findInner(t,e,o,a,s){for(let u=0;u<this.local.length;u++){let l=this.local[u];l.from<=e&&l.to>=t&&(!s||s(l.spec))&&o.push(l.copy(l.from+a,l.to+a))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<e&&this.children[u+1]>t){let l=this.children[u]+1;this.children[u+2].findInner(t-l,e-l,o,a+l,s)}}map(t,e,o){return this==he||t.maps.length==0?this:this.mapInner(t,e,0,0,o||Dr)}mapInner(t,e,o,a,s){let u;for(let l=0;l<this.local.length;l++){let f=this.local[l].map(t,o,a);f&&f.type.valid(e,f)?(u||(u=[])).push(f):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?Vx(this.children,u||[],t,e,o,a,s):u?new Kt(u.sort(Lr),ao):he}add(t,e){return e.length?this==he?Kt.create(t,e):this.addInner(t,e,0):this}addInner(t,e,o){let a,s=0;t.forEach((l,f)=>{let h=f+o,d;if(d=Gd(e,l,h)){for(a||(a=this.children.slice());s<a.length&&a[s]<f;)s+=3;a[s]==f?a[s+2]=a[s+2].addInner(l,d,h+1):a.splice(s,0,f,f+l.nodeSize,ba(d,l,h+1,Dr)),s+=3}});let u=Jd(s?Zd(e):e,-o);for(let l=0;l<u.length;l++)u[l].type.valid(t,u[l])||u.splice(l--,1);return new Kt(u.length?this.local.concat(u).sort(Lr):this.local,a||this.children)}remove(t){return t.length==0||this==he?this:this.removeInner(t,0)}removeInner(t,e){let o=this.children,a=this.local;for(let s=0;s<o.length;s+=3){let u,l=o[s]+e,f=o[s+1]+e;for(let d=0,v;d<t.length;d++)(v=t[d])&&v.from>l&&v.to<f&&(t[d]=null,(u||(u=[])).push(v));if(!u)continue;o==this.children&&(o=this.children.slice());let h=o[s+2].removeInner(u,l+1);h!=he?o[s+2]=h:(o.splice(s,3),s-=3)}if(a.length){for(let s=0,u;s<t.length;s++)if(u=t[s])for(let l=0;l<a.length;l++)a[l].eq(u,e)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return o==this.children&&a==this.local?this:a.length||o.length?new Kt(a,o):he}forChild(t,e){if(this==he)return this;if(e.isLeaf)return Kt.empty;let o,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(o=this.children[l+2]);break}let s=t+1,u=s+e.content.size;for(let l=0;l<this.local.length;l++){let f=this.local[l];if(f.from<u&&f.to>s&&f.type instanceof ir){let h=Math.max(s,f.from)-s,d=Math.min(u,f.to)-s;h<d&&(a||(a=[])).push(f.copy(h,d))}}if(a){let l=new Kt(a.sort(Lr),ao);return o?new Or([l,o]):l}return o||he}eq(t){if(this==t)return!0;if(!(t instanceof Kt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Qu(this.localsInner(t))}localsInner(t){if(this==he)return ao;if(t.inlineContent||!this.local.some(ir.is))return this.local;let e=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof ir||e.push(this.local[o]);return e}}Kt.empty=new Kt([],[]);Kt.removeOverlap=Qu;const he=Kt.empty;class Or{constructor(t){this.members=t}map(t,e){const o=this.members.map(a=>a.map(t,e,Dr));return Or.from(o)}forChild(t,e){if(e.isLeaf)return Kt.empty;let o=[];for(let a=0;a<this.members.length;a++){let s=this.members[a].forChild(t,e);s!=he&&(s instanceof Or?o=o.concat(s.members):o.push(s))}return Or.from(o)}eq(t){if(!(t instanceof Or)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,o=!0;for(let a=0;a<this.members.length;a++){let s=this.members[a].localsInner(t);if(s.length)if(!e)e=s;else{o&&(e=e.slice(),o=!1);for(let u=0;u<s.length;u++)e.push(s[u])}}return e?Qu(o?e:e.sort(Lr)):ao}static from(t){switch(t.length){case 0:return he;case 1:return t[0];default:return new Or(t.every(e=>e instanceof Kt)?t:t.reduce((e,o)=>e.concat(o instanceof Kt?o:o.members),[]))}}}function Vx(n,t,e,o,a,s,u){let l=n.slice();for(let h=0,d=s;h<e.maps.length;h++){let v=0;e.maps[h].forEach((b,x,O,C)=>{let A=C-O-(x-b);for(let z=0;z<l.length;z+=3){let L=l[z+1];if(L<0||b>L+d-v)continue;let j=l[z]+d-v;x>=j?l[z+1]=b<=j?-2:-1:O>=a&&A&&(l[z]+=A,l[z+1]+=A)}v+=A}),d=e.maps[h].map(d,-1)}let f=!1;for(let h=0;h<l.length;h+=3)if(l[h+1]<0){if(l[h+1]==-2){f=!0,l[h+1]=-1;continue}let d=e.map(n[h]+s),v=d-a;if(v<0||v>=o.content.size){f=!0;continue}let b=e.map(n[h+1]+s,-1),x=b-a,{index:O,offset:C}=o.content.findIndex(v),A=o.maybeChild(O);if(A&&C==v&&C+A.nodeSize==x){let z=l[h+2].mapInner(e,A,d+1,n[h]+s+1,u);z!=he?(l[h]=v,l[h+1]=x,l[h+2]=z):(l[h+1]=-2,f=!0)}else f=!0}if(f){let h=qx(l,n,t,e,a,s,u),d=ba(h,o,0,u);t=d.local;for(let v=0;v<l.length;v+=3)l[v+1]<0&&(l.splice(v,3),v-=3);for(let v=0,b=0;v<d.children.length;v+=3){let x=d.children[v];for(;b<l.length&&l[b]<x;)b+=3;l.splice(b,0,d.children[v],d.children[v+1],d.children[v+2])}}return new Kt(t.sort(Lr),l)}function Jd(n,t){if(!t||!n.length)return n;let e=[];for(let o=0;o<n.length;o++){let a=n[o];e.push(new kn(a.from+t,a.to+t,a.type))}return e}function qx(n,t,e,o,a,s,u){function l(f,h){for(let d=0;d<f.local.length;d++){let v=f.local[d].map(o,a,h);v?e.push(v):u.onRemove&&u.onRemove(f.local[d].spec)}for(let d=0;d<f.children.length;d+=3)l(f.children[d+2],f.children[d]+h+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&l(n[f+2],t[f]+s+1);return e}function Gd(n,t,e){if(t.isLeaf)return null;let o=e+t.nodeSize,a=null;for(let s=0,u;s<n.length;s++)(u=n[s])&&u.from>e&&u.to<o&&((a||(a=[])).push(u),n[s]=null);return a}function Zd(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function ba(n,t,e,o){let a=[],s=!1;t.forEach((l,f)=>{let h=Gd(n,l,f+e);if(h){s=!0;let d=ba(h,l,e+f+1,o);d!=he&&a.push(f,f+l.nodeSize,d)}});let u=Jd(s?Zd(n):n,-e).sort(Lr);for(let l=0;l<u.length;l++)u[l].type.valid(t,u[l])||(o.onRemove&&o.onRemove(u[l].spec),u.splice(l--,1));return u.length||a.length?new Kt(u,a):he}function Lr(n,t){return n.from-t.from||n.to-t.to}function Qu(n){let t=n;for(let e=0;e<t.length-1;e++){let o=t[e];if(o.from!=o.to)for(let a=e+1;a<t.length;a++){let s=t[a];if(s.from==o.from){s.to!=o.to&&(t==n&&(t=n.slice()),t[a]=s.copy(s.from,o.to),Mp(t,a+1,s.copy(o.to,s.to)));continue}else{s.from<o.to&&(t==n&&(t=n.slice()),t[e]=o.copy(o.from,s.from),Mp(t,a,o.copy(s.from,o.to)));break}}}return t}function Mp(n,t,e){for(;t<n.length&&Lr(e,n[t])>0;)t++;n.splice(t,0,e)}var sr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Sp=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Wx=typeof navigator<"u"&&/Mac/.test(navigator.platform),Kx=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ux=Wx||Sp&&+Sp[1]<57;for(var Yt=0;Yt<10;Yt++)sr[48+Yt]=sr[96+Yt]=String(Yt);for(var Yt=1;Yt<=24;Yt++)sr[Yt+111]="F"+Yt;for(var Yt=65;Yt<=90;Yt++)sr[Yt]=String.fromCharCode(Yt+32),wa[Yt]=String.fromCharCode(Yt);for(var su in sr)wa.hasOwnProperty(su)||(wa[su]=sr[su]);function Jx(n){var t=Ux&&(n.ctrlKey||n.altKey||n.metaKey)||Kx&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?wa:sr)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}const Gx=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Zx(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let o,a,s,u;for(let l=0;l<t.length-1;l++){let f=t[l];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))o=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Gx?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+f)}return o&&(e="Alt-"+e),a&&(e="Ctrl-"+e),u&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function Xx(n){let t=Object.create(null);for(let e in n)t[Zx(e)]=n[e];return t}function uu(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function Yx(n){let t=Xx(n);return function(e,o){let a=Jx(o),s,u=t[uu(a,o)];if(u&&u(e.state,e.dispatch,e))return!0;if(a.length==1&&a!=" "){if(o.shiftKey){let l=t[uu(a,o,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((o.shiftKey||o.altKey||o.metaKey||a.charCodeAt(0)>127)&&(s=sr[o.keyCode])&&s!=a){let l=t[uu(s,o)];if(l&&l(e.state,e.dispatch,e))return!0}}return!1}}const Qx=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function tk(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}const ek=(n,t,e)=>{let o=tk(n,e);if(!o)return!1;let a=Xd(o);if(!a){let u=o.blockRange(),l=u&&wo(u);return l==null?!1:(t&&t(n.tr.lift(u,l).scrollIntoView()),!0)}let s=a.nodeBefore;if(!s.type.spec.isolating&&th(n,a,t))return!0;if(o.parent.content.size==0&&(po(s,"end")||Y.isSelectable(s))){let u=Sd(n.doc,o.before(),o.after(),K.empty);if(u&&u.slice.size<u.to-u.from){if(t){let l=n.tr.step(u);l.setSelection(po(s,"end")?ct.findFrom(l.doc.resolve(l.mapping.map(a.pos,-1)),-1):Y.create(l.doc,a.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}}return s.isAtom&&a.depth==o.depth-1?(t&&t(n.tr.delete(a.pos-s.nodeSize,a.pos).scrollIntoView()),!0):!1};function po(n,t,e=!1){for(let o=n;o;o=t=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(e&&o.childCount!=1)return!1}return!1}const nk=(n,t,e)=>{let{$head:o,empty:a}=n.selection,s=o;if(!a)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):o.parentOffset>0)return!1;s=Xd(o)}let u=s&&s.nodeBefore;return!u||!Y.isSelectable(u)?!1:(t&&t(n.tr.setSelection(Y.create(n.doc,s.pos-u.nodeSize)).scrollIntoView()),!0)};function Xd(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function rk(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}const ok=(n,t,e)=>{let o=rk(n,e);if(!o)return!1;let a=Yd(o);if(!a)return!1;let s=a.nodeAfter;if(th(n,a,t))return!0;if(o.parent.content.size==0&&(po(s,"start")||Y.isSelectable(s))){let u=Sd(n.doc,o.before(),o.after(),K.empty);if(u&&u.slice.size<u.to-u.from){if(t){let l=n.tr.step(u);l.setSelection(po(s,"start")?ct.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):Y.create(l.doc,l.mapping.map(a.pos))),t(l.scrollIntoView())}return!0}}return s.isAtom&&a.depth==o.depth-1?(t&&t(n.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0):!1},ik=(n,t,e)=>{let{$head:o,empty:a}=n.selection,s=o;if(!a)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):o.parentOffset<o.parent.content.size)return!1;s=Yd(o)}let u=s&&s.nodeAfter;return!u||!Y.isSelectable(u)?!1:(t&&t(n.tr.setSelection(Y.create(n.doc,s.pos)).scrollIntoView()),!0)};function Yd(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const ak=(n,t)=>{let e=n.selection,o=e instanceof Y,a;if(o){if(e.node.isTextblock||!ur(n.doc,e.from))return!1;a=e.from}else if(a=kd(n.doc,e.from,-1),a==null)return!1;if(t){let s=n.tr.join(a);o&&s.setSelection(Y.create(s.doc,a-n.doc.resolve(a).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},sk=(n,t)=>{let e=n.selection,o;if(e instanceof Y){if(e.node.isTextblock||!ur(n.doc,e.to))return!1;o=e.to}else if(o=kd(n.doc,e.to,1),o==null)return!1;return t&&t(n.tr.join(o).scrollIntoView()),!0},uk=(n,t)=>{let{$from:e,$to:o}=n.selection,a=e.blockRange(o),s=a&&wo(a);return s==null?!1:(t&&t(n.tr.lift(a,s).scrollIntoView()),!0)},ck=(n,t)=>{let{$head:e,$anchor:o}=n.selection;return!e.parent.type.spec.code||!e.sameParent(o)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function Qd(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const lk=(n,t)=>{let{$head:e,$anchor:o}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(o))return!1;let a=e.node(-1),s=e.indexAfter(-1),u=Qd(a.contentMatchAt(s));if(!u||!a.canReplaceWith(s,s,u))return!1;if(t){let l=e.after(),f=n.tr.replaceWith(l,l,u.createAndFill());f.setSelection(ct.near(f.doc.resolve(l),1)),t(f.scrollIntoView())}return!0},fk=(n,t)=>{let e=n.selection,{$from:o,$to:a}=e;if(e instanceof un||o.parent.inlineContent||a.parent.inlineContent)return!1;let s=Qd(a.parent.contentMatchAt(a.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let u=(!o.parentOffset&&a.index()<a.parent.childCount?o:a).pos,l=n.tr.insert(u,s.createAndFill());l.setSelection(lt.create(l.doc,u+1)),t(l.scrollIntoView())}return!0},pk=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(co(n.doc,s))return t&&t(n.tr.split(s).scrollIntoView()),!0}let o=e.blockRange(),a=o&&wo(o);return a==null?!1:(t&&t(n.tr.lift(o,a).scrollIntoView()),!0)},dk=(n,t)=>{let{$from:e,to:o}=n.selection,a,s=e.sharedDepth(o);return s==0?!1:(a=e.before(s),t&&t(n.tr.setSelection(Y.create(n.doc,a))),!0)};function hk(n,t,e){let o=t.nodeBefore,a=t.nodeAfter,s=t.index();return!o||!a||!o.type.compatibleContent(a.type)?!1:!o.content.size&&t.parent.canReplace(s-1,s)?(e&&e(n.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(a.isTextblock||ur(n.doc,t.pos))?!1:(e&&e(n.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0)}function th(n,t,e){let o=t.nodeBefore,a=t.nodeAfter,s,u;if(o.type.spec.isolating||a.type.spec.isolating)return!1;if(hk(n,t,e))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(s=(u=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(e){let v=t.pos+a.nodeSize,b=F.empty;for(let C=s.length-1;C>=0;C--)b=F.from(s[C].create(null,b));b=F.from(o.copy(b));let x=n.tr.step(new ke(t.pos-1,v,t.pos,v,new K(b,1,0),s.length,!0)),O=v+2*s.length;ur(x.doc,O)&&x.join(O),e(x.scrollIntoView())}return!0}let f=ct.findFrom(t,1),h=f&&f.$from.blockRange(f.$to),d=h&&wo(h);if(d!=null&&d>=t.depth)return e&&e(n.tr.lift(h,d).scrollIntoView()),!0;if(l&&po(a,"start",!0)&&po(o,"end")){let v=o,b=[];for(;b.push(v),!v.isTextblock;)v=v.lastChild;let x=a,O=1;for(;!x.isTextblock;x=x.firstChild)O++;if(v.canReplace(v.childCount,v.childCount,x.content)){if(e){let C=F.empty;for(let z=b.length-1;z>=0;z--)C=F.from(b[z].copy(C));let A=n.tr.step(new ke(t.pos-b.length,t.pos+a.nodeSize,t.pos+O,t.pos+a.nodeSize-O,new K(C,b.length,0),0,!0));e(A.scrollIntoView())}return!0}}return!1}function eh(n){return function(t,e){let o=t.selection,a=n<0?o.$from:o.$to,s=a.depth;for(;a.node(s).isInline;){if(!s)return!1;s--}return a.node(s).isTextblock?(e&&e(t.tr.setSelection(lt.create(t.doc,n<0?a.start(s):a.end(s)))),!0):!1}}const mk=eh(-1),gk=eh(1);function vk(n,t=null){return function(e,o){let{$from:a,$to:s}=e.selection,u=a.blockRange(s),l=u&&qu(u,n,t);return l?(o&&o(e.tr.wrap(u,l).scrollIntoView()),!0):!1}}function Cp(n,t=null){return function(e,o){let a=!1;for(let s=0;s<e.selection.ranges.length&&!a;s++){let{$from:{pos:u},$to:{pos:l}}=e.selection.ranges[s];e.doc.nodesBetween(u,l,(f,h)=>{if(a)return!1;if(!(!f.isTextblock||f.hasMarkup(n,t)))if(f.type==n)a=!0;else{let d=e.doc.resolve(h),v=d.index();a=d.parent.canReplaceWith(v,v+1,n)}})}if(!a)return!1;if(o){let s=e.tr;for(let u=0;u<e.selection.ranges.length;u++){let{$from:{pos:l},$to:{pos:f}}=e.selection.ranges[u];s.setBlockType(l,f,n,t)}o(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yk(n,t=null){return function(e,o){let{$from:a,$to:s}=e.selection,u=a.blockRange(s),l=!1,f=u;if(!u)return!1;if(u.depth>=2&&a.node(u.depth-1).type.compatibleContent(n)&&u.startIndex==0){if(a.index(u.depth-1)==0)return!1;let d=e.doc.resolve(u.start-2);f=new Mu(d,d,u.depth),u.endIndex<u.parent.childCount&&(u=new Mu(a,e.doc.resolve(s.end(u.depth)),u.depth)),l=!0}let h=qu(f,n,t,u);return h?(o&&o(bk(e.tr,u,h,l,n).scrollIntoView()),!0):!1}}function bk(n,t,e,o,a){let s=F.empty;for(let d=e.length-1;d>=0;d--)s=F.from(e[d].type.create(e[d].attrs,s));n.step(new ke(t.start-(o?2:0),t.end,t.start,t.end,new K(s,0,0),e.length,!0));let u=0;for(let d=0;d<e.length;d++)e[d].type==a&&(u=d+1);let l=e.length-u,f=t.start+e.length-(o?2:0),h=t.parent;for(let d=t.startIndex,v=t.endIndex,b=!0;d<v;d++,b=!1)!b&&co(n.doc,f,l)&&(n.split(f,l),f+=2*l),f+=h.child(d).nodeSize;return n}function wk(n){return function(t,e){let{$from:o,$to:a}=t.selection,s=o.blockRange(a,u=>u.childCount>0&&u.firstChild.type==n);return s?e?o.node(s.depth-1).type==n?xk(t,e,n,s):kk(t,e,s):!0:!1}}function xk(n,t,e,o){let a=n.tr,s=o.end,u=o.$to.end(o.depth);s<u&&(a.step(new ke(s-1,u,s,u,new K(F.from(e.create(null,o.parent.copy())),1,0),1,!0)),o=new Mu(a.doc.resolve(o.$from.pos),a.doc.resolve(u),o.depth));const l=wo(o);if(l==null)return!1;a.lift(o,l);let f=a.mapping.map(s,-1)-1;return ur(a.doc,f)&&a.join(f),t(a.scrollIntoView()),!0}function kk(n,t,e){let o=n.tr,a=e.parent;for(let x=e.end,O=e.endIndex-1,C=e.startIndex;O>C;O--)x-=a.child(O).nodeSize,o.delete(x-1,x+1);let s=o.doc.resolve(e.start),u=s.nodeAfter;if(o.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let l=e.startIndex==0,f=e.endIndex==a.childCount,h=s.node(-1),d=s.index(-1);if(!h.canReplace(d+(l?0:1),d+1,u.content.append(f?F.empty:F.from(a))))return!1;let v=s.pos,b=v+u.nodeSize;return o.step(new ke(v-(l?1:0),b+(f?1:0),v+1,b-1,new K((l?F.empty:F.from(a.copy(F.empty))).append(f?F.empty:F.from(a.copy(F.empty))),l?0:1,f?0:1),l?0:1)),t(o.scrollIntoView()),!0}function Mk(n){return function(t,e){let{$from:o,$to:a}=t.selection,s=o.blockRange(a,h=>h.childCount>0&&h.firstChild.type==n);if(!s)return!1;let u=s.startIndex;if(u==0)return!1;let l=s.parent,f=l.child(u-1);if(f.type!=n)return!1;if(e){let h=f.lastChild&&f.lastChild.type==l.type,d=F.from(h?n.create():null),v=new K(F.from(n.create(null,F.from(l.type.create(null,d)))),h?3:1,0),b=s.start,x=s.end;e(t.tr.step(new ke(b-(h?3:1),x,b,x,v,1,!0)).scrollIntoView())}return!0}}function nh(n){const{state:t,transaction:e}=n;let{selection:o}=e,{doc:a}=e,{storedMarks:s}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return o},get doc(){return a},get tr(){return o=e.selection,a=e.doc,s=e.storedMarks,e}}}class Sk{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:o}=this,{view:a}=e,{tr:s}=o,u=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([l,f])=>[l,(...h)=>{const d=f(...h)(u);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:o,editor:a,state:s}=this,{view:u}=a,l=[],f=!!t,h=t||s.tr,d=()=>(!f&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),l.every(b=>b===!0)),v={...Object.fromEntries(Object.entries(o).map(([b,x])=>[b,(...O)=>{const C=this.buildProps(h,e),A=x(...O)(C);return l.push(A),v}])),run:d};return v}createCan(t){const{rawCommands:e,state:o}=this,a=!1,s=t||o.tr,u=this.buildProps(s,a);return{...Object.fromEntries(Object.entries(e).map(([l,f])=>[l,(...h)=>f(...h)({...u,dispatch:void 0})])),chain:()=>this.createChain(s,a)}}buildProps(t,e=!0){const{rawCommands:o,editor:a,state:s}=this,{view:u}=a;s.storedMarks&&t.setStoredMarks(s.storedMarks);const l={tr:t,editor:a,view:u,state:nh({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(o).map(([f,h])=>[f,(...d)=>h(...d)(l)]))}};return l}}function Ht(n,t,e){return n.config[t]===void 0&&n.parent?Ht(n.parent,t,e):typeof n.config[t]=="function"?n.config[t].bind({...e,parent:n.parent?Ht(n.parent,t,e):null}):n.config[t]}function Ck(n){const t=n.filter(a=>a.type==="extension"),e=n.filter(a=>a.type==="node"),o=n.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:o}}function ne(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}function Jt(...n){return n.filter(t=>!!t).reduce((t,e)=>{const o={...t};return Object.entries(e).forEach(([a,s])=>{if(!o[a]){o[a]=s;return}a==="class"?o[a]=[o[a],s].join(" "):a==="style"?o[a]=[o[a],s].join("; "):o[a]=s}),o},{})}function Tk(n){return typeof n=="function"}function Et(n,t=void 0,...e){return Tk(n)?t?n.bind(t)(...e):n(...e):n}function Ok(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ia{constructor(t){this.find=t.find,this.handler=t.handler}}class _k{constructor(t){this.find=t.find,this.handler=t.handler}}function Ak(n){return Object.prototype.toString.call(n).slice(8,-1)}function cu(n){return Ak(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Na(n,t){const e={...n};return cu(n)&&cu(t)&&Object.keys(t).forEach(o=>{cu(t[o])?o in n?e[o]=Na(n[o],t[o]):Object.assign(e,{[o]:t[o]}):Object.assign(e,{[o]:t[o]})}),e}class me{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Et(Ht(this,"addOptions",{name:this.name}))),this.storage=Et(Ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new me(t)}configure(t={}){const e=this.extend();return e.options=Na(this.options,t),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new me(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Et(Ht(e,"addOptions",{name:e.name})),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}}function Ek(n,t,e){const{from:o,to:a}=t,{blockSeparator:s=`

`,textSerializers:u={}}=e||{};let l="",f=!0;return n.nodesBetween(o,a,(h,d,v,b)=>{var x;const O=u==null?void 0:u[h.type.name];O?(h.isBlock&&!f&&(l+=s,f=!0),v&&(l+=O({node:h,pos:d,parent:v,index:b,range:t}))):h.isText?(l+=(x=h==null?void 0:h.text)===null||x===void 0?void 0:x.slice(Math.max(o,d)-d,a-d),f=!1):h.isBlock&&!f&&(l+=s,f=!0)}),l}function Ik(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}me.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new cn({key:new _n("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:t,schema:e}=n,{doc:o,selection:a}=t,{ranges:s}=a,u=Math.min(...s.map(h=>h.$from.pos)),l=Math.max(...s.map(h=>h.$to.pos)),f=Ik(e);return Ek(o,{from:u,to:l},{textSerializers:f})}}})]}});const Nk=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var e;n.isDestroyed||(t.dom.blur(),(e=window==null?void 0:window.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),Dk=(n=!1)=>({commands:t})=>t.setContent("",n),Lk=()=>({state:n,tr:t,dispatch:e})=>{const{selection:o}=t,{ranges:a}=o;return e&&a.forEach(({$from:s,$to:u})=>{n.doc.nodesBetween(s.pos,u.pos,(l,f)=>{if(l.type.isText)return;const{doc:h,mapping:d}=t,v=h.resolve(d.map(f)),b=h.resolve(d.map(f+l.nodeSize)),x=v.blockRange(b);if(!x)return;const O=wo(x);if(l.type.isTextblock){const{defaultType:C}=v.parent.contentMatchAt(v.index());t.setNodeMarkup(x.start,C)}(O||O===0)&&t.lift(x,O)})}),!0},$k=n=>t=>n(t),zk=()=>({state:n,dispatch:t})=>fk(n,t),Rk=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,o=e.$anchor.node();if(o.content.size>0)return!1;const a=n.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===o.type){if(t){const u=a.before(s),l=a.after(s);n.delete(u,l).scrollIntoView()}return!0}return!1},jk=n=>({tr:t,state:e,dispatch:o})=>{const a=ne(n,e.schema),s=t.selection.$anchor;for(let u=s.depth;u>0;u-=1)if(s.node(u).type===a){if(o){const l=s.before(u),f=s.after(u);t.delete(l,f).scrollIntoView()}return!0}return!1},Bk=n=>({tr:t,dispatch:e})=>{const{from:o,to:a}=n;return e&&t.delete(o,a),!0},Pk=()=>({state:n,dispatch:t})=>Qx(n,t),Hk=()=>({commands:n})=>n.keyboardShortcut("Enter"),Fk=()=>({state:n,dispatch:t})=>lk(n,t);function xa(n,t,e={strict:!0}){const o=Object.keys(t);return o.length?o.every(a=>e.strict?t[a]===n[a]:Ok(t[a])?t[a].test(n[a]):t[a]===n[a]):!0}function Du(n,t,e={}){return n.find(o=>o.type===t&&xa(o.attrs,e))}function Vk(n,t,e={}){return!!Du(n,t,e)}function tc(n,t,e={}){if(!n||!t)return;let o=n.parent.childAfter(n.parentOffset);if(n.parentOffset===o.offset&&o.offset!==0&&(o=n.parent.childBefore(n.parentOffset)),!o.node)return;const a=Du([...o.node.marks],t,e);if(!a)return;let s=o.index,u=n.start()+o.offset,l=s+1,f=u+o.node.nodeSize;for(Du([...o.node.marks],t,e);s>0&&a.isInSet(n.parent.child(s-1).marks);)s-=1,u-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&Vk([...n.parent.child(l).marks],t,e);)f+=n.parent.child(l).nodeSize,l+=1;return{from:u,to:f}}function lr(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}const qk=(n,t={})=>({tr:e,state:o,dispatch:a})=>{const s=lr(n,o.schema),{doc:u,selection:l}=e,{$from:f,from:h,to:d}=l;if(a){const v=tc(f,s,t);if(v&&v.from<=h&&v.to>=d){const b=lt.create(u,v.from,v.to);e.setSelection(b)}}return!0},Wk=n=>t=>{const e=typeof n=="function"?n(t):n;for(let o=0;o<e.length;o+=1)if(e[o](t))return!0;return!1};function ec(n){return n instanceof lt}function Fn(n=0,t=0,e=0){return Math.min(Math.max(n,t),e)}function Kk(n,t=null){if(!t)return null;const e=ct.atStart(n),o=ct.atEnd(n);if(t==="start"||t===!0)return e;if(t==="end")return o;const a=e.from,s=o.to;return t==="all"?lt.create(n,Fn(0,a,s),Fn(n.content.size,a,s)):lt.create(n,Fn(t,a,s),Fn(t,a,s))}function nc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Uk=(n=null,t={})=>({editor:e,view:o,tr:a,dispatch:s})=>{t={scrollIntoView:!0,...t};const u=()=>{nc()&&o.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(o.focus(),t!=null&&t.scrollIntoView&&e.commands.scrollIntoView())})};if(o.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!ec(e.state.selection))return u(),!0;const l=Kk(a.doc,n)||e.state.selection,f=e.state.selection.eq(l);return s&&(f||a.setSelection(l),f&&a.storedMarks&&a.setStoredMarks(a.storedMarks),u()),!0},Jk=(n,t)=>e=>n.every((o,a)=>t(o,{...e,index:a})),Gk=(n,t)=>({tr:e,commands:o})=>o.insertContentAt({from:e.selection.from,to:e.selection.to},n,t);function Tp(n){const t=`<body>${n}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function ka(n,t,e){if(e={slice:!0,parseOptions:{},...e},typeof n=="object"&&n!==null)try{return Array.isArray(n)&&n.length>0?F.fromArray(n.map(o=>t.nodeFromJSON(o))):t.nodeFromJSON(n)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),ka("",t,e)}if(typeof n=="string"){const o=ni.fromSchema(t);return e.slice?o.parseSlice(Tp(n),e.parseOptions).content:o.parse(Tp(n),e.parseOptions)}return ka("",t,e)}function Zk(n,t,e){const o=n.steps.length-1;if(o<t)return;const a=n.steps[o];if(!(a instanceof We||a instanceof ke))return;const s=n.mapping.maps[o];let u=0;s.forEach((l,f,h,d)=>{u===0&&(u=d)}),n.setSelection(ct.near(n.doc.resolve(u),e))}const Xk=n=>n.toString().startsWith("<"),Yk=(n,t,e)=>({tr:o,dispatch:a,editor:s})=>{if(a){e={parseOptions:{},updateSelection:!0,...e};const u=ka(t,s.schema,{parseOptions:{preserveWhitespace:"full",...e.parseOptions}});if(u.toString()==="<>")return!0;let{from:l,to:f}=typeof n=="number"?{from:n,to:n}:n,h=!0,d=!0;if((Xk(u)?u:[u]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,d=d?v.isBlock:!1}),l===f&&d){const{parent:v}=o.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,f+=1)}h?Array.isArray(t)?o.insertText(t.map(v=>v.text||"").join(""),l,f):typeof t=="object"&&t&&t.text?o.insertText(t.text,l,f):o.insertText(t,l,f):o.replaceWith(l,f,u),e.updateSelection&&Zk(o,o.steps.length-1,-1)}return!0},Qk=()=>({state:n,dispatch:t})=>ak(n,t),tM=()=>({state:n,dispatch:t})=>sk(n,t),eM=()=>({state:n,dispatch:t})=>ek(n,t),nM=()=>({state:n,dispatch:t})=>ok(n,t);function rh(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rM(n){const t=n.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let o,a,s,u;for(let l=0;l<t.length-1;l+=1){const f=t[l];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))o=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))nc()||rh()?u=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return o&&(e=`Alt-${e}`),a&&(e=`Ctrl-${e}`),u&&(e=`Meta-${e}`),s&&(e=`Shift-${e}`),e}const oM=n=>({editor:t,view:e,tr:o,dispatch:a})=>{const s=rM(n).split(/-(?!$)/),u=s.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),l=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=t.captureTransaction(()=>{e.someProp("handleKeyDown",h=>h(e,l))});return f==null||f.steps.forEach(h=>{const d=h.map(o.mapping);d&&a&&o.maybeStep(d)}),!0};function rc(n,t,e={}){const{from:o,to:a,empty:s}=n.selection,u=t?ne(t,n.schema):null,l=[];n.doc.nodesBetween(o,a,(d,v)=>{if(d.isText)return;const b=Math.max(o,v),x=Math.min(a,v+d.nodeSize);l.push({node:d,from:b,to:x})});const f=a-o,h=l.filter(d=>u?u.name===d.node.type.name:!0).filter(d=>xa(d.node.attrs,e,{strict:!1}));return s?!!h.length:h.reduce((d,v)=>d+v.to-v.from,0)>=f}const iM=(n,t={})=>({state:e,dispatch:o})=>{const a=ne(n,e.schema);return rc(e,a,t)?uk(e,o):!1},aM=()=>({state:n,dispatch:t})=>pk(n,t),sM=n=>({state:t,dispatch:e})=>{const o=ne(n,t.schema);return wk(o)(t,e)},uM=()=>({state:n,dispatch:t})=>ck(n,t);function oh(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function Op(n,t){const e=typeof t=="string"?[t]:t;return Object.keys(n).reduce((o,a)=>(e.includes(a)||(o[a]=n[a]),o),{})}const cM=(n,t)=>({tr:e,state:o,dispatch:a})=>{let s=null,u=null;const l=oh(typeof n=="string"?n:n.name,o.schema);return l?(l==="node"&&(s=ne(n,o.schema)),l==="mark"&&(u=lr(n,o.schema)),a&&e.selection.ranges.forEach(f=>{o.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,d)=>{s&&s===h.type&&e.setNodeMarkup(d,void 0,Op(h.attrs,t)),u&&h.marks.length&&h.marks.forEach(v=>{u===v.type&&e.addMark(d,d+h.nodeSize,u.create(Op(v.attrs,t)))})})}),!0):!1},lM=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),fM=()=>({tr:n,commands:t})=>t.setTextSelection({from:0,to:n.doc.content.size}),pM=()=>({state:n,dispatch:t})=>nk(n,t),dM=()=>({state:n,dispatch:t})=>ik(n,t),hM=()=>({state:n,dispatch:t})=>dk(n,t),mM=()=>({state:n,dispatch:t})=>gk(n,t),gM=()=>({state:n,dispatch:t})=>mk(n,t);function vM(n,t,e={}){return ka(n,t,{slice:!1,parseOptions:e})}const yM=(n,t=!1,e={})=>({tr:o,editor:a,dispatch:s})=>{const{doc:u}=o,l=vM(n,a.schema,e);return s&&o.replaceWith(0,u.content.size,l).setMeta("preventUpdate",!t),!0};function bM(n){for(let t=0;t<n.edgeCount;t+=1){const{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function wM(n,t){for(let e=n.depth;e>0;e-=1){const o=n.node(e);if(t(o))return{pos:e>0?n.before(e):0,start:n.start(e),depth:e,node:o}}}function oc(n){return t=>wM(t.$from,n)}function ic(n,t){const e=lr(t,n.schema),{from:o,to:a,empty:s}=n.selection,u=[];s?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(o,a,f=>{u.push(...f.marks)});const l=u.find(f=>f.type.name===e.name);return l?{...l.attrs}:{}}function ih(n,t,e){const o=[];return n===t?e.resolve(n).marks().forEach(a=>{const s=e.resolve(n-1),u=tc(s,a.type);u&&o.push({mark:a,...u})}):e.nodesBetween(n,t,(a,s)=>{o.push(...a.marks.map(u=>({from:s,to:s+a.nodeSize,mark:u})))}),o}function fa(n,t,e){return Object.fromEntries(Object.entries(e).filter(([o])=>{const a=n.find(s=>s.type===t&&s.name===o);return a?a.attribute.keepOnSplit:!1}))}function xM(n,t,e={}){const{empty:o,ranges:a}=n.selection,s=t?lr(t,n.schema):null;if(o)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>xa(d.attrs,e,{strict:!1}));let u=0;const l=[];if(a.forEach(({$from:d,$to:v})=>{const b=d.pos,x=v.pos;n.doc.nodesBetween(b,x,(O,C)=>{if(!O.isText&&!O.marks.length)return;const A=Math.max(b,C),z=Math.min(x,C+O.nodeSize),L=z-A;u+=L,l.push(...O.marks.map(j=>({mark:j,from:A,to:z})))})}),u===0)return!1;const f=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>xa(d.mark.attrs,e,{strict:!1})).reduce((d,v)=>d+v.to-v.from,0),h=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,v)=>d+v.to-v.from,0);return(f>0?f+h:f)>=u}function _p(n,t){const{nodeExtensions:e}=Ck(t),o=e.find(u=>u.name===n);if(!o)return!1;const a={name:o.name,options:o.options,storage:o.storage},s=Et(Ht(o,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function kM(n){return n instanceof Y}function ah(n,t,e){const o=n.state.doc.content.size,a=Fn(t,0,o),s=Fn(e,0,o),u=n.coordsAtPos(a),l=n.coordsAtPos(s,-1),f=Math.min(u.top,l.top),h=Math.max(u.bottom,l.bottom),d=Math.min(u.left,l.left),v=Math.max(u.right,l.right),b=v-d,x=h-f,O={top:f,bottom:h,left:d,right:v,width:b,height:x,x:d,y:f};return{...O,toJSON:()=>O}}function MM(n,t,e){var o;const{selection:a}=t;let s=null;if(ec(a)&&(s=a.$cursor),s){const l=(o=n.storedMarks)!==null&&o!==void 0?o:s.marks();return!!e.isInSet(l)||!l.some(f=>f.type.excludes(e))}const{ranges:u}=a;return u.some(({$from:l,$to:f})=>{let h=l.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(e):!1;return n.doc.nodesBetween(l.pos,f.pos,(d,v,b)=>{if(h)return!1;if(d.isInline){const x=!b||b.type.allowsMarkType(e),O=!!e.isInSet(d.marks)||!d.marks.some(C=>C.type.excludes(e));h=x&&O}return!h}),h})}const SM=(n,t={})=>({tr:e,state:o,dispatch:a})=>{const{selection:s}=e,{empty:u,ranges:l}=s,f=lr(n,o.schema);if(a)if(u){const h=ic(o,f);e.addStoredMark(f.create({...h,...t}))}else l.forEach(h=>{const d=h.$from.pos,v=h.$to.pos;o.doc.nodesBetween(d,v,(b,x)=>{const O=Math.max(x,d),C=Math.min(x+b.nodeSize,v);b.marks.find(A=>A.type===f)?b.marks.forEach(A=>{f===A.type&&e.addMark(O,C,f.create({...A.attrs,...t}))}):e.addMark(O,C,f.create(t))})});return MM(o,e,f)},CM=(n,t)=>({tr:e})=>(e.setMeta(n,t),!0),TM=(n,t={})=>({state:e,dispatch:o,chain:a})=>{const s=ne(n,e.schema);return s.isTextblock?a().command(({commands:u})=>Cp(s,t)(e)?!0:u.clearNodes()).command(({state:u})=>Cp(s,t)(u,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},OM=n=>({tr:t,dispatch:e})=>{if(e){const{doc:o}=t,a=Fn(n,0,o.content.size),s=Y.create(o,a);t.setSelection(s)}return!0},_M=n=>({tr:t,dispatch:e})=>{if(e){const{doc:o}=t,{from:a,to:s}=typeof n=="number"?{from:n,to:n}:n,u=lt.atStart(o).from,l=lt.atEnd(o).to,f=Fn(a,u,l),h=Fn(s,u,l),d=lt.create(o,f,h);t.setSelection(d)}return!0},AM=n=>({state:t,dispatch:e})=>{const o=ne(n,t.schema);return Mk(o)(t,e)};function Ap(n,t){const e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(e){const o=e.filter(a=>t==null?void 0:t.includes(a.type.name));n.tr.ensureMarks(o)}}const EM=({keepMarks:n=!0}={})=>({tr:t,state:e,dispatch:o,editor:a})=>{const{selection:s,doc:u}=t,{$from:l,$to:f}=s,h=a.extensionManager.attributes,d=fa(h,l.node().type.name,l.node().attrs);if(s instanceof Y&&s.node.isBlock)return!l.parentOffset||!co(u,l.pos)?!1:(o&&(n&&Ap(e,a.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(o){const v=f.parentOffset===f.parent.content.size;s instanceof lt&&t.deleteSelection();const b=l.depth===0?void 0:bM(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=v&&b?[{type:b,attrs:d}]:void 0,O=co(t.doc,t.mapping.map(l.pos),1,x);if(!x&&!O&&co(t.doc,t.mapping.map(l.pos),1,b?[{type:b}]:void 0)&&(O=!0,x=b?[{type:b,attrs:d}]:void 0),O&&(t.split(t.mapping.map(l.pos),1,x),b&&!v&&!l.parentOffset&&l.parent.type!==b)){const C=t.mapping.map(l.before()),A=t.doc.resolve(C);l.node(-1).canReplaceWith(A.index(),A.index()+1,b)&&t.setNodeMarkup(t.mapping.map(l.before()),b)}n&&Ap(e,a.extensionManager.splittableMarks),t.scrollIntoView()}return!0},IM=n=>({tr:t,state:e,dispatch:o,editor:a})=>{var s;const u=ne(n,e.schema),{$from:l,$to:f}=e.selection,h=e.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(f))return!1;const d=l.node(-1);if(d.type!==u)return!1;const v=a.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let A=F.empty;const z=l.index(-1)?1:l.index(-2)?2:3;for(let U=l.depth-z;U>=l.depth-3;U-=1)A=F.from(l.node(U).copy(A));const L=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,j=fa(v,l.node().type.name,l.node().attrs),k=((s=u.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(j))||void 0;A=A.append(F.from(u.createAndFill(null,k)||void 0));const P=l.before(l.depth-(z-1));t.replace(P,l.after(-L),new K(A,4-z,0));let R=-1;t.doc.nodesBetween(P,t.doc.content.size,(U,it)=>{if(R>-1)return!1;U.isTextblock&&U.content.size===0&&(R=it+1)}),R>-1&&t.setSelection(lt.near(t.doc.resolve(R))),t.scrollIntoView()}return!0}const b=f.pos===l.end()?d.contentMatchAt(0).defaultType:null,x=fa(v,d.type.name,d.attrs),O=fa(v,l.node().type.name,l.node().attrs);t.delete(l.pos,f.pos);const C=b?[{type:u,attrs:x},{type:b,attrs:O}]:[{type:u,attrs:x}];if(!co(t.doc,l.pos,2))return!1;if(o){const{selection:A,storedMarks:z}=e,{splittableMarks:L}=a.extensionManager,j=z||A.$to.parentOffset&&A.$from.marks();if(t.split(l.pos,2,C).scrollIntoView(),!j||!o)return!0;const k=j.filter(P=>L.includes(P.type.name));t.ensureMarks(k)}return!0},lu=(n,t)=>{const e=oc(s=>s.type===t)(n.selection);if(!e)return!0;const o=n.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(o===void 0)return!0;const a=n.doc.nodeAt(o);return e.node.type===(a==null?void 0:a.type)&&ur(n.doc,e.pos)&&n.join(e.pos),!0},fu=(n,t)=>{const e=oc(s=>s.type===t)(n.selection);if(!e)return!0;const o=n.doc.resolve(e.start).after(e.depth);if(o===void 0)return!0;const a=n.doc.nodeAt(o);return e.node.type===(a==null?void 0:a.type)&&ur(n.doc,o)&&n.join(o),!0},NM=(n,t,e,o={})=>({editor:a,tr:s,state:u,dispatch:l,chain:f,commands:h,can:d})=>{const{extensions:v,splittableMarks:b}=a.extensionManager,x=ne(n,u.schema),O=ne(t,u.schema),{selection:C,storedMarks:A}=u,{$from:z,$to:L}=C,j=z.blockRange(L),k=A||C.$to.parentOffset&&C.$from.marks();if(!j)return!1;const P=oc(R=>_p(R.type.name,v))(C);if(j.depth>=1&&P&&j.depth-P.depth<=1){if(P.node.type===x)return h.liftListItem(O);if(_p(P.node.type.name,v)&&x.validContent(P.node.content)&&l)return f().command(()=>(s.setNodeMarkup(P.pos,x),!0)).command(()=>lu(s,x)).command(()=>fu(s,x)).run()}return!e||!k||!l?f().command(()=>d().wrapInList(x,o)?!0:h.clearNodes()).wrapInList(x,o).command(()=>lu(s,x)).command(()=>fu(s,x)).run():f().command(()=>{const R=d().wrapInList(x,o),U=k.filter(it=>b.includes(it.type.name));return s.ensureMarks(U),R?!0:h.clearNodes()}).wrapInList(x,o).command(()=>lu(s,x)).command(()=>fu(s,x)).run()},DM=(n,t={},e={})=>({state:o,commands:a})=>{const{extendEmptyMarkRange:s=!1}=e,u=lr(n,o.schema);return xM(o,u,t)?a.unsetMark(u,{extendEmptyMarkRange:s}):a.setMark(u,t)},LM=(n,t,e={})=>({state:o,commands:a})=>{const s=ne(n,o.schema),u=ne(t,o.schema);return rc(o,s,e)?a.setNode(u):a.setNode(s,e)},$M=(n,t={})=>({state:e,commands:o})=>{const a=ne(n,e.schema);return rc(e,a,t)?o.lift(a):o.wrapIn(a,t)},zM=()=>({state:n,dispatch:t})=>{const e=n.plugins;for(let o=0;o<e.length;o+=1){const a=e[o];let s;if(a.spec.isInputRules&&(s=a.getState(n))){if(t){const u=n.tr,l=s.transform;for(let f=l.steps.length-1;f>=0;f-=1)u.step(l.steps[f].invert(l.docs[f]));if(s.text){const f=u.doc.resolve(s.from).marks();u.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else u.delete(s.from,s.to)}return!0}}return!1},RM=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,{empty:o,ranges:a}=e;return o||t&&a.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},jM=(n,t={})=>({tr:e,state:o,dispatch:a})=>{var s;const{extendEmptyMarkRange:u=!1}=t,{selection:l}=e,f=lr(n,o.schema),{$from:h,empty:d,ranges:v}=l;if(!a)return!0;if(d&&u){let{from:b,to:x}=l;const O=(s=h.marks().find(A=>A.type===f))===null||s===void 0?void 0:s.attrs,C=tc(h,f,O);C&&(b=C.from,x=C.to),e.removeMark(b,x,f)}else v.forEach(b=>{e.removeMark(b.$from.pos,b.$to.pos,f)});return e.removeStoredMark(f),!0},BM=(n,t={})=>({tr:e,state:o,dispatch:a})=>{let s=null,u=null;const l=oh(typeof n=="string"?n:n.name,o.schema);return l?(l==="node"&&(s=ne(n,o.schema)),l==="mark"&&(u=lr(n,o.schema)),a&&e.selection.ranges.forEach(f=>{const h=f.$from.pos,d=f.$to.pos;o.doc.nodesBetween(h,d,(v,b)=>{s&&s===v.type&&e.setNodeMarkup(b,void 0,{...v.attrs,...t}),u&&v.marks.length&&v.marks.forEach(x=>{if(u===x.type){const O=Math.max(b,h),C=Math.min(b+v.nodeSize,d);e.addMark(O,C,u.create({...x.attrs,...t}))}})})}),!0):!1},PM=(n,t={})=>({state:e,dispatch:o})=>{const a=ne(n,e.schema);return vk(a,t)(e,o)},HM=(n,t={})=>({state:e,dispatch:o})=>{const a=ne(n,e.schema);return yk(a,t)(e,o)};var FM=Object.freeze({__proto__:null,blur:Nk,clearContent:Dk,clearNodes:Lk,command:$k,createParagraphNear:zk,deleteCurrentNode:Rk,deleteNode:jk,deleteRange:Bk,deleteSelection:Pk,enter:Hk,exitCode:Fk,extendMarkRange:qk,first:Wk,focus:Uk,forEach:Jk,insertContent:Gk,insertContentAt:Yk,joinUp:Qk,joinDown:tM,joinBackward:eM,joinForward:nM,keyboardShortcut:oM,lift:iM,liftEmptyBlock:aM,liftListItem:sM,newlineInCode:uM,resetAttributes:cM,scrollIntoView:lM,selectAll:fM,selectNodeBackward:pM,selectNodeForward:dM,selectParentNode:hM,selectTextblockEnd:mM,selectTextblockStart:gM,setContent:yM,setMark:SM,setMeta:CM,setNode:TM,setNodeSelection:OM,setTextSelection:_M,sinkListItem:AM,splitBlock:EM,splitListItem:IM,toggleList:NM,toggleMark:DM,toggleNode:LM,toggleWrap:$M,undoInputRule:zM,unsetAllMarks:RM,unsetMark:jM,updateAttributes:BM,wrapIn:PM,wrapInList:HM});me.create({name:"commands",addCommands(){return{...FM}}});me.create({name:"editable",addProseMirrorPlugins(){return[new cn({key:new _n("editable"),props:{editable:()=>this.editor.options.editable}})]}});me.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new cn({key:new _n("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{n.isFocused=!0;const o=n.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,e)=>{n.isFocused=!1;const o=n.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}});me.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:u})=>{const{selection:l,doc:f}=u,{empty:h,$anchor:d}=l,{pos:v,parent:b}=d,x=ct.atStart(f).from===v;return!h||!x||!b.type.isTextblock||b.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),e={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...e},a={...e,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nc()||rh()?a:o},addProseMirrorPlugins(){return[new cn({key:new _n("clearDocument"),appendTransaction:(n,t,e)=>{if(!(n.some(v=>v.docChanged)&&!t.doc.eq(e.doc)))return;const{empty:o,from:a,to:s}=t.selection,u=ct.atStart(t.doc).from,l=ct.atEnd(t.doc).to;if(o||!(a===u&&s===l)||e.doc.textBetween(0,e.doc.content.size," "," ").length!==0)return;const f=e.tr,h=nh({state:e,transaction:f}),{commands:d}=new Sk({editor:this.editor,state:h});if(d.clearNodes(),!!f.steps.length)return f}})]}});me.create({name:"tabindex",addProseMirrorPlugins(){return[new cn({key:new _n("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});function ho(n){return new Ia({find:n.find,handler:({state:t,range:e,match:o})=>{const a=Et(n.getAttributes,void 0,o);if(a===!1||a===null)return null;const{tr:s}=t,u=o[o.length-1],l=o[0];let f=e.to;if(u){const h=l.search(/\S/),d=e.from+l.indexOf(u),v=d+u.length;if(ih(e.from,e.to,t.doc).filter(b=>b.mark.type.excluded.find(x=>x===n.type&&x!==b.mark.type)).filter(b=>b.to>d).length)return null;v<e.to&&s.delete(v,e.to),d>e.from&&s.delete(e.from+h,d),f=e.from+h+u.length,s.addMark(e.from+h,f,n.type.create(a||{})),s.removeStoredMark(n.type)}}})}function VM(n){return new Ia({find:n.find,handler:({state:t,range:e,match:o})=>{const a=Et(n.getAttributes,void 0,o)||{},{tr:s}=t,u=e.from;let l=e.to;if(o[1]){const f=o[0].lastIndexOf(o[1]);let h=u+f;h>l?h=l:l=h+o[1].length;const d=o[0][o[0].length-1];s.insertText(d,u+o[0].length-1),s.replaceWith(h,l,n.type.create(a))}else o[0]&&s.replaceWith(u,l,n.type.create(a))}})}function Lu(n){return new Ia({find:n.find,handler:({state:t,range:e,match:o})=>{const a=t.doc.resolve(e.from),s=Et(n.getAttributes,void 0,o)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),n.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,n.type,s)}})}function ai(n){return new Ia({find:n.find,handler:({state:t,range:e,match:o,chain:a})=>{const s=Et(n.getAttributes,void 0,o)||{},u=t.tr.delete(e.from,e.to),l=u.doc.resolve(e.from).blockRange(),f=l&&qu(l,n.type,s);if(!f)return null;if(u.wrap(l,f),n.keepMarks&&n.editor){const{selection:d,storedMarks:v}=t,{splittableMarks:b}=n.editor.extensionManager,x=v||d.$to.parentOffset&&d.$from.marks();if(x){const O=x.filter(C=>b.includes(C.type.name));u.ensureMarks(O)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(d,s).run()}const h=u.doc.resolve(e.from-1).nodeBefore;h&&h.type===n.type&&ur(u.doc,e.from-1)&&(!n.joinPredicate||n.joinPredicate(o,h))&&u.join(e.from-1)}})}class qn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Et(Ht(this,"addOptions",{name:this.name}))),this.storage=Et(Ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new qn(t)}configure(t={}){const e=this.extend();return e.options=Na(this.options,t),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new qn(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Et(Ht(e,"addOptions",{name:e.name})),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:o}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const s=a.marks();if(!s.find(l=>(l==null?void 0:l.type.name)===e.name))return!1;const u=s.find(l=>(l==null?void 0:l.type.name)===e.name);return u&&o.removeStoredMark(u),o.insertText(" ",a.pos),t.view.dispatch(o),!0}return!1}}class re{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Et(Ht(this,"addOptions",{name:this.name}))),this.storage=Et(Ht(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new re(t)}configure(t={}){const e=this.extend();return e.options=Na(this.options,t),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new re(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Et(Ht(e,"addOptions",{name:e.name})),e.storage=Et(Ht(e,"addStorage",{name:e.name,options:e.options})),e}}function mo(n){return new _k({find:n.find,handler:({state:t,range:e,match:o})=>{const a=Et(n.getAttributes,void 0,o);if(a===!1||a===null)return null;const{tr:s}=t,u=o[o.length-1],l=o[0];let f=e.to;if(u){const h=l.search(/\S/),d=e.from+l.indexOf(u),v=d+u.length;if(ih(e.from,e.to,t.doc).filter(b=>b.mark.type.excluded.find(x=>x===n.type&&x!==b.mark.type)).filter(b=>b.to>d).length)return null;v<e.to&&s.delete(v,e.to),d>e.from&&s.delete(e.from+h,d),f=e.from+h+u.length,s.addMark(e.from+h,f,n.type.create(a||{})),s.removeStoredMark(n.type)}}})}const qM=/^\s*>\s$/,WM=re.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ai({find:qM,type:this.type})]}}),KM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,UM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,JM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,GM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,ZM=qn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ho({find:KM,type:this.type}),ho({find:JM,type:this.type})]},addPasteRules(){return[mo({find:UM,type:this.type}),mo({find:GM,type:this.type})]}}),XM=re.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Jt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ep=qn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:t})=>{const e=ic(n,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),Ip=/^\s*([-+*])\s$/,YM=re.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(XM.name,this.editor.getAttributes(Ep.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=ai({find:Ip,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ai({find:Ip,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Ep.name),editor:this.editor})),[n]}}),QM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,tS=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,eS=qn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ho({find:QM,type:this.type})]},addPasteRules(){return[mo({find:tS,type:this.type})]}}),nS=/^```([a-z]+)?[\s\n]$/,rS=/^~~~([a-z]+)?[\s\n]$/,oS=re.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var t;const{languageClassPrefix:e}=this.options;return[...((t=n.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(a=>a.startsWith(e)).map(a=>a.replace(e,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:t}){return["pre",Jt(this.options.HTMLAttributes,t),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:t})=>t.setNode(this.name,n),toggleCodeBlock:n=>({commands:t})=>t.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!n||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=n,{selection:e}=t,{$from:o,empty:a}=e;if(!a||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,u=o.parent.textContent.endsWith(`

`);return!s||!u?!1:n.chain().command(({tr:l})=>(l.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=n,{selection:e,doc:o}=t,{$from:a,empty:s}=e;if(!s||a.parent.type!==this.type||a.parentOffset!==a.parent.nodeSize-2)return!1;const u=a.after();return u===void 0||o.nodeAt(u)?!1:n.commands.exitCode()}}},addInputRules(){return[Lu({find:nS,type:this.type,getAttributes:n=>({language:n[1]})}),Lu({find:rS,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new cn({key:new _n("codeBlockVSCodeHandler"),props:{handlePaste:(n,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("vscode-editor-data"),a=o?JSON.parse(o):void 0,s=a==null?void 0:a.mode;if(!e||!s)return!1;const{tr:u}=n.state;return u.replaceSelectionWith(this.type.create({language:s})),u.setSelection(lt.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.insertText(e.replace(/\r\n?/g,`
`)),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),iS=re.create({name:"doc",topNode:!0,content:"block+"});function aS(n={}){return new cn({view(t){return new sS(t,n)}})}class sS{constructor(t,e){var o;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=e.width)!==null&&o!==void 0?o:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=u=>{this[a](u)};return t.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,o;if(e){let l=t.nodeBefore,f=t.nodeAfter;if(l||f){let h=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(h){let d=h.getBoundingClientRect(),v=l?d.bottom:d.top;l&&f&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:d.left,right:d.right,top:v-this.width/2,bottom:v+this.width/2}}}}if(!o){let l=this.editorView.coordsAtPos(this.cursorPos);o={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let s,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")s=-pageXOffset,u=-pageYOffset;else{let l=a.getBoundingClientRect();s=l.left-a.scrollLeft,u=l.top-a.scrollTop}this.element.style.left=o.left-s+"px",this.element.style.top=o.top-u+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),o=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),a=o&&o.type.spec.disableDropCursor,s=typeof a=="function"?a(this.editorView,e,t):a;if(e&&!s){let u=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Md(this.editorView.state.doc,u,this.editorView.dragging.slice);l!=null&&(u=l)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const uS=me.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[aS(this.options)]}});class At extends ct{constructor(t){super(t,t)}map(t,e){let o=t.resolve(e.map(this.head));return At.valid(o)?new At(o):ct.near(o)}content(){return K.empty}eq(t){return t instanceof At&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new At(t.resolve(e.pos))}getBookmark(){return new ac(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!cS(t)||!lS(t))return!1;let o=e.type.spec.allowGapCursor;if(o!=null)return o;let a=e.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,e,o=!1){t:for(;;){if(!o&&At.valid(t))return t;let a=t.pos,s=null;for(let u=t.depth;;u--){let l=t.node(u);if(e>0?t.indexAfter(u)<l.childCount:t.index(u)>0){s=l.child(e>0?t.indexAfter(u):t.index(u)-1);break}else if(u==0)return null;a+=e;let f=t.doc.resolve(a);if(At.valid(f))return f}for(;;){let u=e>0?s.firstChild:s.lastChild;if(!u){if(s.isAtom&&!s.isText&&!Y.isSelectable(s)){t=t.doc.resolve(a+s.nodeSize*e),o=!1;continue t}break}s=u,a+=e;let l=t.doc.resolve(a);if(At.valid(l))return l}return null}}}At.prototype.visible=!1;At.findFrom=At.findGapCursorFrom;ct.jsonID("gapcursor",At);class ac{constructor(t){this.pos=t}map(t){return new ac(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return At.valid(e)?new At(e):ct.near(e)}}function cS(n){for(let t=n.depth;t>=0;t--){let e=n.index(t),o=n.node(t);if(e==0){if(o.type.spec.isolating)return!0;continue}for(let a=o.child(e-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function lS(n){for(let t=n.depth;t>=0;t--){let e=n.indexAfter(t),o=n.node(t);if(e==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let a=o.child(e);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function fS(){return new cn({props:{decorations:mS,createSelectionBetween(n,t,e){return t.pos==e.pos&&At.valid(e)?new At(e):null},handleClick:dS,handleKeyDown:pS,handleDOMEvents:{beforeinput:hS}}})}const pS=Yx({ArrowLeft:aa("horiz",-1),ArrowRight:aa("horiz",1),ArrowUp:aa("vert",-1),ArrowDown:aa("vert",1)});function aa(n,t){const e=n=="vert"?t>0?"down":"up":t>0?"right":"left";return function(o,a,s){let u=o.selection,l=t>0?u.$to:u.$from,f=u.empty;if(u instanceof lt){if(!s.endOfTextblock(e)||l.depth==0)return!1;f=!1,l=o.doc.resolve(t>0?l.after():l.before())}let h=At.findGapCursorFrom(l,t,f);return h?(a&&a(o.tr.setSelection(new At(h))),!0):!1}}function dS(n,t,e){if(!n||!n.editable)return!1;let o=n.state.doc.resolve(t);if(!At.valid(o))return!1;let a=n.posAtCoords({left:e.clientX,top:e.clientY});return a&&a.inside>-1&&Y.isSelectable(n.state.doc.nodeAt(a.inside))?!1:(n.dispatch(n.state.tr.setSelection(new At(o))),!0)}function hS(n,t){if(t.inputType!="insertCompositionText"||!(n.state.selection instanceof At))return!1;let{$from:e}=n.state.selection,o=e.parent.contentMatchAt(e.index()).findWrapping(n.state.schema.nodes.text);if(!o)return!1;let a=F.empty;for(let u=o.length-1;u>=0;u--)a=F.from(o[u].createAndFill(null,a));let s=n.state.tr.replace(e.pos,e.pos,new K(a,0,0));return s.setSelection(lt.near(s.doc.resolve(e.pos+1))),n.dispatch(s),!1}function mS(n){if(!(n.selection instanceof At))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Kt.create(n.doc,[kn.widget(n.selection.head,t,{key:"gapcursor"})])}const gS=me.create({name:"gapCursor",addProseMirrorPlugins(){return[fS()]},extendNodeSchema(n){var t;const e={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(t=Et(Ht(n,"allowGapCursor",e)))!==null&&t!==void 0?t:null}}}),vS=re.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Jt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:t,state:e,editor:o})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:a,storedMarks:s}=e;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:l}=o.extensionManager,f=s||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:d})=>{if(d&&f&&u){const v=f.filter(b=>l.includes(b.type.name));h.ensureMarks(v)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yS=re.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:t}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.setNode(this.name,n):!1,toggleHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,t)=>({...n,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(n=>Lu({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Ma=200,Ut=function(){};Ut.prototype.append=function(n){return n.length?(n=Ut.from(n),!this.length&&n||n.length<Ma&&this.leafAppend(n)||this.length<Ma&&n.leafPrepend(this)||this.appendInner(n)):this};Ut.prototype.prepend=function(n){return n.length?Ut.from(n).append(this):this};Ut.prototype.appendInner=function(n){return new bS(this,n)};Ut.prototype.slice=function(n,t){return n===void 0&&(n=0),t===void 0&&(t=this.length),n>=t?Ut.empty:this.sliceInner(Math.max(0,n),Math.min(this.length,t))};Ut.prototype.get=function(n){if(!(n<0||n>=this.length))return this.getInner(n)};Ut.prototype.forEach=function(n,t,e){t===void 0&&(t=0),e===void 0&&(e=this.length),t<=e?this.forEachInner(n,t,e,0):this.forEachInvertedInner(n,t,e,0)};Ut.prototype.map=function(n,t,e){t===void 0&&(t=0),e===void 0&&(e=this.length);var o=[];return this.forEach(function(a,s){return o.push(n(a,s))},t,e),o};Ut.from=function(n){return n instanceof Ut?n:n&&n.length?new sh(n):Ut.empty};var sh=function(n){function t(o){n.call(this),this.values=o}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,a){return o==0&&a==this.length?this:new t(this.values.slice(o,a))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,a,s,u){for(var l=a;l<s;l++)if(o(this.values[l],u+l)===!1)return!1},t.prototype.forEachInvertedInner=function(o,a,s,u){for(var l=a-1;l>=s;l--)if(o(this.values[l],u+l)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=Ma)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=Ma)return new t(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Ut);Ut.empty=new sh([]);var bS=function(n){function t(e,o){n.call(this),this.left=e,this.right=o,this.length=e.length+o.length,this.depth=Math.max(e.depth,o.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,o,a,s){var u=this.left.length;if(o<u&&this.left.forEachInner(e,o,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(e,Math.max(o-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},t.prototype.forEachInvertedInner=function(e,o,a,s){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(e,o-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(e,Math.min(o,u),a,s)===!1)return!1},t.prototype.sliceInner=function(e,o){if(e==0&&o==this.length)return this;var a=this.left.length;return o<=a?this.left.slice(e,o):e>=a?this.right.slice(e-a,o-a):this.left.slice(e,a).append(this.right.slice(0,o-a))},t.prototype.leafAppend=function(e){var o=this.right.leafAppend(e);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(e){var o=this.left.leafPrepend(e);if(o)return new t(o,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Ut);const wS=500;class on{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let a,s;e&&(a=this.remapping(o,this.items.length),s=a.maps.length);let u=t.tr,l,f,h=[],d=[];return this.items.forEach((v,b)=>{if(!v.step){a||(a=this.remapping(o,b+1),s=a.maps.length),s--,d.push(v);return}if(a){d.push(new wn(v.map));let x=v.step.map(a.slice(s)),O;x&&u.maybeStep(x).doc&&(O=u.mapping.maps[u.mapping.maps.length-1],h.push(new wn(O,void 0,void 0,h.length+d.length))),s--,O&&a.appendMap(O,s)}else u.maybeStep(v.step);if(v.selection)return l=a?v.selection.map(a.slice(s)):v.selection,f=new on(this.items.slice(0,o).append(d.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:u,selection:l}}addTransform(t,e,o,a){let s=[],u=this.eventCount,l=this.items,f=!a&&l.length?l.get(l.length-1):null;for(let d=0;d<t.steps.length;d++){let v=t.steps[d].invert(t.docs[d]),b=new wn(t.mapping.maps[d],v,e),x;(x=f&&f.merge(b))&&(b=x,d?s.pop():l=l.slice(0,l.length-1)),s.push(b),e&&(u++,e=void 0),a||(f=b)}let h=u-o.depth;return h>kS&&(l=xS(l,h),u-=h),new on(l.append(s),u)}remapping(t,e){let o=new Go;return this.items.forEach((a,s)=>{let u=a.mirrorOffset!=null&&s-a.mirrorOffset>=t?o.maps.length-a.mirrorOffset:void 0;o.appendMap(a.map,u)},t,e),o}addMaps(t){return this.eventCount==0?this:new on(this.items.append(t.map(e=>new wn(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let o=[],a=Math.max(0,this.items.length-e),s=t.mapping,u=t.steps.length,l=this.eventCount;this.items.forEach(b=>{b.selection&&l--},a);let f=e;this.items.forEach(b=>{let x=s.getMirror(--f);if(x==null)return;u=Math.min(u,x);let O=s.maps[x];if(b.step){let C=t.steps[x].invert(t.docs[x]),A=b.selection&&b.selection.map(s.slice(f+1,x));A&&l++,o.push(new wn(O,C,A))}else o.push(new wn(O))},a);let h=[];for(let b=e;b<u;b++)h.push(new wn(s.maps[b]));let d=this.items.slice(0,a).append(h).append(o),v=new on(d,l);return v.emptyItemCount()>wS&&(v=v.compress(this.items.length-o.length)),v}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),o=e.maps.length,a=[],s=0;return this.items.forEach((u,l)=>{if(l>=t)a.push(u),u.selection&&s++;else if(u.step){let f=u.step.map(e.slice(o)),h=f&&f.getMap();if(o--,h&&e.appendMap(h,o),f){let d=u.selection&&u.selection.map(e.slice(o));d&&s++;let v=new wn(h.invert(),f,d),b,x=a.length-1;(b=a.length&&a[x].merge(v))?a[x]=b:a.push(v)}}else u.map&&o--},this.items.length,0),new on(Ut.from(a.reverse()),s)}}on.empty=new on(Ut.empty,0);function xS(n,t){let e;return n.forEach((o,a)=>{if(o.selection&&t--==0)return e=a,!1}),n.slice(e)}class wn{constructor(t,e,o,a){this.map=t,this.step=e,this.selection=o,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new wn(e.getMap().invert(),e,this.selection)}}}class rr{constructor(t,e,o,a,s){this.done=t,this.undone=e,this.prevRanges=o,this.prevTime=a,this.prevComposition=s}}const kS=20;function MS(n,t,e,o){let a=e.getMeta(ar),s;if(a)return a.historyState;e.getMeta(CS)&&(n=new rr(n.done,n.undone,null,0,-1));let u=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(u&&u.getMeta(ar))return u.getMeta(ar).redo?new rr(n.done.addTransform(e,void 0,o,pa(t)),n.undone,Np(e.mapping.maps[e.steps.length-1]),n.prevTime,n.prevComposition):new rr(n.done,n.undone.addTransform(e,void 0,o,pa(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let l=e.getMeta("composition"),f=n.prevTime==0||!u&&n.prevComposition!=l&&(n.prevTime<(e.time||0)-o.newGroupDelay||!SS(e,n.prevRanges)),h=u?pu(n.prevRanges,e.mapping):Np(e.mapping.maps[e.steps.length-1]);return new rr(n.done.addTransform(e,f?t.selection.getBookmark():void 0,o,pa(t)),on.empty,h,e.time,l??n.prevComposition)}else return(s=e.getMeta("rebased"))?new rr(n.done.rebased(e,s),n.undone.rebased(e,s),pu(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new rr(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),pu(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function SS(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((o,a)=>{for(let s=0;s<t.length;s+=2)o<=t[s+1]&&a>=t[s]&&(e=!0)}),e}function Np(n){let t=[];return n.forEach((e,o,a,s)=>t.push(a,s)),t}function pu(n,t){if(!n)return null;let e=[];for(let o=0;o<n.length;o+=2){let a=t.map(n[o],1),s=t.map(n[o+1],-1);a<=s&&e.push(a,s)}return e}function uh(n,t,e,o){let a=pa(t),s=ar.get(t).spec.config,u=(o?n.undone:n.done).popEvent(t,a);if(!u)return;let l=u.selection.resolve(u.transform.doc),f=(o?n.done:n.undone).addTransform(u.transform,t.selection.getBookmark(),s,a),h=new rr(o?f:u.remaining,o?u.remaining:f,null,0,-1);e(u.transform.setSelection(l).setMeta(ar,{redo:o,historyState:h}).scrollIntoView())}let du=!1,Dp=null;function pa(n){let t=n.plugins;if(Dp!=t){du=!1,Dp=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){du=!0;break}}return du}const ar=new _n("history"),CS=new _n("closeHistory");function TS(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new cn({key:ar,state:{init(){return new rr(on.empty,on.empty,null,0,-1)},apply(t,e,o){return MS(e,o,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let o=e.inputType,a=o=="historyUndo"?ch:o=="historyRedo"?lh:null;return a?(e.preventDefault(),a(t.state,t.dispatch)):!1}}}})}const ch=(n,t)=>{let e=ar.getState(n);return!e||e.done.eventCount==0?!1:(t&&uh(e,n,t,!1),!0)},lh=(n,t)=>{let e=ar.getState(n);return!e||e.undone.eventCount==0?!1:(t&&uh(e,n,t,!0),!0)},OS=me.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:t})=>ch(n,t),redo:()=>({state:n,dispatch:t})=>lh(n,t)}},addProseMirrorPlugins(){return[TS(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),_S=re.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Jt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n})=>n().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var o;if(e){const{$to:a}=t.selection,s=a.end();if(a.nodeAfter)t.setSelection(lt.create(t.doc,a.pos));else{const u=(o=a.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(t.insert(s,u),t.setSelection(lt.create(t.doc,s)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[VM({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),AS=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,ES=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,IS=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,NS=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,DS=qn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ho({find:AS,type:this.type}),ho({find:IS,type:this.type})]},addPasteRules(){return[mo({find:ES,type:this.type}),mo({find:NS,type:this.type})]}}),LS=re.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Jt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$S=re.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Jt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Lp=qn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:t})=>{const e=ic(n,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),$p=/^(\d+)\.\s$/,zS=re.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:t,...e}=n;return t===1?["ol",Jt(this.options.HTMLAttributes,e),0]:["ol",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($S.name,this.editor.getAttributes(Lp.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=ai({find:$p,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ai({find:$p,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Lp.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[n]}}),RS=re.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),jS=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,BS=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,PS=qn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Jt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ho({find:jS,type:this.type})]},addPasteRules(){return[mo({find:BS,type:this.type})]}}),HS=re.create({name:"text",group:"inline"});me.create({name:"starterKit",addExtensions(){var n,t,e,o,a,s,u,l,f,h,d,v,b,x,O,C,A,z;const L=[];return this.options.blockquote!==!1&&L.push(WM.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&L.push(ZM.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&L.push(YM.configure((e=this.options)===null||e===void 0?void 0:e.bulletList)),this.options.code!==!1&&L.push(eS.configure((o=this.options)===null||o===void 0?void 0:o.code)),this.options.codeBlock!==!1&&L.push(oS.configure((a=this.options)===null||a===void 0?void 0:a.codeBlock)),this.options.document!==!1&&L.push(iS.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&L.push(uS.configure((u=this.options)===null||u===void 0?void 0:u.dropcursor)),this.options.gapcursor!==!1&&L.push(gS.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&L.push(vS.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&L.push(yS.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&L.push(OS.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&L.push(_S.configure((v=this.options)===null||v===void 0?void 0:v.horizontalRule)),this.options.italic!==!1&&L.push(DS.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&L.push(LS.configure((x=this.options)===null||x===void 0?void 0:x.listItem)),this.options.orderedList!==!1&&L.push(zS.configure((O=this.options)===null||O===void 0?void 0:O.orderedList)),this.options.paragraph!==!1&&L.push(RS.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&L.push(PS.configure((A=this.options)===null||A===void 0?void 0:A.strike)),this.options.text!==!1&&L.push(HS.configure((z=this.options)===null||z===void 0?void 0:z.text)),L}});var Me="top",Ge="bottom",Ze="right",Se="left",sc="auto",pi=[Me,Ge,Ze,Se],go="start",si="end",FS="clippingParents",fh="viewport",Vo="popper",VS="reference",zp=pi.reduce(function(n,t){return n.concat([t+"-"+go,t+"-"+si])},[]),ph=[].concat(pi,[sc]).reduce(function(n,t){return n.concat([t,t+"-"+go,t+"-"+si])},[]),qS="beforeRead",WS="read",KS="afterRead",US="beforeMain",JS="main",GS="afterMain",ZS="beforeWrite",XS="write",YS="afterWrite",QS=[qS,WS,KS,US,JS,GS,ZS,XS,YS];function On(n){return n?(n.nodeName||"").toLowerCase():null}function Le(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function zr(n){var t=Le(n).Element;return n instanceof t||n instanceof Element}function Je(n){var t=Le(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function uc(n){if(typeof ShadowRoot>"u")return!1;var t=Le(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function tC(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},a=t.attributes[e]||{},s=t.elements[e];!Je(s)||!On(s)||(Object.assign(s.style,o),Object.keys(a).forEach(function(u){var l=a[u];l===!1?s.removeAttribute(u):s.setAttribute(u,l===!0?"":l)}))})}function eC(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],s=t.attributes[o]||{},u=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:e[o]),l=u.reduce(function(f,h){return f[h]="",f},{});!Je(a)||!On(a)||(Object.assign(a.style,l),Object.keys(s).forEach(function(f){a.removeAttribute(f)}))})}}const dh={name:"applyStyles",enabled:!0,phase:"write",fn:tC,effect:eC,requires:["computeStyles"]};function Cn(n){return n.split("-")[0]}var $r=Math.max,Sa=Math.min,vo=Math.round;function $u(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function hh(){return!/^((?!chrome|android).)*safari/i.test($u())}function yo(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=n.getBoundingClientRect(),a=1,s=1;t&&Je(n)&&(a=n.offsetWidth>0&&vo(o.width)/n.offsetWidth||1,s=n.offsetHeight>0&&vo(o.height)/n.offsetHeight||1);var u=zr(n)?Le(n):window,l=u.visualViewport,f=!hh()&&e,h=(o.left+(f&&l?l.offsetLeft:0))/a,d=(o.top+(f&&l?l.offsetTop:0))/s,v=o.width/a,b=o.height/s;return{width:v,height:b,top:d,right:h+v,bottom:d+b,left:h,x:h,y:d}}function cc(n){var t=yo(n),e=n.offsetWidth,o=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:o}}function mh(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&uc(e)){var o=t;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Wn(n){return Le(n).getComputedStyle(n)}function nC(n){return["table","td","th"].indexOf(On(n))>=0}function fr(n){return((zr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Da(n){return On(n)==="html"?n:n.assignedSlot||n.parentNode||(uc(n)?n.host:null)||fr(n)}function Rp(n){return!Je(n)||Wn(n).position==="fixed"?null:n.offsetParent}function rC(n){var t=/firefox/i.test($u()),e=/Trident/i.test($u());if(e&&Je(n)){var o=Wn(n);if(o.position==="fixed")return null}var a=Da(n);for(uc(a)&&(a=a.host);Je(a)&&["html","body"].indexOf(On(a))<0;){var s=Wn(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function di(n){for(var t=Le(n),e=Rp(n);e&&nC(e)&&Wn(e).position==="static";)e=Rp(e);return e&&(On(e)==="html"||On(e)==="body"&&Wn(e).position==="static")?t:e||rC(n)||t}function lc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Yo(n,t,e){return $r(n,Sa(t,e))}function oC(n,t,e){var o=Yo(n,t,e);return o>e?e:o}function gh(){return{top:0,right:0,bottom:0,left:0}}function vh(n){return Object.assign({},gh(),n)}function yh(n,t){return t.reduce(function(e,o){return e[o]=n,e},{})}var iC=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,vh(typeof n!="number"?n:yh(n,pi))};function aC(n){var t,e=n.state,o=n.name,a=n.options,s=e.elements.arrow,u=e.modifiersData.popperOffsets,l=Cn(e.placement),f=lc(l),h=[Se,Ze].indexOf(l)>=0,d=h?"height":"width";if(!(!s||!u)){var v=iC(a.padding,e),b=cc(s),x=f==="y"?Me:Se,O=f==="y"?Ge:Ze,C=e.rects.reference[d]+e.rects.reference[f]-u[f]-e.rects.popper[d],A=u[f]-e.rects.reference[f],z=di(s),L=z?f==="y"?z.clientHeight||0:z.clientWidth||0:0,j=C/2-A/2,k=v[x],P=L-b[d]-v[O],R=L/2-b[d]/2+j,U=Yo(k,R,P),it=f;e.modifiersData[o]=(t={},t[it]=U,t.centerOffset=U-R,t)}}function sC(n){var t=n.state,e=n.options,o=e.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||mh(t.elements.popper,a)&&(t.elements.arrow=a))}const uC={name:"arrow",enabled:!0,phase:"main",fn:aC,effect:sC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bo(n){return n.split("-")[1]}var cC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lC(n,t){var e=n.x,o=n.y,a=t.devicePixelRatio||1;return{x:vo(e*a)/a||0,y:vo(o*a)/a||0}}function jp(n){var t,e=n.popper,o=n.popperRect,a=n.placement,s=n.variation,u=n.offsets,l=n.position,f=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,v=n.isFixed,b=u.x,x=b===void 0?0:b,O=u.y,C=O===void 0?0:O,A=typeof d=="function"?d({x,y:C}):{x,y:C};x=A.x,C=A.y;var z=u.hasOwnProperty("x"),L=u.hasOwnProperty("y"),j=Se,k=Me,P=window;if(h){var R=di(e),U="clientHeight",it="clientWidth";if(R===Le(e)&&(R=fr(e),Wn(R).position!=="static"&&l==="absolute"&&(U="scrollHeight",it="scrollWidth")),R=R,a===Me||(a===Se||a===Ze)&&s===si){k=Ge;var mt=v&&R===P&&P.visualViewport?P.visualViewport.height:R[U];C-=mt-o.height,C*=f?1:-1}if(a===Se||(a===Me||a===Ge)&&s===si){j=Ze;var Q=v&&R===P&&P.visualViewport?P.visualViewport.width:R[it];x-=Q-o.width,x*=f?1:-1}}var xt=Object.assign({position:l},h&&cC),bt=d===!0?lC({x,y:C},Le(e)):{x,y:C};if(x=bt.x,C=bt.y,f){var at;return Object.assign({},xt,(at={},at[k]=L?"0":"",at[j]=z?"0":"",at.transform=(P.devicePixelRatio||1)<=1?"translate("+x+"px, "+C+"px)":"translate3d("+x+"px, "+C+"px, 0)",at))}return Object.assign({},xt,(t={},t[k]=L?C+"px":"",t[j]=z?x+"px":"",t.transform="",t))}function fC(n){var t=n.state,e=n.options,o=e.gpuAcceleration,a=o===void 0?!0:o,s=e.adaptive,u=s===void 0?!0:s,l=e.roundOffsets,f=l===void 0?!0:l,h={placement:Cn(t.placement),variation:bo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,jp(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,jp(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const pC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fC,data:{}};var sa={passive:!0};function dC(n){var t=n.state,e=n.instance,o=n.options,a=o.scroll,s=a===void 0?!0:a,u=o.resize,l=u===void 0?!0:u,f=Le(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&h.forEach(function(d){d.addEventListener("scroll",e.update,sa)}),l&&f.addEventListener("resize",e.update,sa),function(){s&&h.forEach(function(d){d.removeEventListener("scroll",e.update,sa)}),l&&f.removeEventListener("resize",e.update,sa)}}const hC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dC,data:{}};var mC={left:"right",right:"left",bottom:"top",top:"bottom"};function da(n){return n.replace(/left|right|bottom|top/g,function(t){return mC[t]})}var gC={start:"end",end:"start"};function Bp(n){return n.replace(/start|end/g,function(t){return gC[t]})}function fc(n){var t=Le(n),e=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:e,scrollTop:o}}function pc(n){return yo(fr(n)).left+fc(n).scrollLeft}function vC(n,t){var e=Le(n),o=fr(n),a=e.visualViewport,s=o.clientWidth,u=o.clientHeight,l=0,f=0;if(a){s=a.width,u=a.height;var h=hh();(h||!h&&t==="fixed")&&(l=a.offsetLeft,f=a.offsetTop)}return{width:s,height:u,x:l+pc(n),y:f}}function yC(n){var t,e=fr(n),o=fc(n),a=(t=n.ownerDocument)==null?void 0:t.body,s=$r(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=$r(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-o.scrollLeft+pc(n),f=-o.scrollTop;return Wn(a||e).direction==="rtl"&&(l+=$r(e.clientWidth,a?a.clientWidth:0)-s),{width:s,height:u,x:l,y:f}}function dc(n){var t=Wn(n),e=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+o)}function bh(n){return["html","body","#document"].indexOf(On(n))>=0?n.ownerDocument.body:Je(n)&&dc(n)?n:bh(Da(n))}function Qo(n,t){var e;t===void 0&&(t=[]);var o=bh(n),a=o===((e=n.ownerDocument)==null?void 0:e.body),s=Le(o),u=a?[s].concat(s.visualViewport||[],dc(o)?o:[]):o,l=t.concat(u);return a?l:l.concat(Qo(Da(u)))}function zu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function bC(n,t){var e=yo(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Pp(n,t,e){return t===fh?zu(vC(n,e)):zr(t)?bC(t,e):zu(yC(fr(n)))}function wC(n){var t=Qo(Da(n)),e=["absolute","fixed"].indexOf(Wn(n).position)>=0,o=e&&Je(n)?di(n):n;return zr(o)?t.filter(function(a){return zr(a)&&mh(a,o)&&On(a)!=="body"}):[]}function xC(n,t,e,o){var a=t==="clippingParents"?wC(n):[].concat(t),s=[].concat(a,[e]),u=s[0],l=s.reduce(function(f,h){var d=Pp(n,h,o);return f.top=$r(d.top,f.top),f.right=Sa(d.right,f.right),f.bottom=Sa(d.bottom,f.bottom),f.left=$r(d.left,f.left),f},Pp(n,u,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function wh(n){var t=n.reference,e=n.element,o=n.placement,a=o?Cn(o):null,s=o?bo(o):null,u=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,f;switch(a){case Me:f={x:u,y:t.y-e.height};break;case Ge:f={x:u,y:t.y+t.height};break;case Ze:f={x:t.x+t.width,y:l};break;case Se:f={x:t.x-e.width,y:l};break;default:f={x:t.x,y:t.y}}var h=a?lc(a):null;if(h!=null){var d=h==="y"?"height":"width";switch(s){case go:f[h]=f[h]-(t[d]/2-e[d]/2);break;case si:f[h]=f[h]+(t[d]/2-e[d]/2);break}}return f}function ui(n,t){t===void 0&&(t={});var e=t,o=e.placement,a=o===void 0?n.placement:o,s=e.strategy,u=s===void 0?n.strategy:s,l=e.boundary,f=l===void 0?FS:l,h=e.rootBoundary,d=h===void 0?fh:h,v=e.elementContext,b=v===void 0?Vo:v,x=e.altBoundary,O=x===void 0?!1:x,C=e.padding,A=C===void 0?0:C,z=vh(typeof A!="number"?A:yh(A,pi)),L=b===Vo?VS:Vo,j=n.rects.popper,k=n.elements[O?L:b],P=xC(zr(k)?k:k.contextElement||fr(n.elements.popper),f,d,u),R=yo(n.elements.reference),U=wh({reference:R,element:j,strategy:"absolute",placement:a}),it=zu(Object.assign({},j,U)),mt=b===Vo?it:R,Q={top:P.top-mt.top+z.top,bottom:mt.bottom-P.bottom+z.bottom,left:P.left-mt.left+z.left,right:mt.right-P.right+z.right},xt=n.modifiersData.offset;if(b===Vo&&xt){var bt=xt[a];Object.keys(Q).forEach(function(at){var $t=[Ze,Ge].indexOf(at)>=0?1:-1,jt=[Me,Ge].indexOf(at)>=0?"y":"x";Q[at]+=bt[jt]*$t})}return Q}function kC(n,t){t===void 0&&(t={});var e=t,o=e.placement,a=e.boundary,s=e.rootBoundary,u=e.padding,l=e.flipVariations,f=e.allowedAutoPlacements,h=f===void 0?ph:f,d=bo(o),v=d?l?zp:zp.filter(function(O){return bo(O)===d}):pi,b=v.filter(function(O){return h.indexOf(O)>=0});b.length===0&&(b=v);var x=b.reduce(function(O,C){return O[C]=ui(n,{placement:C,boundary:a,rootBoundary:s,padding:u})[Cn(C)],O},{});return Object.keys(x).sort(function(O,C){return x[O]-x[C]})}function MC(n){if(Cn(n)===sc)return[];var t=da(n);return[Bp(n),t,Bp(t)]}function SC(n){var t=n.state,e=n.options,o=n.name;if(!t.modifiersData[o]._skip){for(var a=e.mainAxis,s=a===void 0?!0:a,u=e.altAxis,l=u===void 0?!0:u,f=e.fallbackPlacements,h=e.padding,d=e.boundary,v=e.rootBoundary,b=e.altBoundary,x=e.flipVariations,O=x===void 0?!0:x,C=e.allowedAutoPlacements,A=t.options.placement,z=Cn(A),L=z===A,j=f||(L||!O?[da(A)]:MC(A)),k=[A].concat(j).reduce(function(ae,Tt){return ae.concat(Cn(Tt)===sc?kC(t,{placement:Tt,boundary:d,rootBoundary:v,padding:h,flipVariations:O,allowedAutoPlacements:C}):Tt)},[]),P=t.rects.reference,R=t.rects.popper,U=new Map,it=!0,mt=k[0],Q=0;Q<k.length;Q++){var xt=k[Q],bt=Cn(xt),at=bo(xt)===go,$t=[Me,Ge].indexOf(bt)>=0,jt=$t?"width":"height",zt=ui(t,{placement:xt,boundary:d,rootBoundary:v,altBoundary:b,padding:h}),gt=$t?at?Ze:Se:at?Ge:Me;P[jt]>R[jt]&&(gt=da(gt));var ht=da(gt),Vt=[];if(s&&Vt.push(zt[bt]<=0),l&&Vt.push(zt[gt]<=0,zt[ht]<=0),Vt.every(function(ae){return ae})){mt=xt,it=!1;break}U.set(xt,Vt)}if(it)for(var qt=O?3:1,It=function(ae){var Tt=k.find(function(se){var An=U.get(se);if(An)return An.slice(0,ae).every(function(ge){return ge})});if(Tt)return mt=Tt,"break"},oe=qt;oe>0;oe--){var ie=It(oe);if(ie==="break")break}t.placement!==mt&&(t.modifiersData[o]._skip=!0,t.placement=mt,t.reset=!0)}}const CC={name:"flip",enabled:!0,phase:"main",fn:SC,requiresIfExists:["offset"],data:{_skip:!1}};function Hp(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Fp(n){return[Me,Ze,Ge,Se].some(function(t){return n[t]>=0})}function TC(n){var t=n.state,e=n.name,o=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,u=ui(t,{elementContext:"reference"}),l=ui(t,{altBoundary:!0}),f=Hp(u,o),h=Hp(l,a,s),d=Fp(f),v=Fp(h);t.modifiersData[e]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":v})}const OC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TC};function _C(n,t,e){var o=Cn(n),a=[Se,Me].indexOf(o)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,u=s[0],l=s[1];return u=u||0,l=(l||0)*a,[Se,Ze].indexOf(o)>=0?{x:l,y:u}:{x:u,y:l}}function AC(n){var t=n.state,e=n.options,o=n.name,a=e.offset,s=a===void 0?[0,0]:a,u=ph.reduce(function(d,v){return d[v]=_C(v,t.rects,s),d},{}),l=u[t.placement],f=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[o]=u}const EC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AC};function IC(n){var t=n.state,e=n.name;t.modifiersData[e]=wh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const NC={name:"popperOffsets",enabled:!0,phase:"read",fn:IC,data:{}};function DC(n){return n==="x"?"y":"x"}function LC(n){var t=n.state,e=n.options,o=n.name,a=e.mainAxis,s=a===void 0?!0:a,u=e.altAxis,l=u===void 0?!1:u,f=e.boundary,h=e.rootBoundary,d=e.altBoundary,v=e.padding,b=e.tether,x=b===void 0?!0:b,O=e.tetherOffset,C=O===void 0?0:O,A=ui(t,{boundary:f,rootBoundary:h,padding:v,altBoundary:d}),z=Cn(t.placement),L=bo(t.placement),j=!L,k=lc(z),P=DC(k),R=t.modifiersData.popperOffsets,U=t.rects.reference,it=t.rects.popper,mt=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,Q=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),xt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,bt={x:0,y:0};if(R){if(s){var at,$t=k==="y"?Me:Se,jt=k==="y"?Ge:Ze,zt=k==="y"?"height":"width",gt=R[k],ht=gt+A[$t],Vt=gt-A[jt],qt=x?-it[zt]/2:0,It=L===go?U[zt]:it[zt],oe=L===go?-it[zt]:-U[zt],ie=t.elements.arrow,ae=x&&ie?cc(ie):{width:0,height:0},Tt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gh(),se=Tt[$t],An=Tt[jt],ge=Yo(0,U[zt],ae[zt]),fn=j?U[zt]/2-qt-ge-se-Q.mainAxis:It-ge-se-Q.mainAxis,pn=j?-U[zt]/2+qt+ge+An+Q.mainAxis:oe+ge+An+Q.mainAxis,Xe=t.elements.arrow&&di(t.elements.arrow),En=Xe?k==="y"?Xe.clientTop||0:Xe.clientLeft||0:0,Kn=(at=xt==null?void 0:xt[k])!=null?at:0,Qt=gt+fn-Kn-En,dn=gt+pn-Kn,pr=Yo(x?Sa(ht,Qt):ht,gt,x?$r(Vt,dn):Vt);R[k]=pr,bt[k]=pr-gt}if(l){var ue,dr=k==="x"?Me:Se,Br=k==="x"?Ge:Ze,ce=R[P],Rt=P==="y"?"height":"width",Ye=ce+A[dr],$e=ce-A[Br],hr=[Me,Se].indexOf(z)!==-1,hn=(ue=xt==null?void 0:xt[P])!=null?ue:0,Pr=hr?Ye:ce-U[Rt]-it[Rt]-hn+Q.altAxis,mn=hr?ce+U[Rt]+it[Rt]-hn-Q.altAxis:$e,Qe=x&&hr?oC(Pr,ce,mn):Yo(x?Pr:Ye,ce,x?mn:$e);R[P]=Qe,bt[P]=Qe-ce}t.modifiersData[o]=bt}}const $C={name:"preventOverflow",enabled:!0,phase:"main",fn:LC,requiresIfExists:["offset"]};function zC(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function RC(n){return n===Le(n)||!Je(n)?fc(n):zC(n)}function jC(n){var t=n.getBoundingClientRect(),e=vo(t.width)/n.offsetWidth||1,o=vo(t.height)/n.offsetHeight||1;return e!==1||o!==1}function BC(n,t,e){e===void 0&&(e=!1);var o=Je(t),a=Je(t)&&jC(t),s=fr(t),u=yo(n,a,e),l={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!e)&&((On(t)!=="body"||dc(s))&&(l=RC(t)),Je(t)?(f=yo(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):s&&(f.x=pc(s))),{x:u.left+l.scrollLeft-f.x,y:u.top+l.scrollTop-f.y,width:u.width,height:u.height}}function PC(n){var t=new Map,e=new Set,o=[];n.forEach(function(s){t.set(s.name,s)});function a(s){e.add(s.name);var u=[].concat(s.requires||[],s.requiresIfExists||[]);u.forEach(function(l){if(!e.has(l)){var f=t.get(l);f&&a(f)}}),o.push(s)}return n.forEach(function(s){e.has(s.name)||a(s)}),o}function HC(n){var t=PC(n);return QS.reduce(function(e,o){return e.concat(t.filter(function(a){return a.phase===o}))},[])}function FC(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function VC(n){var t=n.reduce(function(e,o){var a=e[o.name];return e[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,e},{});return Object.keys(t).map(function(e){return t[e]})}var Vp={placement:"bottom",modifiers:[],strategy:"absolute"};function qp(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function qC(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,o=e===void 0?[]:e,a=t.defaultOptions,s=a===void 0?Vp:a;return function(u,l,f){f===void 0&&(f=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vp,s),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},d=[],v=!1,b={state:h,setOptions:function(C){var A=typeof C=="function"?C(h.options):C;O(),h.options=Object.assign({},s,h.options,A),h.scrollParents={reference:zr(u)?Qo(u):u.contextElement?Qo(u.contextElement):[],popper:Qo(l)};var z=HC(VC([].concat(o,h.options.modifiers)));return h.orderedModifiers=z.filter(function(L){return L.enabled}),x(),b.update()},forceUpdate:function(){if(!v){var C=h.elements,A=C.reference,z=C.popper;if(qp(A,z)){h.rects={reference:BC(A,di(z),h.options.strategy==="fixed"),popper:cc(z)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(it){return h.modifiersData[it.name]=Object.assign({},it.data)});for(var L=0;L<h.orderedModifiers.length;L++){if(h.reset===!0){h.reset=!1,L=-1;continue}var j=h.orderedModifiers[L],k=j.fn,P=j.options,R=P===void 0?{}:P,U=j.name;typeof k=="function"&&(h=k({state:h,options:R,name:U,instance:b})||h)}}}},update:FC(function(){return new Promise(function(C){b.forceUpdate(),C(h)})}),destroy:function(){O(),v=!0}};if(!qp(u,l))return b;b.setOptions(f).then(function(C){!v&&f.onFirstUpdate&&f.onFirstUpdate(C)});function x(){h.orderedModifiers.forEach(function(C){var A=C.name,z=C.options,L=z===void 0?{}:z,j=C.effect;if(typeof j=="function"){var k=j({state:h,name:A,instance:b,options:L}),P=function(){};d.push(k||P)}})}function O(){d.forEach(function(C){return C()}),d=[]}return b}}var WC=[hC,NC,pC,dh,EC,CC,$C,uC,OC],KC=qC({defaultModifiers:WC}),UC="tippy-box",xh="tippy-content",JC="tippy-backdrop",kh="tippy-arrow",Mh="tippy-svg-arrow",Cr={passive:!0,capture:!0},Sh=function(){return document.body};function hu(n,t,e){if(Array.isArray(n)){var o=n[t];return o??(Array.isArray(e)?e[t]:e)}return n}function hc(n,t){var e={}.toString.call(n);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function Ch(n,t){return typeof n=="function"?n.apply(void 0,t):n}function Wp(n,t){if(t===0)return n;var e;return function(o){clearTimeout(e),e=setTimeout(function(){n(o)},t)}}function GC(n){return n.split(/\s+/).filter(Boolean)}function so(n){return[].concat(n)}function Kp(n,t){n.indexOf(t)===-1&&n.push(t)}function ZC(n){return n.filter(function(t,e){return n.indexOf(t)===e})}function XC(n){return n.split("-")[0]}function Ca(n){return[].slice.call(n)}function Up(n){return Object.keys(n).reduce(function(t,e){return n[e]!==void 0&&(t[e]=n[e]),t},{})}function ti(){return document.createElement("div")}function La(n){return["Element","Fragment"].some(function(t){return hc(n,t)})}function YC(n){return hc(n,"NodeList")}function QC(n){return hc(n,"MouseEvent")}function tT(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function eT(n){return La(n)?[n]:YC(n)?Ca(n):Array.isArray(n)?n:Ca(document.querySelectorAll(n))}function mu(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Jp(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function nT(n){var t,e=so(n),o=e[0];return o!=null&&(t=o.ownerDocument)!=null&&t.body?o.ownerDocument:document}function rT(n,t){var e=t.clientX,o=t.clientY;return n.every(function(a){var s=a.popperRect,u=a.popperState,l=a.props,f=l.interactiveBorder,h=XC(u.placement),d=u.modifiersData.offset;if(!d)return!0;var v=h==="bottom"?d.top.y:0,b=h==="top"?d.bottom.y:0,x=h==="right"?d.left.x:0,O=h==="left"?d.right.x:0,C=s.top-o+v>f,A=o-s.bottom-b>f,z=s.left-e+x>f,L=e-s.right-O>f;return C||A||z||L})}function gu(n,t,e){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){n[o](a,e)})}function Gp(n,t){for(var e=t;e;){var o;if(n.contains(e))return!0;e=e.getRootNode==null||(o=e.getRootNode())==null?void 0:o.host}return!1}var xn={isTouch:!1},Zp=0;function oT(){xn.isTouch||(xn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Th))}function Th(){var n=performance.now();n-Zp<20&&(xn.isTouch=!1,document.removeEventListener("mousemove",Th)),Zp=n}function iT(){var n=document.activeElement;if(tT(n)){var t=n._tippy;n.blur&&!t.state.isVisible&&n.blur()}}function aT(){document.addEventListener("touchstart",oT,Cr),window.addEventListener("blur",iT)}var sT=typeof window<"u"&&typeof document<"u",uT=sT?!!window.msCrypto:!1,cT={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},lT={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},sn=Object.assign({appendTo:Sh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},cT,lT),fT=Object.keys(sn),pT=function(n){var t=Object.keys(n);t.forEach(function(e){sn[e]=n[e]})};function Oh(n){var t=n.plugins||[],e=t.reduce(function(o,a){var s=a.name,u=a.defaultValue;if(s){var l;o[s]=n[s]!==void 0?n[s]:(l=sn[s])!=null?l:u}return o},{});return Object.assign({},n,e)}function dT(n,t){var e=t?Object.keys(Oh(Object.assign({},sn,{plugins:t}))):fT,o=e.reduce(function(a,s){var u=(n.getAttribute("data-tippy-"+s)||"").trim();if(!u)return a;if(s==="content")a[s]=u;else try{a[s]=JSON.parse(u)}catch{a[s]=u}return a},{});return o}function Xp(n,t){var e=Object.assign({},t,{content:Ch(t.content,[n])},t.ignoreAttributes?{}:dT(n,t.plugins));return e.aria=Object.assign({},sn.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var hT=function(){return"innerHTML"};function Ru(n,t){n[hT()]=t}function Yp(n){var t=ti();return n===!0?t.className=kh:(t.className=Mh,La(n)?t.appendChild(n):Ru(t,n)),t}function Qp(n,t){La(t.content)?(Ru(n,""),n.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Ru(n,t.content):n.textContent=t.content)}function ju(n){var t=n.firstElementChild,e=Ca(t.children);return{box:t,content:e.find(function(o){return o.classList.contains(xh)}),arrow:e.find(function(o){return o.classList.contains(kh)||o.classList.contains(Mh)}),backdrop:e.find(function(o){return o.classList.contains(JC)})}}function _h(n){var t=ti(),e=ti();e.className=UC,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var o=ti();o.className=xh,o.setAttribute("data-state","hidden"),Qp(o,n.props),t.appendChild(e),e.appendChild(o),a(n.props,n.props);function a(s,u){var l=ju(t),f=l.box,h=l.content,d=l.arrow;u.theme?f.setAttribute("data-theme",u.theme):f.removeAttribute("data-theme"),typeof u.animation=="string"?f.setAttribute("data-animation",u.animation):f.removeAttribute("data-animation"),u.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof u.maxWidth=="number"?u.maxWidth+"px":u.maxWidth,u.role?f.setAttribute("role",u.role):f.removeAttribute("role"),(s.content!==u.content||s.allowHTML!==u.allowHTML)&&Qp(h,n.props),u.arrow?d?s.arrow!==u.arrow&&(f.removeChild(d),f.appendChild(Yp(u.arrow))):f.appendChild(Yp(u.arrow)):d&&f.removeChild(d)}return{popper:t,onUpdate:a}}_h.$$tippy=!0;var mT=1,ua=[],vu=[];function gT(n,t){var e=Xp(n,Object.assign({},sn,Oh(Up(t)))),o,a,s,u=!1,l=!1,f=!1,h=!1,d,v,b,x=[],O=Wp(Qt,e.interactiveDebounce),C,A=mT++,z=null,L=ZC(e.plugins),j={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:A,reference:n,popper:ti(),popperInstance:z,props:e,state:j,plugins:L,clearDelayTimeouts:Pr,setProps:mn,setContent:Qe,show:ko,hide:Mo,hideWithInteractivity:So,enable:hr,disable:hn,unmount:Co,destroy:To};if(!e.render)return k;var P=e.render(k),R=P.popper,U=P.onUpdate;R.setAttribute("data-tippy-root",""),R.id="tippy-"+k.id,k.popper=R,n._tippy=k,R._tippy=k;var it=L.map(function(E){return E.fn(k)}),mt=n.hasAttribute("aria-expanded");return Xe(),qt(),gt(),ht("onCreate",[k]),e.showOnCreate&&Ye(),R.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),R.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&$t().addEventListener("mousemove",O)}),k;function Q(){var E=k.props.touch;return Array.isArray(E)?E:[E,0]}function xt(){return Q()[0]==="hold"}function bt(){var E;return!!((E=k.props.render)!=null&&E.$$tippy)}function at(){return C||n}function $t(){var E=at().parentNode;return E?nT(E):document}function jt(){return ju(R)}function zt(E){return k.state.isMounted&&!k.state.isVisible||xn.isTouch||d&&d.type==="focus"?0:hu(k.props.delay,E?0:1,sn.delay)}function gt(E){E===void 0&&(E=!1),R.style.pointerEvents=k.props.interactive&&!E?"":"none",R.style.zIndex=""+k.props.zIndex}function ht(E,V,G){if(G===void 0&&(G=!0),it.forEach(function(ft){ft[E]&&ft[E].apply(ft,V)}),G){var dt;(dt=k.props)[E].apply(dt,V)}}function Vt(){var E=k.props.aria;if(E.content){var V="aria-"+E.content,G=R.id,dt=so(k.props.triggerTarget||n);dt.forEach(function(ft){var Gt=ft.getAttribute(V);if(k.state.isVisible)ft.setAttribute(V,Gt?Gt+" "+G:G);else{var ve=Gt&&Gt.replace(G,"").trim();ve?ft.setAttribute(V,ve):ft.removeAttribute(V)}})}}function qt(){if(!(mt||!k.props.aria.expanded)){var E=so(k.props.triggerTarget||n);E.forEach(function(V){k.props.interactive?V.setAttribute("aria-expanded",k.state.isVisible&&V===at()?"true":"false"):V.removeAttribute("aria-expanded")})}}function It(){$t().removeEventListener("mousemove",O),ua=ua.filter(function(E){return E!==O})}function oe(E){if(!(xn.isTouch&&(f||E.type==="mousedown"))){var V=E.composedPath&&E.composedPath()[0]||E.target;if(!(k.props.interactive&&Gp(R,V))){if(so(k.props.triggerTarget||n).some(function(G){return Gp(G,V)})){if(xn.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else ht("onClickOutside",[k,E]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),l=!0,setTimeout(function(){l=!1}),k.state.isMounted||se())}}}function ie(){f=!0}function ae(){f=!1}function Tt(){var E=$t();E.addEventListener("mousedown",oe,!0),E.addEventListener("touchend",oe,Cr),E.addEventListener("touchstart",ae,Cr),E.addEventListener("touchmove",ie,Cr)}function se(){var E=$t();E.removeEventListener("mousedown",oe,!0),E.removeEventListener("touchend",oe,Cr),E.removeEventListener("touchstart",ae,Cr),E.removeEventListener("touchmove",ie,Cr)}function An(E,V){fn(E,function(){!k.state.isVisible&&R.parentNode&&R.parentNode.contains(R)&&V()})}function ge(E,V){fn(E,V)}function fn(E,V){var G=jt().box;function dt(ft){ft.target===G&&(gu(G,"remove",dt),V())}if(E===0)return V();gu(G,"remove",v),gu(G,"add",dt),v=dt}function pn(E,V,G){G===void 0&&(G=!1);var dt=so(k.props.triggerTarget||n);dt.forEach(function(ft){ft.addEventListener(E,V,G),x.push({node:ft,eventType:E,handler:V,options:G})})}function Xe(){xt()&&(pn("touchstart",Kn,{passive:!0}),pn("touchend",dn,{passive:!0})),GC(k.props.trigger).forEach(function(E){if(E!=="manual")switch(pn(E,Kn),E){case"mouseenter":pn("mouseleave",dn);break;case"focus":pn(uT?"focusout":"blur",pr);break;case"focusin":pn("focusout",pr);break}})}function En(){x.forEach(function(E){var V=E.node,G=E.eventType,dt=E.handler,ft=E.options;V.removeEventListener(G,dt,ft)}),x=[]}function Kn(E){var V,G=!1;if(!(!k.state.isEnabled||ue(E)||l)){var dt=((V=d)==null?void 0:V.type)==="focus";d=E,C=E.currentTarget,qt(),!k.state.isVisible&&QC(E)&&ua.forEach(function(ft){return ft(E)}),E.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||u)&&k.props.hideOnClick!==!1&&k.state.isVisible?G=!0:Ye(E),E.type==="click"&&(u=!G),G&&!dt&&$e(E)}}function Qt(E){var V=E.target,G=at().contains(V)||R.contains(V);if(!(E.type==="mousemove"&&G)){var dt=Rt().concat(R).map(function(ft){var Gt,ve=ft._tippy,In=(Gt=ve.popperInstance)==null?void 0:Gt.state;return In?{popperRect:ft.getBoundingClientRect(),popperState:In,props:e}:null}).filter(Boolean);rT(dt,E)&&(It(),$e(E))}}function dn(E){var V=ue(E)||k.props.trigger.indexOf("click")>=0&&u;if(!V){if(k.props.interactive){k.hideWithInteractivity(E);return}$e(E)}}function pr(E){k.props.trigger.indexOf("focusin")<0&&E.target!==at()||k.props.interactive&&E.relatedTarget&&R.contains(E.relatedTarget)||$e(E)}function ue(E){return xn.isTouch?xt()!==E.type.indexOf("touch")>=0:!1}function dr(){Br();var E=k.props,V=E.popperOptions,G=E.placement,dt=E.offset,ft=E.getReferenceClientRect,Gt=E.moveTransition,ve=bt()?ju(R).arrow:null,In=ft?{getBoundingClientRect:ft,contextElement:ft.contextElement||at()}:n,mr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Hr){var Un=Hr.state;if(bt()){var ja=jt(),Fr=ja.box;["placement","reference-hidden","escaped"].forEach(function(Vr){Vr==="placement"?Fr.setAttribute("data-placement",Un.placement):Un.attributes.popper["data-popper-"+Vr]?Fr.setAttribute("data-"+Vr,""):Fr.removeAttribute("data-"+Vr)}),Un.attributes.popper={}}}},Nn=[{name:"offset",options:{offset:dt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Gt}},mr];bt()&&ve&&Nn.push({name:"arrow",options:{element:ve,padding:3}}),Nn.push.apply(Nn,(V==null?void 0:V.modifiers)||[]),k.popperInstance=KC(In,R,Object.assign({},V,{placement:G,onFirstUpdate:b,modifiers:Nn}))}function Br(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function ce(){var E=k.props.appendTo,V,G=at();k.props.interactive&&E===Sh||E==="parent"?V=G.parentNode:V=Ch(E,[G]),V.contains(R)||V.appendChild(R),k.state.isMounted=!0,dr()}function Rt(){return Ca(R.querySelectorAll("[data-tippy-root]"))}function Ye(E){k.clearDelayTimeouts(),E&&ht("onTrigger",[k,E]),Tt();var V=zt(!0),G=Q(),dt=G[0],ft=G[1];xn.isTouch&&dt==="hold"&&ft&&(V=ft),V?o=setTimeout(function(){k.show()},V):k.show()}function $e(E){if(k.clearDelayTimeouts(),ht("onUntrigger",[k,E]),!k.state.isVisible){se();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(E.type)>=0&&u)){var V=zt(!1);V?a=setTimeout(function(){k.state.isVisible&&k.hide()},V):s=requestAnimationFrame(function(){k.hide()})}}function hr(){k.state.isEnabled=!0}function hn(){k.hide(),k.state.isEnabled=!1}function Pr(){clearTimeout(o),clearTimeout(a),cancelAnimationFrame(s)}function mn(E){if(!k.state.isDestroyed){ht("onBeforeUpdate",[k,E]),En();var V=k.props,G=Xp(n,Object.assign({},V,Up(E),{ignoreAttributes:!0}));k.props=G,Xe(),V.interactiveDebounce!==G.interactiveDebounce&&(It(),O=Wp(Qt,G.interactiveDebounce)),V.triggerTarget&&!G.triggerTarget?so(V.triggerTarget).forEach(function(dt){dt.removeAttribute("aria-expanded")}):G.triggerTarget&&n.removeAttribute("aria-expanded"),qt(),gt(),U&&U(V,G),k.popperInstance&&(dr(),Rt().forEach(function(dt){requestAnimationFrame(dt._tippy.popperInstance.forceUpdate)})),ht("onAfterUpdate",[k,E])}}function Qe(E){k.setProps({content:E})}function ko(){var E=k.state.isVisible,V=k.state.isDestroyed,G=!k.state.isEnabled,dt=xn.isTouch&&!k.props.touch,ft=hu(k.props.duration,0,sn.duration);if(!(E||V||G||dt)&&!at().hasAttribute("disabled")&&(ht("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,bt()&&(R.style.visibility="visible"),gt(),Tt(),k.state.isMounted||(R.style.transition="none"),bt()){var Gt=jt(),ve=Gt.box,In=Gt.content;mu([ve,In],0)}b=function(){var mr;if(!(!k.state.isVisible||h)){if(h=!0,R.offsetHeight,R.style.transition=k.props.moveTransition,bt()&&k.props.animation){var Nn=jt(),Hr=Nn.box,Un=Nn.content;mu([Hr,Un],ft),Jp([Hr,Un],"visible")}Vt(),qt(),Kp(vu,k),(mr=k.popperInstance)==null||mr.forceUpdate(),ht("onMount",[k]),k.props.animation&&bt()&&ge(ft,function(){k.state.isShown=!0,ht("onShown",[k])})}},ce()}}function Mo(){var E=!k.state.isVisible,V=k.state.isDestroyed,G=!k.state.isEnabled,dt=hu(k.props.duration,1,sn.duration);if(!(E||V||G)&&(ht("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,h=!1,u=!1,bt()&&(R.style.visibility="hidden"),It(),se(),gt(!0),bt()){var ft=jt(),Gt=ft.box,ve=ft.content;k.props.animation&&(mu([Gt,ve],dt),Jp([Gt,ve],"hidden"))}Vt(),qt(),k.props.animation?bt()&&An(dt,k.unmount):k.unmount()}}function So(E){$t().addEventListener("mousemove",O),Kp(ua,O),O(E)}function Co(){k.state.isVisible&&k.hide(),k.state.isMounted&&(Br(),Rt().forEach(function(E){E._tippy.unmount()}),R.parentNode&&R.parentNode.removeChild(R),vu=vu.filter(function(E){return E!==k}),k.state.isMounted=!1,ht("onHidden",[k]))}function To(){!k.state.isDestroyed&&(k.clearDelayTimeouts(),k.unmount(),En(),delete n._tippy,k.state.isDestroyed=!0,ht("onDestroy",[k]))}}function xo(n,t){t===void 0&&(t={});var e=sn.plugins.concat(t.plugins||[]);aT();var o=Object.assign({},t,{plugins:e}),a=eT(n),s=a.reduce(function(u,l){var f=l&&gT(l,o);return f&&u.push(f),u},[]);return La(n)?s[0]:s}xo.defaultProps=sn;xo.setDefaultProps=pT;xo.currentInput=xn;Object.assign({},dh,{effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow)}});xo.setDefaultProps({render:_h});class vT{constructor({editor:t,element:e,view:o,tippyOptions:a={},updateDelay:s=250,shouldShow:u}){this.preventHide=!1,this.shouldShow=({view:l,state:f,from:h,to:d})=>{const{doc:v,selection:b}=f,{empty:x}=b,O=!v.textBetween(h,d).length&&ec(f.selection),C=this.element.contains(document.activeElement);return!(!(l.hasFocus()||C)||x||O||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var f;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&!((f=this.element.parentNode)===null||f===void 0)&&f.contains(l.relatedTarget)||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,f)=>{const h=!(f!=null&&f.selection.eq(l.state.selection)),d=!(f!=null&&f.doc.eq(l.state.doc));!h&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,h,d,f)},this.updateDelay))},this.updateHandler=(l,f,h,d)=>{var v,b,x;const{state:O,composing:C}=l,{selection:A}=O;if(C||!f&&!h)return;this.createTooltip();const{ranges:z}=A,L=Math.min(...z.map(k=>k.$from.pos)),j=Math.max(...z.map(k=>k.$to.pos));if(!(!((v=this.shouldShow)===null||v===void 0)&&v.call(this,{editor:this.editor,view:l,state:O,oldState:d,from:L,to:j}))){this.hide();return}(b=this.tippy)===null||b===void 0||b.setProps({getReferenceClientRect:((x=this.tippyOptions)===null||x===void 0?void 0:x.getReferenceClientRect)||(()=>{if(kM(O.selection)){let k=l.nodeDOM(L);const P=k.dataset.nodeViewWrapper?k:k.querySelector("[data-node-view-wrapper]");if(P&&(k=P.firstChild),k)return k.getBoundingClientRect()}return ah(l,L,j)})}),this.show()},this.editor=t,this.element=e,this.view=o,this.updateDelay=s,u&&(this.shouldShow=u),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=a,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;this.tippy||!e||(this.tippy=xo(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){const{state:o}=t,a=o.selection.$from.pos!==o.selection.$to.pos;if(this.updateDelay>0&&a){this.handleDebouncedUpdate(t,e);return}const s=!(e!=null&&e.selection.eq(t.state.selection)),u=!(e!=null&&e.doc.eq(t.state.doc));this.updateHandler(t,s,u,e)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,e;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const yT=n=>new cn({key:typeof n.pluginKey=="string"?new _n(n.pluginKey):n.pluginKey,view:t=>new vT({view:t,...n})});me.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[yT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class bT{constructor({editor:t,element:e,view:o,tippyOptions:a={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:u,state:l})=>{const{selection:f}=l,{$anchor:h,empty:d}=f,v=h.depth===1,b=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!u.hasFocus()||!d||!v||!b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var l;if(this.preventHide){this.preventHide=!1;return}u!=null&&u.relatedTarget&&!((l=this.element.parentNode)===null||l===void 0)&&l.contains(u.relatedTarget)||this.hide()},this.tippyBlurHandler=u=>{this.blurHandler({event:u})},this.editor=t,this.element=e,this.view=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=a,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;this.tippy||!e||(this.tippy=xo(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){var o,a,s;const{state:u}=t,{doc:l,selection:f}=u,{from:h,to:d}=f;if(!(e&&e.doc.eq(l)&&e.selection.eq(f))){if(this.createTooltip(),!(!((o=this.shouldShow)===null||o===void 0)&&o.call(this,{editor:this.editor,view:t,state:u,oldState:e}))){this.hide();return}(a=this.tippy)===null||a===void 0||a.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>ah(t,h,d))}),this.show()}}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,e;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const wT=n=>new cn({key:typeof n.pluginKey=="string"?new _n(n.pluginKey):n.pluginKey,view:t=>new bT({view:t,...n})});me.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[wT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ta={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ta.exports;(function(n,t){(function(){var e,o="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",v=1,b=2,x=4,O=1,C=2,A=1,z=2,L=4,j=8,k=16,P=32,R=64,U=128,it=256,mt=512,Q=30,xt="...",bt=800,at=16,$t=1,jt=2,zt=3,gt=1/0,ht=9007199254740991,Vt=17976931348623157e292,qt=0/0,It=4294967295,oe=It-1,ie=It>>>1,ae=[["ary",U],["bind",A],["bindKey",z],["curry",j],["curryRight",k],["flip",mt],["partial",P],["partialRight",R],["rearg",it]],Tt="[object Arguments]",se="[object Array]",An="[object AsyncFunction]",ge="[object Boolean]",fn="[object Date]",pn="[object DOMException]",Xe="[object Error]",En="[object Function]",Kn="[object GeneratorFunction]",Qt="[object Map]",dn="[object Number]",pr="[object Null]",ue="[object Object]",dr="[object Promise]",Br="[object Proxy]",ce="[object RegExp]",Rt="[object Set]",Ye="[object String]",$e="[object Symbol]",hr="[object Undefined]",hn="[object WeakMap]",Pr="[object WeakSet]",mn="[object ArrayBuffer]",Qe="[object DataView]",ko="[object Float32Array]",Mo="[object Float64Array]",So="[object Int8Array]",Co="[object Int16Array]",To="[object Int32Array]",E="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",dt="[object Uint32Array]",ft=/\b__p \+= '';/g,Gt=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/&(?:amp|lt|gt|quot|#39);/g,mr=/[&<>"']/g,Nn=RegExp(In.source),Hr=RegExp(mr.source),Un=/<%-([\s\S]+?)%>/g,ja=/<%([\s\S]+?)%>/g,Fr=/<%=([\s\S]+?)%>/g,Vr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uh=/^\w*$/,Jh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ba=/[\\^$.*+?()[\]{}|]/g,Gh=RegExp(Ba.source),Pa=/^\s+/,Zh=/\s/,Xh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yh=/\{\n\/\* \[wrapped with (.+)\] \*/,Qh=/,? & /,tm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,em=/[()=,{}\[\]\/\s]/,nm=/\\(\\)?/g,rm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cc=/\w*$/,om=/^[-+]0x[0-9a-f]+$/i,im=/^0b[01]+$/i,am=/^\[object .+?Constructor\]$/,sm=/^0o[0-7]+$/i,um=/^(?:0|[1-9]\d*)$/,cm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hi=/($^)/,lm=/['\n\r\u2028\u2029\\]/g,mi="\\ud800-\\udfff",fm="\\u0300-\\u036f",pm="\\ufe20-\\ufe2f",dm="\\u20d0-\\u20ff",Tc=fm+pm+dm,Oc="\\u2700-\\u27bf",_c="a-z\\xdf-\\xf6\\xf8-\\xff",hm="\\xac\\xb1\\xd7\\xf7",mm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gm="\\u2000-\\u206f",vm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ac="A-Z\\xc0-\\xd6\\xd8-\\xde",Ec="\\ufe0e\\ufe0f",Ic=hm+mm+gm+vm,Ha="['’]",ym="["+mi+"]",Nc="["+Ic+"]",gi="["+Tc+"]",Dc="\\d+",bm="["+Oc+"]",Lc="["+_c+"]",$c="[^"+mi+Ic+Dc+Oc+_c+Ac+"]",Fa="\\ud83c[\\udffb-\\udfff]",wm="(?:"+gi+"|"+Fa+")",zc="[^"+mi+"]",Va="(?:\\ud83c[\\udde6-\\uddff]){2}",qa="[\\ud800-\\udbff][\\udc00-\\udfff]",qr="["+Ac+"]",Rc="\\u200d",jc="(?:"+Lc+"|"+$c+")",xm="(?:"+qr+"|"+$c+")",Bc="(?:"+Ha+"(?:d|ll|m|re|s|t|ve))?",Pc="(?:"+Ha+"(?:D|LL|M|RE|S|T|VE))?",Hc=wm+"?",Fc="["+Ec+"]?",km="(?:"+Rc+"(?:"+[zc,Va,qa].join("|")+")"+Fc+Hc+")*",Mm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vc=Fc+Hc+km,Cm="(?:"+[bm,Va,qa].join("|")+")"+Vc,Tm="(?:"+[zc+gi+"?",gi,Va,qa,ym].join("|")+")",Om=RegExp(Ha,"g"),_m=RegExp(gi,"g"),Wa=RegExp(Fa+"(?="+Fa+")|"+Tm+Vc,"g"),Am=RegExp([qr+"?"+Lc+"+"+Bc+"(?="+[Nc,qr,"$"].join("|")+")",xm+"+"+Pc+"(?="+[Nc,qr+jc,"$"].join("|")+")",qr+"?"+jc+"+"+Bc,qr+"+"+Pc,Sm,Mm,Dc,Cm].join("|"),"g"),Em=RegExp("["+Rc+mi+Tc+Ec+"]"),Im=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dm=-1,St={};St[ko]=St[Mo]=St[So]=St[Co]=St[To]=St[E]=St[V]=St[G]=St[dt]=!0,St[Tt]=St[se]=St[mn]=St[ge]=St[Qe]=St[fn]=St[Xe]=St[En]=St[Qt]=St[dn]=St[ue]=St[ce]=St[Rt]=St[Ye]=St[hn]=!1;var Mt={};Mt[Tt]=Mt[se]=Mt[mn]=Mt[Qe]=Mt[ge]=Mt[fn]=Mt[ko]=Mt[Mo]=Mt[So]=Mt[Co]=Mt[To]=Mt[Qt]=Mt[dn]=Mt[ue]=Mt[ce]=Mt[Rt]=Mt[Ye]=Mt[$e]=Mt[E]=Mt[V]=Mt[G]=Mt[dt]=!0,Mt[Xe]=Mt[En]=Mt[hn]=!1;var Lm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jm=parseFloat,Bm=parseInt,qc=typeof qo=="object"&&qo&&qo.Object===Object&&qo,Pm=typeof self=="object"&&self&&self.Object===Object&&self,Zt=qc||Pm||Function("return this")(),Ka=t&&!t.nodeType&&t,gr=Ka&&!0&&n&&!n.nodeType&&n,Wc=gr&&gr.exports===Ka,Ua=Wc&&qc.process,ze=function(){try{var S=gr&&gr.require&&gr.require("util").types;return S||Ua&&Ua.binding&&Ua.binding("util")}catch{}}(),Kc=ze&&ze.isArrayBuffer,Uc=ze&&ze.isDate,Jc=ze&&ze.isMap,Gc=ze&&ze.isRegExp,Zc=ze&&ze.isSet,Xc=ze&&ze.isTypedArray;function Te(S,I,_){switch(_.length){case 0:return S.call(I);case 1:return S.call(I,_[0]);case 2:return S.call(I,_[0],_[1]);case 3:return S.call(I,_[0],_[1],_[2])}return S.apply(I,_)}function Hm(S,I,_,H){for(var tt=-1,vt=S==null?0:S.length;++tt<vt;){var Bt=S[tt];I(H,Bt,_(Bt),S)}return H}function Re(S,I){for(var _=-1,H=S==null?0:S.length;++_<H&&I(S[_],_,S)!==!1;);return S}function Fm(S,I){for(var _=S==null?0:S.length;_--&&I(S[_],_,S)!==!1;);return S}function Yc(S,I){for(var _=-1,H=S==null?0:S.length;++_<H;)if(!I(S[_],_,S))return!1;return!0}function Jn(S,I){for(var _=-1,H=S==null?0:S.length,tt=0,vt=[];++_<H;){var Bt=S[_];I(Bt,_,S)&&(vt[tt++]=Bt)}return vt}function vi(S,I){var _=S==null?0:S.length;return!!_&&Wr(S,I,0)>-1}function Ja(S,I,_){for(var H=-1,tt=S==null?0:S.length;++H<tt;)if(_(I,S[H]))return!0;return!1}function Ct(S,I){for(var _=-1,H=S==null?0:S.length,tt=Array(H);++_<H;)tt[_]=I(S[_],_,S);return tt}function Gn(S,I){for(var _=-1,H=I.length,tt=S.length;++_<H;)S[tt+_]=I[_];return S}function Ga(S,I,_,H){var tt=-1,vt=S==null?0:S.length;for(H&&vt&&(_=S[++tt]);++tt<vt;)_=I(_,S[tt],tt,S);return _}function Vm(S,I,_,H){var tt=S==null?0:S.length;for(H&&tt&&(_=S[--tt]);tt--;)_=I(_,S[tt],tt,S);return _}function Za(S,I){for(var _=-1,H=S==null?0:S.length;++_<H;)if(I(S[_],_,S))return!0;return!1}var qm=Xa("length");function Wm(S){return S.split("")}function Km(S){return S.match(tm)||[]}function Qc(S,I,_){var H;return _(S,function(tt,vt,Bt){if(I(tt,vt,Bt))return H=vt,!1}),H}function yi(S,I,_,H){for(var tt=S.length,vt=_+(H?1:-1);H?vt--:++vt<tt;)if(I(S[vt],vt,S))return vt;return-1}function Wr(S,I,_){return I===I?og(S,I,_):yi(S,tl,_)}function Um(S,I,_,H){for(var tt=_-1,vt=S.length;++tt<vt;)if(H(S[tt],I))return tt;return-1}function tl(S){return S!==S}function el(S,I){var _=S==null?0:S.length;return _?Qa(S,I)/_:qt}function Xa(S){return function(I){return I==null?e:I[S]}}function Ya(S){return function(I){return S==null?e:S[I]}}function nl(S,I,_,H,tt){return tt(S,function(vt,Bt,kt){_=H?(H=!1,vt):I(_,vt,Bt,kt)}),_}function Jm(S,I){var _=S.length;for(S.sort(I);_--;)S[_]=S[_].value;return S}function Qa(S,I){for(var _,H=-1,tt=S.length;++H<tt;){var vt=I(S[H]);vt!==e&&(_=_===e?vt:_+vt)}return _}function ts(S,I){for(var _=-1,H=Array(S);++_<S;)H[_]=I(_);return H}function Gm(S,I){return Ct(I,function(_){return[_,S[_]]})}function rl(S){return S&&S.slice(0,sl(S)+1).replace(Pa,"")}function Oe(S){return function(I){return S(I)}}function es(S,I){return Ct(I,function(_){return S[_]})}function Oo(S,I){return S.has(I)}function ol(S,I){for(var _=-1,H=S.length;++_<H&&Wr(I,S[_],0)>-1;);return _}function il(S,I){for(var _=S.length;_--&&Wr(I,S[_],0)>-1;);return _}function Zm(S,I){for(var _=S.length,H=0;_--;)S[_]===I&&++H;return H}var Xm=Ya(Lm),Ym=Ya($m);function Qm(S){return"\\"+Rm[S]}function tg(S,I){return S==null?e:S[I]}function Kr(S){return Em.test(S)}function eg(S){return Im.test(S)}function ng(S){for(var I,_=[];!(I=S.next()).done;)_.push(I.value);return _}function ns(S){var I=-1,_=Array(S.size);return S.forEach(function(H,tt){_[++I]=[tt,H]}),_}function al(S,I){return function(_){return S(I(_))}}function Zn(S,I){for(var _=-1,H=S.length,tt=0,vt=[];++_<H;){var Bt=S[_];(Bt===I||Bt===d)&&(S[_]=d,vt[tt++]=_)}return vt}function bi(S){var I=-1,_=Array(S.size);return S.forEach(function(H){_[++I]=H}),_}function rg(S){var I=-1,_=Array(S.size);return S.forEach(function(H){_[++I]=[H,H]}),_}function og(S,I,_){for(var H=_-1,tt=S.length;++H<tt;)if(S[H]===I)return H;return-1}function ig(S,I,_){for(var H=_+1;H--;)if(S[H]===I)return H;return H}function Ur(S){return Kr(S)?sg(S):qm(S)}function tn(S){return Kr(S)?ug(S):Wm(S)}function sl(S){for(var I=S.length;I--&&Zh.test(S.charAt(I)););return I}var ag=Ya(zm);function sg(S){for(var I=Wa.lastIndex=0;Wa.test(S);)++I;return I}function ug(S){return S.match(Wa)||[]}function cg(S){return S.match(Am)||[]}var lg=function S(I){I=I==null?Zt:Jr.defaults(Zt.Object(),I,Jr.pick(Zt,Nm));var _=I.Array,H=I.Date,tt=I.Error,vt=I.Function,Bt=I.Math,kt=I.Object,rs=I.RegExp,fg=I.String,je=I.TypeError,wi=_.prototype,pg=vt.prototype,Gr=kt.prototype,xi=I["__core-js_shared__"],ki=pg.toString,wt=Gr.hasOwnProperty,dg=0,ul=function(){var r=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Mi=Gr.toString,hg=ki.call(kt),mg=Zt._,gg=rs("^"+ki.call(wt).replace(Ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Si=Wc?I.Buffer:e,Xn=I.Symbol,Ci=I.Uint8Array,cl=Si?Si.allocUnsafe:e,Ti=al(kt.getPrototypeOf,kt),ll=kt.create,fl=Gr.propertyIsEnumerable,Oi=wi.splice,pl=Xn?Xn.isConcatSpreadable:e,_o=Xn?Xn.iterator:e,vr=Xn?Xn.toStringTag:e,_i=function(){try{var r=kr(kt,"defineProperty");return r({},"",{}),r}catch{}}(),vg=I.clearTimeout!==Zt.clearTimeout&&I.clearTimeout,yg=H&&H.now!==Zt.Date.now&&H.now,bg=I.setTimeout!==Zt.setTimeout&&I.setTimeout,Ai=Bt.ceil,Ei=Bt.floor,is=kt.getOwnPropertySymbols,wg=Si?Si.isBuffer:e,dl=I.isFinite,xg=wi.join,kg=al(kt.keys,kt),Pt=Bt.max,te=Bt.min,Mg=H.now,Sg=I.parseInt,hl=Bt.random,Cg=wi.reverse,as=kr(I,"DataView"),Ao=kr(I,"Map"),ss=kr(I,"Promise"),Zr=kr(I,"Set"),Eo=kr(I,"WeakMap"),Io=kr(kt,"create"),Ii=Eo&&new Eo,Xr={},Tg=Mr(as),Og=Mr(Ao),_g=Mr(ss),Ag=Mr(Zr),Eg=Mr(Eo),Ni=Xn?Xn.prototype:e,No=Ni?Ni.valueOf:e,ml=Ni?Ni.toString:e;function g(r){if(_t(r)&&!et(r)&&!(r instanceof ut)){if(r instanceof Be)return r;if(wt.call(r,"__wrapped__"))return vf(r)}return new Be(r)}var Yr=function(){function r(){}return function(i){if(!Ot(i))return{};if(ll)return ll(i);r.prototype=i;var c=new r;return r.prototype=e,c}}();function Di(){}function Be(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=e}g.templateSettings={escape:Un,evaluate:ja,interpolate:Fr,variable:"",imports:{_:g}},g.prototype=Di.prototype,g.prototype.constructor=g,Be.prototype=Yr(Di.prototype),Be.prototype.constructor=Be;function ut(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=It,this.__views__=[]}function Ig(){var r=new ut(this.__wrapped__);return r.__actions__=ye(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ye(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ye(this.__views__),r}function Ng(){if(this.__filtered__){var r=new ut(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Dg(){var r=this.__wrapped__.value(),i=this.__dir__,c=et(r),p=i<0,m=c?r.length:0,y=W0(0,m,this.__views__),w=y.start,M=y.end,T=M-w,N=p?M:w-1,D=this.__iteratees__,$=D.length,B=0,q=te(T,this.__takeCount__);if(!c||!p&&m==T&&q==T)return Bl(r,this.__actions__);var Z=[];t:for(;T--&&B<q;){N+=i;for(var rt=-1,X=r[N];++rt<$;){var st=D[rt],pt=st.iteratee,Ee=st.type,pe=pt(X);if(Ee==jt)X=pe;else if(!pe){if(Ee==$t)continue t;break t}}Z[B++]=X}return Z}ut.prototype=Yr(Di.prototype),ut.prototype.constructor=ut;function yr(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var p=r[i];this.set(p[0],p[1])}}function Lg(){this.__data__=Io?Io(null):{},this.size=0}function $g(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function zg(r){var i=this.__data__;if(Io){var c=i[r];return c===f?e:c}return wt.call(i,r)?i[r]:e}function Rg(r){var i=this.__data__;return Io?i[r]!==e:wt.call(i,r)}function jg(r,i){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Io&&i===e?f:i,this}yr.prototype.clear=Lg,yr.prototype.delete=$g,yr.prototype.get=zg,yr.prototype.has=Rg,yr.prototype.set=jg;function Dn(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var p=r[i];this.set(p[0],p[1])}}function Bg(){this.__data__=[],this.size=0}function Pg(r){var i=this.__data__,c=Li(i,r);if(c<0)return!1;var p=i.length-1;return c==p?i.pop():Oi.call(i,c,1),--this.size,!0}function Hg(r){var i=this.__data__,c=Li(i,r);return c<0?e:i[c][1]}function Fg(r){return Li(this.__data__,r)>-1}function Vg(r,i){var c=this.__data__,p=Li(c,r);return p<0?(++this.size,c.push([r,i])):c[p][1]=i,this}Dn.prototype.clear=Bg,Dn.prototype.delete=Pg,Dn.prototype.get=Hg,Dn.prototype.has=Fg,Dn.prototype.set=Vg;function Ln(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var p=r[i];this.set(p[0],p[1])}}function qg(){this.size=0,this.__data__={hash:new yr,map:new(Ao||Dn),string:new yr}}function Wg(r){var i=Ki(this,r).delete(r);return this.size-=i?1:0,i}function Kg(r){return Ki(this,r).get(r)}function Ug(r){return Ki(this,r).has(r)}function Jg(r,i){var c=Ki(this,r),p=c.size;return c.set(r,i),this.size+=c.size==p?0:1,this}Ln.prototype.clear=qg,Ln.prototype.delete=Wg,Ln.prototype.get=Kg,Ln.prototype.has=Ug,Ln.prototype.set=Jg;function br(r){var i=-1,c=r==null?0:r.length;for(this.__data__=new Ln;++i<c;)this.add(r[i])}function Gg(r){return this.__data__.set(r,f),this}function Zg(r){return this.__data__.has(r)}br.prototype.add=br.prototype.push=Gg,br.prototype.has=Zg;function en(r){var i=this.__data__=new Dn(r);this.size=i.size}function Xg(){this.__data__=new Dn,this.size=0}function Yg(r){var i=this.__data__,c=i.delete(r);return this.size=i.size,c}function Qg(r){return this.__data__.get(r)}function t0(r){return this.__data__.has(r)}function e0(r,i){var c=this.__data__;if(c instanceof Dn){var p=c.__data__;if(!Ao||p.length<a-1)return p.push([r,i]),this.size=++c.size,this;c=this.__data__=new Ln(p)}return c.set(r,i),this.size=c.size,this}en.prototype.clear=Xg,en.prototype.delete=Yg,en.prototype.get=Qg,en.prototype.has=t0,en.prototype.set=e0;function gl(r,i){var c=et(r),p=!c&&Sr(r),m=!c&&!p&&nr(r),y=!c&&!p&&!m&&no(r),w=c||p||m||y,M=w?ts(r.length,fg):[],T=M.length;for(var N in r)(i||wt.call(r,N))&&!(w&&(N=="length"||m&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||jn(N,T)))&&M.push(N);return M}function vl(r){var i=r.length;return i?r[ys(0,i-1)]:e}function n0(r,i){return Ui(ye(r),wr(i,0,r.length))}function r0(r){return Ui(ye(r))}function us(r,i,c){(c!==e&&!nn(r[i],c)||c===e&&!(i in r))&&$n(r,i,c)}function Do(r,i,c){var p=r[i];(!(wt.call(r,i)&&nn(p,c))||c===e&&!(i in r))&&$n(r,i,c)}function Li(r,i){for(var c=r.length;c--;)if(nn(r[c][0],i))return c;return-1}function o0(r,i,c,p){return Yn(r,function(m,y,w){i(p,m,c(m),w)}),p}function yl(r,i){return r&&vn(i,Wt(i),r)}function i0(r,i){return r&&vn(i,we(i),r)}function $n(r,i,c){i=="__proto__"&&_i?_i(r,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[i]=c}function cs(r,i){for(var c=-1,p=i.length,m=_(p),y=r==null;++c<p;)m[c]=y?e:Vs(r,i[c]);return m}function wr(r,i,c){return r===r&&(c!==e&&(r=r<=c?r:c),i!==e&&(r=r>=i?r:i)),r}function Pe(r,i,c,p,m,y){var w,M=i&v,T=i&b,N=i&x;if(c&&(w=m?c(r,p,m,y):c(r)),w!==e)return w;if(!Ot(r))return r;var D=et(r);if(D){if(w=U0(r),!M)return ye(r,w)}else{var $=ee(r),B=$==En||$==Kn;if(nr(r))return Fl(r,M);if($==ue||$==Tt||B&&!m){if(w=T||B?{}:uf(r),!M)return T?z0(r,i0(w,r)):$0(r,yl(w,r))}else{if(!Mt[$])return m?r:{};w=J0(r,$,M)}}y||(y=new en);var q=y.get(r);if(q)return q;y.set(r,w),Rf(r)?r.forEach(function(X){w.add(Pe(X,i,c,X,r,y))}):$f(r)&&r.forEach(function(X,st){w.set(st,Pe(X,i,c,st,r,y))});var Z=N?T?As:_s:T?we:Wt,rt=D?e:Z(r);return Re(rt||r,function(X,st){rt&&(st=X,X=r[st]),Do(w,st,Pe(X,i,c,st,r,y))}),w}function a0(r){var i=Wt(r);return function(c){return bl(c,r,i)}}function bl(r,i,c){var p=c.length;if(r==null)return!p;for(r=kt(r);p--;){var m=c[p],y=i[m],w=r[m];if(w===e&&!(m in r)||!y(w))return!1}return!0}function wl(r,i,c){if(typeof r!="function")throw new je(u);return Po(function(){r.apply(e,c)},i)}function Lo(r,i,c,p){var m=-1,y=vi,w=!0,M=r.length,T=[],N=i.length;if(!M)return T;c&&(i=Ct(i,Oe(c))),p?(y=Ja,w=!1):i.length>=a&&(y=Oo,w=!1,i=new br(i));t:for(;++m<M;){var D=r[m],$=c==null?D:c(D);if(D=p||D!==0?D:0,w&&$===$){for(var B=N;B--;)if(i[B]===$)continue t;T.push(D)}else y(i,$,p)||T.push(D)}return T}var Yn=Ul(gn),xl=Ul(fs,!0);function s0(r,i){var c=!0;return Yn(r,function(p,m,y){return c=!!i(p,m,y),c}),c}function $i(r,i,c){for(var p=-1,m=r.length;++p<m;){var y=r[p],w=i(y);if(w!=null&&(M===e?w===w&&!Ae(w):c(w,M)))var M=w,T=y}return T}function u0(r,i,c,p){var m=r.length;for(c=nt(c),c<0&&(c=-c>m?0:m+c),p=p===e||p>m?m:nt(p),p<0&&(p+=m),p=c>p?0:Bf(p);c<p;)r[c++]=i;return r}function kl(r,i){var c=[];return Yn(r,function(p,m,y){i(p,m,y)&&c.push(p)}),c}function Xt(r,i,c,p,m){var y=-1,w=r.length;for(c||(c=Z0),m||(m=[]);++y<w;){var M=r[y];i>0&&c(M)?i>1?Xt(M,i-1,c,p,m):Gn(m,M):p||(m[m.length]=M)}return m}var ls=Jl(),Ml=Jl(!0);function gn(r,i){return r&&ls(r,i,Wt)}function fs(r,i){return r&&Ml(r,i,Wt)}function zi(r,i){return Jn(i,function(c){return Bn(r[c])})}function xr(r,i){i=tr(i,r);for(var c=0,p=i.length;r!=null&&c<p;)r=r[yn(i[c++])];return c&&c==p?r:e}function Sl(r,i,c){var p=i(r);return et(r)?p:Gn(p,c(r))}function le(r){return r==null?r===e?hr:pr:vr&&vr in kt(r)?q0(r):rv(r)}function ps(r,i){return r>i}function c0(r,i){return r!=null&&wt.call(r,i)}function l0(r,i){return r!=null&&i in kt(r)}function f0(r,i,c){return r>=te(i,c)&&r<Pt(i,c)}function ds(r,i,c){for(var p=c?Ja:vi,m=r[0].length,y=r.length,w=y,M=_(y),T=1/0,N=[];w--;){var D=r[w];w&&i&&(D=Ct(D,Oe(i))),T=te(D.length,T),M[w]=!c&&(i||m>=120&&D.length>=120)?new br(w&&D):e}D=r[0];var $=-1,B=M[0];t:for(;++$<m&&N.length<T;){var q=D[$],Z=i?i(q):q;if(q=c||q!==0?q:0,!(B?Oo(B,Z):p(N,Z,c))){for(w=y;--w;){var rt=M[w];if(!(rt?Oo(rt,Z):p(r[w],Z,c)))continue t}B&&B.push(Z),N.push(q)}}return N}function p0(r,i,c,p){return gn(r,function(m,y,w){i(p,c(m),y,w)}),p}function $o(r,i,c){i=tr(i,r),r=pf(r,i);var p=r==null?r:r[yn(Fe(i))];return p==null?e:Te(p,r,c)}function Cl(r){return _t(r)&&le(r)==Tt}function d0(r){return _t(r)&&le(r)==mn}function h0(r){return _t(r)&&le(r)==fn}function zo(r,i,c,p,m){return r===i?!0:r==null||i==null||!_t(r)&&!_t(i)?r!==r&&i!==i:m0(r,i,c,p,zo,m)}function m0(r,i,c,p,m,y){var w=et(r),M=et(i),T=w?se:ee(r),N=M?se:ee(i);T=T==Tt?ue:T,N=N==Tt?ue:N;var D=T==ue,$=N==ue,B=T==N;if(B&&nr(r)){if(!nr(i))return!1;w=!0,D=!1}if(B&&!D)return y||(y=new en),w||no(r)?of(r,i,c,p,m,y):F0(r,i,T,c,p,m,y);if(!(c&O)){var q=D&&wt.call(r,"__wrapped__"),Z=$&&wt.call(i,"__wrapped__");if(q||Z){var rt=q?r.value():r,X=Z?i.value():i;return y||(y=new en),m(rt,X,c,p,y)}}return B?(y||(y=new en),V0(r,i,c,p,m,y)):!1}function g0(r){return _t(r)&&ee(r)==Qt}function hs(r,i,c,p){var m=c.length,y=m,w=!p;if(r==null)return!y;for(r=kt(r);m--;){var M=c[m];if(w&&M[2]?M[1]!==r[M[0]]:!(M[0]in r))return!1}for(;++m<y;){M=c[m];var T=M[0],N=r[T],D=M[1];if(w&&M[2]){if(N===e&&!(T in r))return!1}else{var $=new en;if(p)var B=p(N,D,T,r,i,$);if(!(B===e?zo(D,N,O|C,p,$):B))return!1}}return!0}function Tl(r){if(!Ot(r)||Y0(r))return!1;var i=Bn(r)?gg:am;return i.test(Mr(r))}function v0(r){return _t(r)&&le(r)==ce}function y0(r){return _t(r)&&ee(r)==Rt}function b0(r){return _t(r)&&Qi(r.length)&&!!St[le(r)]}function Ol(r){return typeof r=="function"?r:r==null?xe:typeof r=="object"?et(r)?El(r[0],r[1]):Al(r):Zf(r)}function ms(r){if(!Bo(r))return kg(r);var i=[];for(var c in kt(r))wt.call(r,c)&&c!="constructor"&&i.push(c);return i}function w0(r){if(!Ot(r))return nv(r);var i=Bo(r),c=[];for(var p in r)p=="constructor"&&(i||!wt.call(r,p))||c.push(p);return c}function gs(r,i){return r<i}function _l(r,i){var c=-1,p=be(r)?_(r.length):[];return Yn(r,function(m,y,w){p[++c]=i(m,y,w)}),p}function Al(r){var i=Is(r);return i.length==1&&i[0][2]?lf(i[0][0],i[0][1]):function(c){return c===r||hs(c,r,i)}}function El(r,i){return Ds(r)&&cf(i)?lf(yn(r),i):function(c){var p=Vs(c,r);return p===e&&p===i?qs(c,r):zo(i,p,O|C)}}function Ri(r,i,c,p,m){r!==i&&ls(i,function(y,w){if(m||(m=new en),Ot(y))x0(r,i,w,c,Ri,p,m);else{var M=p?p($s(r,w),y,w+"",r,i,m):e;M===e&&(M=y),us(r,w,M)}},we)}function x0(r,i,c,p,m,y,w){var M=$s(r,c),T=$s(i,c),N=w.get(T);if(N){us(r,c,N);return}var D=y?y(M,T,c+"",r,i,w):e,$=D===e;if($){var B=et(T),q=!B&&nr(T),Z=!B&&!q&&no(T);D=T,B||q||Z?et(M)?D=M:Nt(M)?D=ye(M):q?($=!1,D=Fl(T,!0)):Z?($=!1,D=Vl(T,!0)):D=[]:Ho(T)||Sr(T)?(D=M,Sr(M)?D=Pf(M):(!Ot(M)||Bn(M))&&(D=uf(T))):$=!1}$&&(w.set(T,D),m(D,T,p,y,w),w.delete(T)),us(r,c,D)}function Il(r,i){var c=r.length;if(c)return i+=i<0?c:0,jn(i,c)?r[i]:e}function Nl(r,i,c){i.length?i=Ct(i,function(y){return et(y)?function(w){return xr(w,y.length===1?y[0]:y)}:y}):i=[xe];var p=-1;i=Ct(i,Oe(J()));var m=_l(r,function(y,w,M){var T=Ct(i,function(N){return N(y)});return{criteria:T,index:++p,value:y}});return Jm(m,function(y,w){return L0(y,w,c)})}function k0(r,i){return Dl(r,i,function(c,p){return qs(r,p)})}function Dl(r,i,c){for(var p=-1,m=i.length,y={};++p<m;){var w=i[p],M=xr(r,w);c(M,w)&&Ro(y,tr(w,r),M)}return y}function M0(r){return function(i){return xr(i,r)}}function vs(r,i,c,p){var m=p?Um:Wr,y=-1,w=i.length,M=r;for(r===i&&(i=ye(i)),c&&(M=Ct(r,Oe(c)));++y<w;)for(var T=0,N=i[y],D=c?c(N):N;(T=m(M,D,T,p))>-1;)M!==r&&Oi.call(M,T,1),Oi.call(r,T,1);return r}function Ll(r,i){for(var c=r?i.length:0,p=c-1;c--;){var m=i[c];if(c==p||m!==y){var y=m;jn(m)?Oi.call(r,m,1):xs(r,m)}}return r}function ys(r,i){return r+Ei(hl()*(i-r+1))}function S0(r,i,c,p){for(var m=-1,y=Pt(Ai((i-r)/(c||1)),0),w=_(y);y--;)w[p?y:++m]=r,r+=c;return w}function bs(r,i){var c="";if(!r||i<1||i>ht)return c;do i%2&&(c+=r),i=Ei(i/2),i&&(r+=r);while(i);return c}function ot(r,i){return zs(ff(r,i,xe),r+"")}function C0(r){return vl(ro(r))}function T0(r,i){var c=ro(r);return Ui(c,wr(i,0,c.length))}function Ro(r,i,c,p){if(!Ot(r))return r;i=tr(i,r);for(var m=-1,y=i.length,w=y-1,M=r;M!=null&&++m<y;){var T=yn(i[m]),N=c;if(T==="__proto__"||T==="constructor"||T==="prototype")return r;if(m!=w){var D=M[T];N=p?p(D,T,M):e,N===e&&(N=Ot(D)?D:jn(i[m+1])?[]:{})}Do(M,T,N),M=M[T]}return r}var $l=Ii?function(r,i){return Ii.set(r,i),r}:xe,O0=_i?function(r,i){return _i(r,"toString",{configurable:!0,enumerable:!1,value:Ks(i),writable:!0})}:xe;function _0(r){return Ui(ro(r))}function He(r,i,c){var p=-1,m=r.length;i<0&&(i=-i>m?0:m+i),c=c>m?m:c,c<0&&(c+=m),m=i>c?0:c-i>>>0,i>>>=0;for(var y=_(m);++p<m;)y[p]=r[p+i];return y}function A0(r,i){var c;return Yn(r,function(p,m,y){return c=i(p,m,y),!c}),!!c}function ji(r,i,c){var p=0,m=r==null?p:r.length;if(typeof i=="number"&&i===i&&m<=ie){for(;p<m;){var y=p+m>>>1,w=r[y];w!==null&&!Ae(w)&&(c?w<=i:w<i)?p=y+1:m=y}return m}return ws(r,i,xe,c)}function ws(r,i,c,p){var m=0,y=r==null?0:r.length;if(y===0)return 0;i=c(i);for(var w=i!==i,M=i===null,T=Ae(i),N=i===e;m<y;){var D=Ei((m+y)/2),$=c(r[D]),B=$!==e,q=$===null,Z=$===$,rt=Ae($);if(w)var X=p||Z;else N?X=Z&&(p||B):M?X=Z&&B&&(p||!q):T?X=Z&&B&&!q&&(p||!rt):q||rt?X=!1:X=p?$<=i:$<i;X?m=D+1:y=D}return te(y,oe)}function zl(r,i){for(var c=-1,p=r.length,m=0,y=[];++c<p;){var w=r[c],M=i?i(w):w;if(!c||!nn(M,T)){var T=M;y[m++]=w===0?0:w}}return y}function Rl(r){return typeof r=="number"?r:Ae(r)?qt:+r}function _e(r){if(typeof r=="string")return r;if(et(r))return Ct(r,_e)+"";if(Ae(r))return ml?ml.call(r):"";var i=r+"";return i=="0"&&1/r==-gt?"-0":i}function Qn(r,i,c){var p=-1,m=vi,y=r.length,w=!0,M=[],T=M;if(c)w=!1,m=Ja;else if(y>=a){var N=i?null:P0(r);if(N)return bi(N);w=!1,m=Oo,T=new br}else T=i?[]:M;t:for(;++p<y;){var D=r[p],$=i?i(D):D;if(D=c||D!==0?D:0,w&&$===$){for(var B=T.length;B--;)if(T[B]===$)continue t;i&&T.push($),M.push(D)}else m(T,$,c)||(T!==M&&T.push($),M.push(D))}return M}function xs(r,i){return i=tr(i,r),r=pf(r,i),r==null||delete r[yn(Fe(i))]}function jl(r,i,c,p){return Ro(r,i,c(xr(r,i)),p)}function Bi(r,i,c,p){for(var m=r.length,y=p?m:-1;(p?y--:++y<m)&&i(r[y],y,r););return c?He(r,p?0:y,p?y+1:m):He(r,p?y+1:0,p?m:y)}function Bl(r,i){var c=r;return c instanceof ut&&(c=c.value()),Ga(i,function(p,m){return m.func.apply(m.thisArg,Gn([p],m.args))},c)}function ks(r,i,c){var p=r.length;if(p<2)return p?Qn(r[0]):[];for(var m=-1,y=_(p);++m<p;)for(var w=r[m],M=-1;++M<p;)M!=m&&(y[m]=Lo(y[m]||w,r[M],i,c));return Qn(Xt(y,1),i,c)}function Pl(r,i,c){for(var p=-1,m=r.length,y=i.length,w={};++p<m;){var M=p<y?i[p]:e;c(w,r[p],M)}return w}function Ms(r){return Nt(r)?r:[]}function Ss(r){return typeof r=="function"?r:xe}function tr(r,i){return et(r)?r:Ds(r,i)?[r]:gf(yt(r))}var E0=ot;function er(r,i,c){var p=r.length;return c=c===e?p:c,!i&&c>=p?r:He(r,i,c)}var Hl=vg||function(r){return Zt.clearTimeout(r)};function Fl(r,i){if(i)return r.slice();var c=r.length,p=cl?cl(c):new r.constructor(c);return r.copy(p),p}function Cs(r){var i=new r.constructor(r.byteLength);return new Ci(i).set(new Ci(r)),i}function I0(r,i){var c=i?Cs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function N0(r){var i=new r.constructor(r.source,Cc.exec(r));return i.lastIndex=r.lastIndex,i}function D0(r){return No?kt(No.call(r)):{}}function Vl(r,i){var c=i?Cs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function ql(r,i){if(r!==i){var c=r!==e,p=r===null,m=r===r,y=Ae(r),w=i!==e,M=i===null,T=i===i,N=Ae(i);if(!M&&!N&&!y&&r>i||y&&w&&T&&!M&&!N||p&&w&&T||!c&&T||!m)return 1;if(!p&&!y&&!N&&r<i||N&&c&&m&&!p&&!y||M&&c&&m||!w&&m||!T)return-1}return 0}function L0(r,i,c){for(var p=-1,m=r.criteria,y=i.criteria,w=m.length,M=c.length;++p<w;){var T=ql(m[p],y[p]);if(T){if(p>=M)return T;var N=c[p];return T*(N=="desc"?-1:1)}}return r.index-i.index}function Wl(r,i,c,p){for(var m=-1,y=r.length,w=c.length,M=-1,T=i.length,N=Pt(y-w,0),D=_(T+N),$=!p;++M<T;)D[M]=i[M];for(;++m<w;)($||m<y)&&(D[c[m]]=r[m]);for(;N--;)D[M++]=r[m++];return D}function Kl(r,i,c,p){for(var m=-1,y=r.length,w=-1,M=c.length,T=-1,N=i.length,D=Pt(y-M,0),$=_(D+N),B=!p;++m<D;)$[m]=r[m];for(var q=m;++T<N;)$[q+T]=i[T];for(;++w<M;)(B||m<y)&&($[q+c[w]]=r[m++]);return $}function ye(r,i){var c=-1,p=r.length;for(i||(i=_(p));++c<p;)i[c]=r[c];return i}function vn(r,i,c,p){var m=!c;c||(c={});for(var y=-1,w=i.length;++y<w;){var M=i[y],T=p?p(c[M],r[M],M,c,r):e;T===e&&(T=r[M]),m?$n(c,M,T):Do(c,M,T)}return c}function $0(r,i){return vn(r,Ns(r),i)}function z0(r,i){return vn(r,af(r),i)}function Pi(r,i){return function(c,p){var m=et(c)?Hm:o0,y=i?i():{};return m(c,r,J(p,2),y)}}function Qr(r){return ot(function(i,c){var p=-1,m=c.length,y=m>1?c[m-1]:e,w=m>2?c[2]:e;for(y=r.length>3&&typeof y=="function"?(m--,y):e,w&&fe(c[0],c[1],w)&&(y=m<3?e:y,m=1),i=kt(i);++p<m;){var M=c[p];M&&r(i,M,p,y)}return i})}function Ul(r,i){return function(c,p){if(c==null)return c;if(!be(c))return r(c,p);for(var m=c.length,y=i?m:-1,w=kt(c);(i?y--:++y<m)&&p(w[y],y,w)!==!1;);return c}}function Jl(r){return function(i,c,p){for(var m=-1,y=kt(i),w=p(i),M=w.length;M--;){var T=w[r?M:++m];if(c(y[T],T,y)===!1)break}return i}}function R0(r,i,c){var p=i&A,m=jo(r);function y(){var w=this&&this!==Zt&&this instanceof y?m:r;return w.apply(p?c:this,arguments)}return y}function Gl(r){return function(i){i=yt(i);var c=Kr(i)?tn(i):e,p=c?c[0]:i.charAt(0),m=c?er(c,1).join(""):i.slice(1);return p[r]()+m}}function to(r){return function(i){return Ga(Jf(Uf(i).replace(Om,"")),r,"")}}function jo(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=Yr(r.prototype),p=r.apply(c,i);return Ot(p)?p:c}}function j0(r,i,c){var p=jo(r);function m(){for(var y=arguments.length,w=_(y),M=y,T=eo(m);M--;)w[M]=arguments[M];var N=y<3&&w[0]!==T&&w[y-1]!==T?[]:Zn(w,T);if(y-=N.length,y<c)return tf(r,i,Hi,m.placeholder,e,w,N,e,e,c-y);var D=this&&this!==Zt&&this instanceof m?p:r;return Te(D,this,w)}return m}function Zl(r){return function(i,c,p){var m=kt(i);if(!be(i)){var y=J(c,3);i=Wt(i),c=function(M){return y(m[M],M,m)}}var w=r(i,c,p);return w>-1?m[y?i[w]:w]:e}}function Xl(r){return Rn(function(i){var c=i.length,p=c,m=Be.prototype.thru;for(r&&i.reverse();p--;){var y=i[p];if(typeof y!="function")throw new je(u);if(m&&!w&&Wi(y)=="wrapper")var w=new Be([],!0)}for(p=w?p:c;++p<c;){y=i[p];var M=Wi(y),T=M=="wrapper"?Es(y):e;T&&Ls(T[0])&&T[1]==(U|j|P|it)&&!T[4].length&&T[9]==1?w=w[Wi(T[0])].apply(w,T[3]):w=y.length==1&&Ls(y)?w[M]():w.thru(y)}return function(){var N=arguments,D=N[0];if(w&&N.length==1&&et(D))return w.plant(D).value();for(var $=0,B=c?i[$].apply(this,N):D;++$<c;)B=i[$].call(this,B);return B}})}function Hi(r,i,c,p,m,y,w,M,T,N){var D=i&U,$=i&A,B=i&z,q=i&(j|k),Z=i&mt,rt=B?e:jo(r);function X(){for(var st=arguments.length,pt=_(st),Ee=st;Ee--;)pt[Ee]=arguments[Ee];if(q)var pe=eo(X),Ie=Zm(pt,pe);if(p&&(pt=Wl(pt,p,m,q)),y&&(pt=Kl(pt,y,w,q)),st-=Ie,q&&st<N){var Dt=Zn(pt,pe);return tf(r,i,Hi,X.placeholder,c,pt,Dt,M,T,N-st)}var rn=$?c:this,Hn=B?rn[r]:r;return st=pt.length,M?pt=ov(pt,M):Z&&st>1&&pt.reverse(),D&&T<st&&(pt.length=T),this&&this!==Zt&&this instanceof X&&(Hn=rt||jo(Hn)),Hn.apply(rn,pt)}return X}function Yl(r,i){return function(c,p){return p0(c,r,i(p),{})}}function Fi(r,i){return function(c,p){var m;if(c===e&&p===e)return i;if(c!==e&&(m=c),p!==e){if(m===e)return p;typeof c=="string"||typeof p=="string"?(c=_e(c),p=_e(p)):(c=Rl(c),p=Rl(p)),m=r(c,p)}return m}}function Ts(r){return Rn(function(i){return i=Ct(i,Oe(J())),ot(function(c){var p=this;return r(i,function(m){return Te(m,p,c)})})})}function Vi(r,i){i=i===e?" ":_e(i);var c=i.length;if(c<2)return c?bs(i,r):i;var p=bs(i,Ai(r/Ur(i)));return Kr(i)?er(tn(p),0,r).join(""):p.slice(0,r)}function B0(r,i,c,p){var m=i&A,y=jo(r);function w(){for(var M=-1,T=arguments.length,N=-1,D=p.length,$=_(D+T),B=this&&this!==Zt&&this instanceof w?y:r;++N<D;)$[N]=p[N];for(;T--;)$[N++]=arguments[++M];return Te(B,m?c:this,$)}return w}function Ql(r){return function(i,c,p){return p&&typeof p!="number"&&fe(i,c,p)&&(c=p=e),i=Pn(i),c===e?(c=i,i=0):c=Pn(c),p=p===e?i<c?1:-1:Pn(p),S0(i,c,p,r)}}function qi(r){return function(i,c){return typeof i=="string"&&typeof c=="string"||(i=Ve(i),c=Ve(c)),r(i,c)}}function tf(r,i,c,p,m,y,w,M,T,N){var D=i&j,$=D?w:e,B=D?e:w,q=D?y:e,Z=D?e:y;i|=D?P:R,i&=~(D?R:P),i&L||(i&=~(A|z));var rt=[r,i,m,q,$,Z,B,M,T,N],X=c.apply(e,rt);return Ls(r)&&df(X,rt),X.placeholder=p,hf(X,r,i)}function Os(r){var i=Bt[r];return function(c,p){if(c=Ve(c),p=p==null?0:te(nt(p),292),p&&dl(c)){var m=(yt(c)+"e").split("e"),y=i(m[0]+"e"+(+m[1]+p));return m=(yt(y)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return i(c)}}var P0=Zr&&1/bi(new Zr([,-0]))[1]==gt?function(r){return new Zr(r)}:Gs;function ef(r){return function(i){var c=ee(i);return c==Qt?ns(i):c==Rt?rg(i):Gm(i,r(i))}}function zn(r,i,c,p,m,y,w,M){var T=i&z;if(!T&&typeof r!="function")throw new je(u);var N=p?p.length:0;if(N||(i&=~(P|R),p=m=e),w=w===e?w:Pt(nt(w),0),M=M===e?M:nt(M),N-=m?m.length:0,i&R){var D=p,$=m;p=m=e}var B=T?e:Es(r),q=[r,i,c,p,m,D,$,y,w,M];if(B&&ev(q,B),r=q[0],i=q[1],c=q[2],p=q[3],m=q[4],M=q[9]=q[9]===e?T?0:r.length:Pt(q[9]-N,0),!M&&i&(j|k)&&(i&=~(j|k)),!i||i==A)var Z=R0(r,i,c);else i==j||i==k?Z=j0(r,i,M):(i==P||i==(A|P))&&!m.length?Z=B0(r,i,c,p):Z=Hi.apply(e,q);var rt=B?$l:df;return hf(rt(Z,q),r,i)}function nf(r,i,c,p){return r===e||nn(r,Gr[c])&&!wt.call(p,c)?i:r}function rf(r,i,c,p,m,y){return Ot(r)&&Ot(i)&&(y.set(i,r),Ri(r,i,e,rf,y),y.delete(i)),r}function H0(r){return Ho(r)?e:r}function of(r,i,c,p,m,y){var w=c&O,M=r.length,T=i.length;if(M!=T&&!(w&&T>M))return!1;var N=y.get(r),D=y.get(i);if(N&&D)return N==i&&D==r;var $=-1,B=!0,q=c&C?new br:e;for(y.set(r,i),y.set(i,r);++$<M;){var Z=r[$],rt=i[$];if(p)var X=w?p(rt,Z,$,i,r,y):p(Z,rt,$,r,i,y);if(X!==e){if(X)continue;B=!1;break}if(q){if(!Za(i,function(st,pt){if(!Oo(q,pt)&&(Z===st||m(Z,st,c,p,y)))return q.push(pt)})){B=!1;break}}else if(!(Z===rt||m(Z,rt,c,p,y))){B=!1;break}}return y.delete(r),y.delete(i),B}function F0(r,i,c,p,m,y,w){switch(c){case Qe:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case mn:return!(r.byteLength!=i.byteLength||!y(new Ci(r),new Ci(i)));case ge:case fn:case dn:return nn(+r,+i);case Xe:return r.name==i.name&&r.message==i.message;case ce:case Ye:return r==i+"";case Qt:var M=ns;case Rt:var T=p&O;if(M||(M=bi),r.size!=i.size&&!T)return!1;var N=w.get(r);if(N)return N==i;p|=C,w.set(r,i);var D=of(M(r),M(i),p,m,y,w);return w.delete(r),D;case $e:if(No)return No.call(r)==No.call(i)}return!1}function V0(r,i,c,p,m,y){var w=c&O,M=_s(r),T=M.length,N=_s(i),D=N.length;if(T!=D&&!w)return!1;for(var $=T;$--;){var B=M[$];if(!(w?B in i:wt.call(i,B)))return!1}var q=y.get(r),Z=y.get(i);if(q&&Z)return q==i&&Z==r;var rt=!0;y.set(r,i),y.set(i,r);for(var X=w;++$<T;){B=M[$];var st=r[B],pt=i[B];if(p)var Ee=w?p(pt,st,B,i,r,y):p(st,pt,B,r,i,y);if(!(Ee===e?st===pt||m(st,pt,c,p,y):Ee)){rt=!1;break}X||(X=B=="constructor")}if(rt&&!X){var pe=r.constructor,Ie=i.constructor;pe!=Ie&&"constructor"in r&&"constructor"in i&&!(typeof pe=="function"&&pe instanceof pe&&typeof Ie=="function"&&Ie instanceof Ie)&&(rt=!1)}return y.delete(r),y.delete(i),rt}function Rn(r){return zs(ff(r,e,wf),r+"")}function _s(r){return Sl(r,Wt,Ns)}function As(r){return Sl(r,we,af)}var Es=Ii?function(r){return Ii.get(r)}:Gs;function Wi(r){for(var i=r.name+"",c=Xr[i],p=wt.call(Xr,i)?c.length:0;p--;){var m=c[p],y=m.func;if(y==null||y==r)return m.name}return i}function eo(r){var i=wt.call(g,"placeholder")?g:r;return i.placeholder}function J(){var r=g.iteratee||Us;return r=r===Us?Ol:r,arguments.length?r(arguments[0],arguments[1]):r}function Ki(r,i){var c=r.__data__;return X0(i)?c[typeof i=="string"?"string":"hash"]:c.map}function Is(r){for(var i=Wt(r),c=i.length;c--;){var p=i[c],m=r[p];i[c]=[p,m,cf(m)]}return i}function kr(r,i){var c=tg(r,i);return Tl(c)?c:e}function q0(r){var i=wt.call(r,vr),c=r[vr];try{r[vr]=e;var p=!0}catch{}var m=Mi.call(r);return p&&(i?r[vr]=c:delete r[vr]),m}var Ns=is?function(r){return r==null?[]:(r=kt(r),Jn(is(r),function(i){return fl.call(r,i)}))}:Zs,af=is?function(r){for(var i=[];r;)Gn(i,Ns(r)),r=Ti(r);return i}:Zs,ee=le;(as&&ee(new as(new ArrayBuffer(1)))!=Qe||Ao&&ee(new Ao)!=Qt||ss&&ee(ss.resolve())!=dr||Zr&&ee(new Zr)!=Rt||Eo&&ee(new Eo)!=hn)&&(ee=function(r){var i=le(r),c=i==ue?r.constructor:e,p=c?Mr(c):"";if(p)switch(p){case Tg:return Qe;case Og:return Qt;case _g:return dr;case Ag:return Rt;case Eg:return hn}return i});function W0(r,i,c){for(var p=-1,m=c.length;++p<m;){var y=c[p],w=y.size;switch(y.type){case"drop":r+=w;break;case"dropRight":i-=w;break;case"take":i=te(i,r+w);break;case"takeRight":r=Pt(r,i-w);break}}return{start:r,end:i}}function K0(r){var i=r.match(Yh);return i?i[1].split(Qh):[]}function sf(r,i,c){i=tr(i,r);for(var p=-1,m=i.length,y=!1;++p<m;){var w=yn(i[p]);if(!(y=r!=null&&c(r,w)))break;r=r[w]}return y||++p!=m?y:(m=r==null?0:r.length,!!m&&Qi(m)&&jn(w,m)&&(et(r)||Sr(r)))}function U0(r){var i=r.length,c=new r.constructor(i);return i&&typeof r[0]=="string"&&wt.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function uf(r){return typeof r.constructor=="function"&&!Bo(r)?Yr(Ti(r)):{}}function J0(r,i,c){var p=r.constructor;switch(i){case mn:return Cs(r);case ge:case fn:return new p(+r);case Qe:return I0(r,c);case ko:case Mo:case So:case Co:case To:case E:case V:case G:case dt:return Vl(r,c);case Qt:return new p;case dn:case Ye:return new p(r);case ce:return N0(r);case Rt:return new p;case $e:return D0(r)}}function G0(r,i){var c=i.length;if(!c)return r;var p=c-1;return i[p]=(c>1?"& ":"")+i[p],i=i.join(c>2?", ":" "),r.replace(Xh,`{
/* [wrapped with `+i+`] */
`)}function Z0(r){return et(r)||Sr(r)||!!(pl&&r&&r[pl])}function jn(r,i){var c=typeof r;return i=i??ht,!!i&&(c=="number"||c!="symbol"&&um.test(r))&&r>-1&&r%1==0&&r<i}function fe(r,i,c){if(!Ot(c))return!1;var p=typeof i;return(p=="number"?be(c)&&jn(i,c.length):p=="string"&&i in c)?nn(c[i],r):!1}function Ds(r,i){if(et(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Ae(r)?!0:Uh.test(r)||!Vr.test(r)||i!=null&&r in kt(i)}function X0(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Ls(r){var i=Wi(r),c=g[i];if(typeof c!="function"||!(i in ut.prototype))return!1;if(r===c)return!0;var p=Es(c);return!!p&&r===p[0]}function Y0(r){return!!ul&&ul in r}var Q0=xi?Bn:Xs;function Bo(r){var i=r&&r.constructor,c=typeof i=="function"&&i.prototype||Gr;return r===c}function cf(r){return r===r&&!Ot(r)}function lf(r,i){return function(c){return c==null?!1:c[r]===i&&(i!==e||r in kt(c))}}function tv(r){var i=Xi(r,function(p){return c.size===h&&c.clear(),p}),c=i.cache;return i}function ev(r,i){var c=r[1],p=i[1],m=c|p,y=m<(A|z|U),w=p==U&&c==j||p==U&&c==it&&r[7].length<=i[8]||p==(U|it)&&i[7].length<=i[8]&&c==j;if(!(y||w))return r;p&A&&(r[2]=i[2],m|=c&A?0:L);var M=i[3];if(M){var T=r[3];r[3]=T?Wl(T,M,i[4]):M,r[4]=T?Zn(r[3],d):i[4]}return M=i[5],M&&(T=r[5],r[5]=T?Kl(T,M,i[6]):M,r[6]=T?Zn(r[5],d):i[6]),M=i[7],M&&(r[7]=M),p&U&&(r[8]=r[8]==null?i[8]:te(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=m,r}function nv(r){var i=[];if(r!=null)for(var c in kt(r))i.push(c);return i}function rv(r){return Mi.call(r)}function ff(r,i,c){return i=Pt(i===e?r.length-1:i,0),function(){for(var p=arguments,m=-1,y=Pt(p.length-i,0),w=_(y);++m<y;)w[m]=p[i+m];m=-1;for(var M=_(i+1);++m<i;)M[m]=p[m];return M[i]=c(w),Te(r,this,M)}}function pf(r,i){return i.length<2?r:xr(r,He(i,0,-1))}function ov(r,i){for(var c=r.length,p=te(i.length,c),m=ye(r);p--;){var y=i[p];r[p]=jn(y,c)?m[y]:e}return r}function $s(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var df=mf($l),Po=bg||function(r,i){return Zt.setTimeout(r,i)},zs=mf(O0);function hf(r,i,c){var p=i+"";return zs(r,G0(p,iv(K0(p),c)))}function mf(r){var i=0,c=0;return function(){var p=Mg(),m=at-(p-c);if(c=p,m>0){if(++i>=bt)return arguments[0]}else i=0;return r.apply(e,arguments)}}function Ui(r,i){var c=-1,p=r.length,m=p-1;for(i=i===e?p:i;++c<i;){var y=ys(c,m),w=r[y];r[y]=r[c],r[c]=w}return r.length=i,r}var gf=tv(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(Jh,function(c,p,m,y){i.push(m?y.replace(nm,"$1"):p||c)}),i});function yn(r){if(typeof r=="string"||Ae(r))return r;var i=r+"";return i=="0"&&1/r==-gt?"-0":i}function Mr(r){if(r!=null){try{return ki.call(r)}catch{}try{return r+""}catch{}}return""}function iv(r,i){return Re(ae,function(c){var p="_."+c[0];i&c[1]&&!vi(r,p)&&r.push(p)}),r.sort()}function vf(r){if(r instanceof ut)return r.clone();var i=new Be(r.__wrapped__,r.__chain__);return i.__actions__=ye(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function av(r,i,c){(c?fe(r,i,c):i===e)?i=1:i=Pt(nt(i),0);var p=r==null?0:r.length;if(!p||i<1)return[];for(var m=0,y=0,w=_(Ai(p/i));m<p;)w[y++]=He(r,m,m+=i);return w}function sv(r){for(var i=-1,c=r==null?0:r.length,p=0,m=[];++i<c;){var y=r[i];y&&(m[p++]=y)}return m}function uv(){var r=arguments.length;if(!r)return[];for(var i=_(r-1),c=arguments[0],p=r;p--;)i[p-1]=arguments[p];return Gn(et(c)?ye(c):[c],Xt(i,1))}var cv=ot(function(r,i){return Nt(r)?Lo(r,Xt(i,1,Nt,!0)):[]}),lv=ot(function(r,i){var c=Fe(i);return Nt(c)&&(c=e),Nt(r)?Lo(r,Xt(i,1,Nt,!0),J(c,2)):[]}),fv=ot(function(r,i){var c=Fe(i);return Nt(c)&&(c=e),Nt(r)?Lo(r,Xt(i,1,Nt,!0),e,c):[]});function pv(r,i,c){var p=r==null?0:r.length;return p?(i=c||i===e?1:nt(i),He(r,i<0?0:i,p)):[]}function dv(r,i,c){var p=r==null?0:r.length;return p?(i=c||i===e?1:nt(i),i=p-i,He(r,0,i<0?0:i)):[]}function hv(r,i){return r&&r.length?Bi(r,J(i,3),!0,!0):[]}function mv(r,i){return r&&r.length?Bi(r,J(i,3),!0):[]}function gv(r,i,c,p){var m=r==null?0:r.length;return m?(c&&typeof c!="number"&&fe(r,i,c)&&(c=0,p=m),u0(r,i,c,p)):[]}function yf(r,i,c){var p=r==null?0:r.length;if(!p)return-1;var m=c==null?0:nt(c);return m<0&&(m=Pt(p+m,0)),yi(r,J(i,3),m)}function bf(r,i,c){var p=r==null?0:r.length;if(!p)return-1;var m=p-1;return c!==e&&(m=nt(c),m=c<0?Pt(p+m,0):te(m,p-1)),yi(r,J(i,3),m,!0)}function wf(r){var i=r==null?0:r.length;return i?Xt(r,1):[]}function vv(r){var i=r==null?0:r.length;return i?Xt(r,gt):[]}function yv(r,i){var c=r==null?0:r.length;return c?(i=i===e?1:nt(i),Xt(r,i)):[]}function bv(r){for(var i=-1,c=r==null?0:r.length,p={};++i<c;){var m=r[i];p[m[0]]=m[1]}return p}function xf(r){return r&&r.length?r[0]:e}function wv(r,i,c){var p=r==null?0:r.length;if(!p)return-1;var m=c==null?0:nt(c);return m<0&&(m=Pt(p+m,0)),Wr(r,i,m)}function xv(r){var i=r==null?0:r.length;return i?He(r,0,-1):[]}var kv=ot(function(r){var i=Ct(r,Ms);return i.length&&i[0]===r[0]?ds(i):[]}),Mv=ot(function(r){var i=Fe(r),c=Ct(r,Ms);return i===Fe(c)?i=e:c.pop(),c.length&&c[0]===r[0]?ds(c,J(i,2)):[]}),Sv=ot(function(r){var i=Fe(r),c=Ct(r,Ms);return i=typeof i=="function"?i:e,i&&c.pop(),c.length&&c[0]===r[0]?ds(c,e,i):[]});function Cv(r,i){return r==null?"":xg.call(r,i)}function Fe(r){var i=r==null?0:r.length;return i?r[i-1]:e}function Tv(r,i,c){var p=r==null?0:r.length;if(!p)return-1;var m=p;return c!==e&&(m=nt(c),m=m<0?Pt(p+m,0):te(m,p-1)),i===i?ig(r,i,m):yi(r,tl,m,!0)}function Ov(r,i){return r&&r.length?Il(r,nt(i)):e}var _v=ot(kf);function kf(r,i){return r&&r.length&&i&&i.length?vs(r,i):r}function Av(r,i,c){return r&&r.length&&i&&i.length?vs(r,i,J(c,2)):r}function Ev(r,i,c){return r&&r.length&&i&&i.length?vs(r,i,e,c):r}var Iv=Rn(function(r,i){var c=r==null?0:r.length,p=cs(r,i);return Ll(r,Ct(i,function(m){return jn(m,c)?+m:m}).sort(ql)),p});function Nv(r,i){var c=[];if(!(r&&r.length))return c;var p=-1,m=[],y=r.length;for(i=J(i,3);++p<y;){var w=r[p];i(w,p,r)&&(c.push(w),m.push(p))}return Ll(r,m),c}function Rs(r){return r==null?r:Cg.call(r)}function Dv(r,i,c){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&fe(r,i,c)?(i=0,c=p):(i=i==null?0:nt(i),c=c===e?p:nt(c)),He(r,i,c)):[]}function Lv(r,i){return ji(r,i)}function $v(r,i,c){return ws(r,i,J(c,2))}function zv(r,i){var c=r==null?0:r.length;if(c){var p=ji(r,i);if(p<c&&nn(r[p],i))return p}return-1}function Rv(r,i){return ji(r,i,!0)}function jv(r,i,c){return ws(r,i,J(c,2),!0)}function Bv(r,i){var c=r==null?0:r.length;if(c){var p=ji(r,i,!0)-1;if(nn(r[p],i))return p}return-1}function Pv(r){return r&&r.length?zl(r):[]}function Hv(r,i){return r&&r.length?zl(r,J(i,2)):[]}function Fv(r){var i=r==null?0:r.length;return i?He(r,1,i):[]}function Vv(r,i,c){return r&&r.length?(i=c||i===e?1:nt(i),He(r,0,i<0?0:i)):[]}function qv(r,i,c){var p=r==null?0:r.length;return p?(i=c||i===e?1:nt(i),i=p-i,He(r,i<0?0:i,p)):[]}function Wv(r,i){return r&&r.length?Bi(r,J(i,3),!1,!0):[]}function Kv(r,i){return r&&r.length?Bi(r,J(i,3)):[]}var Uv=ot(function(r){return Qn(Xt(r,1,Nt,!0))}),Jv=ot(function(r){var i=Fe(r);return Nt(i)&&(i=e),Qn(Xt(r,1,Nt,!0),J(i,2))}),Gv=ot(function(r){var i=Fe(r);return i=typeof i=="function"?i:e,Qn(Xt(r,1,Nt,!0),e,i)});function Zv(r){return r&&r.length?Qn(r):[]}function Xv(r,i){return r&&r.length?Qn(r,J(i,2)):[]}function Yv(r,i){return i=typeof i=="function"?i:e,r&&r.length?Qn(r,e,i):[]}function js(r){if(!(r&&r.length))return[];var i=0;return r=Jn(r,function(c){if(Nt(c))return i=Pt(c.length,i),!0}),ts(i,function(c){return Ct(r,Xa(c))})}function Mf(r,i){if(!(r&&r.length))return[];var c=js(r);return i==null?c:Ct(c,function(p){return Te(i,e,p)})}var Qv=ot(function(r,i){return Nt(r)?Lo(r,i):[]}),ty=ot(function(r){return ks(Jn(r,Nt))}),ey=ot(function(r){var i=Fe(r);return Nt(i)&&(i=e),ks(Jn(r,Nt),J(i,2))}),ny=ot(function(r){var i=Fe(r);return i=typeof i=="function"?i:e,ks(Jn(r,Nt),e,i)}),ry=ot(js);function oy(r,i){return Pl(r||[],i||[],Do)}function iy(r,i){return Pl(r||[],i||[],Ro)}var ay=ot(function(r){var i=r.length,c=i>1?r[i-1]:e;return c=typeof c=="function"?(r.pop(),c):e,Mf(r,c)});function Sf(r){var i=g(r);return i.__chain__=!0,i}function sy(r,i){return i(r),r}function Ji(r,i){return i(r)}var uy=Rn(function(r){var i=r.length,c=i?r[0]:0,p=this.__wrapped__,m=function(y){return cs(y,r)};return i>1||this.__actions__.length||!(p instanceof ut)||!jn(c)?this.thru(m):(p=p.slice(c,+c+(i?1:0)),p.__actions__.push({func:Ji,args:[m],thisArg:e}),new Be(p,this.__chain__).thru(function(y){return i&&!y.length&&y.push(e),y}))});function cy(){return Sf(this)}function ly(){return new Be(this.value(),this.__chain__)}function fy(){this.__values__===e&&(this.__values__=jf(this.value()));var r=this.__index__>=this.__values__.length,i=r?e:this.__values__[this.__index__++];return{done:r,value:i}}function py(){return this}function dy(r){for(var i,c=this;c instanceof Di;){var p=vf(c);p.__index__=0,p.__values__=e,i?m.__wrapped__=p:i=p;var m=p;c=c.__wrapped__}return m.__wrapped__=r,i}function hy(){var r=this.__wrapped__;if(r instanceof ut){var i=r;return this.__actions__.length&&(i=new ut(this)),i=i.reverse(),i.__actions__.push({func:Ji,args:[Rs],thisArg:e}),new Be(i,this.__chain__)}return this.thru(Rs)}function my(){return Bl(this.__wrapped__,this.__actions__)}var gy=Pi(function(r,i,c){wt.call(r,c)?++r[c]:$n(r,c,1)});function vy(r,i,c){var p=et(r)?Yc:s0;return c&&fe(r,i,c)&&(i=e),p(r,J(i,3))}function yy(r,i){var c=et(r)?Jn:kl;return c(r,J(i,3))}var by=Zl(yf),wy=Zl(bf);function xy(r,i){return Xt(Gi(r,i),1)}function ky(r,i){return Xt(Gi(r,i),gt)}function My(r,i,c){return c=c===e?1:nt(c),Xt(Gi(r,i),c)}function Cf(r,i){var c=et(r)?Re:Yn;return c(r,J(i,3))}function Tf(r,i){var c=et(r)?Fm:xl;return c(r,J(i,3))}var Sy=Pi(function(r,i,c){wt.call(r,c)?r[c].push(i):$n(r,c,[i])});function Cy(r,i,c,p){r=be(r)?r:ro(r),c=c&&!p?nt(c):0;var m=r.length;return c<0&&(c=Pt(m+c,0)),ta(r)?c<=m&&r.indexOf(i,c)>-1:!!m&&Wr(r,i,c)>-1}var Ty=ot(function(r,i,c){var p=-1,m=typeof i=="function",y=be(r)?_(r.length):[];return Yn(r,function(w){y[++p]=m?Te(i,w,c):$o(w,i,c)}),y}),Oy=Pi(function(r,i,c){$n(r,c,i)});function Gi(r,i){var c=et(r)?Ct:_l;return c(r,J(i,3))}function _y(r,i,c,p){return r==null?[]:(et(i)||(i=i==null?[]:[i]),c=p?e:c,et(c)||(c=c==null?[]:[c]),Nl(r,i,c))}var Ay=Pi(function(r,i,c){r[c?0:1].push(i)},function(){return[[],[]]});function Ey(r,i,c){var p=et(r)?Ga:nl,m=arguments.length<3;return p(r,J(i,4),c,m,Yn)}function Iy(r,i,c){var p=et(r)?Vm:nl,m=arguments.length<3;return p(r,J(i,4),c,m,xl)}function Ny(r,i){var c=et(r)?Jn:kl;return c(r,Yi(J(i,3)))}function Dy(r){var i=et(r)?vl:C0;return i(r)}function Ly(r,i,c){(c?fe(r,i,c):i===e)?i=1:i=nt(i);var p=et(r)?n0:T0;return p(r,i)}function $y(r){var i=et(r)?r0:_0;return i(r)}function zy(r){if(r==null)return 0;if(be(r))return ta(r)?Ur(r):r.length;var i=ee(r);return i==Qt||i==Rt?r.size:ms(r).length}function Ry(r,i,c){var p=et(r)?Za:A0;return c&&fe(r,i,c)&&(i=e),p(r,J(i,3))}var jy=ot(function(r,i){if(r==null)return[];var c=i.length;return c>1&&fe(r,i[0],i[1])?i=[]:c>2&&fe(i[0],i[1],i[2])&&(i=[i[0]]),Nl(r,Xt(i,1),[])}),Zi=yg||function(){return Zt.Date.now()};function By(r,i){if(typeof i!="function")throw new je(u);return r=nt(r),function(){if(--r<1)return i.apply(this,arguments)}}function Of(r,i,c){return i=c?e:i,i=r&&i==null?r.length:i,zn(r,U,e,e,e,e,i)}function _f(r,i){var c;if(typeof i!="function")throw new je(u);return r=nt(r),function(){return--r>0&&(c=i.apply(this,arguments)),r<=1&&(i=e),c}}var Bs=ot(function(r,i,c){var p=A;if(c.length){var m=Zn(c,eo(Bs));p|=P}return zn(r,p,i,c,m)}),Af=ot(function(r,i,c){var p=A|z;if(c.length){var m=Zn(c,eo(Af));p|=P}return zn(i,p,r,c,m)});function Ef(r,i,c){i=c?e:i;var p=zn(r,j,e,e,e,e,e,i);return p.placeholder=Ef.placeholder,p}function If(r,i,c){i=c?e:i;var p=zn(r,k,e,e,e,e,e,i);return p.placeholder=If.placeholder,p}function Nf(r,i,c){var p,m,y,w,M,T,N=0,D=!1,$=!1,B=!0;if(typeof r!="function")throw new je(u);i=Ve(i)||0,Ot(c)&&(D=!!c.leading,$="maxWait"in c,y=$?Pt(Ve(c.maxWait)||0,i):y,B="trailing"in c?!!c.trailing:B);function q(Dt){var rn=p,Hn=m;return p=m=e,N=Dt,w=r.apply(Hn,rn),w}function Z(Dt){return N=Dt,M=Po(st,i),D?q(Dt):w}function rt(Dt){var rn=Dt-T,Hn=Dt-N,Xf=i-rn;return $?te(Xf,y-Hn):Xf}function X(Dt){var rn=Dt-T,Hn=Dt-N;return T===e||rn>=i||rn<0||$&&Hn>=y}function st(){var Dt=Zi();if(X(Dt))return pt(Dt);M=Po(st,rt(Dt))}function pt(Dt){return M=e,B&&p?q(Dt):(p=m=e,w)}function Ee(){M!==e&&Hl(M),N=0,p=T=m=M=e}function pe(){return M===e?w:pt(Zi())}function Ie(){var Dt=Zi(),rn=X(Dt);if(p=arguments,m=this,T=Dt,rn){if(M===e)return Z(T);if($)return Hl(M),M=Po(st,i),q(T)}return M===e&&(M=Po(st,i)),w}return Ie.cancel=Ee,Ie.flush=pe,Ie}var Py=ot(function(r,i){return wl(r,1,i)}),Hy=ot(function(r,i,c){return wl(r,Ve(i)||0,c)});function Fy(r){return zn(r,mt)}function Xi(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new je(u);var c=function(){var p=arguments,m=i?i.apply(this,p):p[0],y=c.cache;if(y.has(m))return y.get(m);var w=r.apply(this,p);return c.cache=y.set(m,w)||y,w};return c.cache=new(Xi.Cache||Ln),c}Xi.Cache=Ln;function Yi(r){if(typeof r!="function")throw new je(u);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function Vy(r){return _f(2,r)}var qy=E0(function(r,i){i=i.length==1&&et(i[0])?Ct(i[0],Oe(J())):Ct(Xt(i,1),Oe(J()));var c=i.length;return ot(function(p){for(var m=-1,y=te(p.length,c);++m<y;)p[m]=i[m].call(this,p[m]);return Te(r,this,p)})}),Ps=ot(function(r,i){var c=Zn(i,eo(Ps));return zn(r,P,e,i,c)}),Df=ot(function(r,i){var c=Zn(i,eo(Df));return zn(r,R,e,i,c)}),Wy=Rn(function(r,i){return zn(r,it,e,e,e,i)});function Ky(r,i){if(typeof r!="function")throw new je(u);return i=i===e?i:nt(i),ot(r,i)}function Uy(r,i){if(typeof r!="function")throw new je(u);return i=i==null?0:Pt(nt(i),0),ot(function(c){var p=c[i],m=er(c,0,i);return p&&Gn(m,p),Te(r,this,m)})}function Jy(r,i,c){var p=!0,m=!0;if(typeof r!="function")throw new je(u);return Ot(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),Nf(r,i,{leading:p,maxWait:i,trailing:m})}function Gy(r){return Of(r,1)}function Zy(r,i){return Ps(Ss(i),r)}function Xy(){if(!arguments.length)return[];var r=arguments[0];return et(r)?r:[r]}function Yy(r){return Pe(r,x)}function Qy(r,i){return i=typeof i=="function"?i:e,Pe(r,x,i)}function t1(r){return Pe(r,v|x)}function e1(r,i){return i=typeof i=="function"?i:e,Pe(r,v|x,i)}function n1(r,i){return i==null||bl(r,i,Wt(i))}function nn(r,i){return r===i||r!==r&&i!==i}var r1=qi(ps),o1=qi(function(r,i){return r>=i}),Sr=Cl(function(){return arguments}())?Cl:function(r){return _t(r)&&wt.call(r,"callee")&&!fl.call(r,"callee")},et=_.isArray,i1=Kc?Oe(Kc):d0;function be(r){return r!=null&&Qi(r.length)&&!Bn(r)}function Nt(r){return _t(r)&&be(r)}function a1(r){return r===!0||r===!1||_t(r)&&le(r)==ge}var nr=wg||Xs,s1=Uc?Oe(Uc):h0;function u1(r){return _t(r)&&r.nodeType===1&&!Ho(r)}function c1(r){if(r==null)return!0;if(be(r)&&(et(r)||typeof r=="string"||typeof r.splice=="function"||nr(r)||no(r)||Sr(r)))return!r.length;var i=ee(r);if(i==Qt||i==Rt)return!r.size;if(Bo(r))return!ms(r).length;for(var c in r)if(wt.call(r,c))return!1;return!0}function l1(r,i){return zo(r,i)}function f1(r,i,c){c=typeof c=="function"?c:e;var p=c?c(r,i):e;return p===e?zo(r,i,e,c):!!p}function Hs(r){if(!_t(r))return!1;var i=le(r);return i==Xe||i==pn||typeof r.message=="string"&&typeof r.name=="string"&&!Ho(r)}function p1(r){return typeof r=="number"&&dl(r)}function Bn(r){if(!Ot(r))return!1;var i=le(r);return i==En||i==Kn||i==An||i==Br}function Lf(r){return typeof r=="number"&&r==nt(r)}function Qi(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ht}function Ot(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function _t(r){return r!=null&&typeof r=="object"}var $f=Jc?Oe(Jc):g0;function d1(r,i){return r===i||hs(r,i,Is(i))}function h1(r,i,c){return c=typeof c=="function"?c:e,hs(r,i,Is(i),c)}function m1(r){return zf(r)&&r!=+r}function g1(r){if(Q0(r))throw new tt(s);return Tl(r)}function v1(r){return r===null}function y1(r){return r==null}function zf(r){return typeof r=="number"||_t(r)&&le(r)==dn}function Ho(r){if(!_t(r)||le(r)!=ue)return!1;var i=Ti(r);if(i===null)return!0;var c=wt.call(i,"constructor")&&i.constructor;return typeof c=="function"&&c instanceof c&&ki.call(c)==hg}var Fs=Gc?Oe(Gc):v0;function b1(r){return Lf(r)&&r>=-ht&&r<=ht}var Rf=Zc?Oe(Zc):y0;function ta(r){return typeof r=="string"||!et(r)&&_t(r)&&le(r)==Ye}function Ae(r){return typeof r=="symbol"||_t(r)&&le(r)==$e}var no=Xc?Oe(Xc):b0;function w1(r){return r===e}function x1(r){return _t(r)&&ee(r)==hn}function k1(r){return _t(r)&&le(r)==Pr}var M1=qi(gs),S1=qi(function(r,i){return r<=i});function jf(r){if(!r)return[];if(be(r))return ta(r)?tn(r):ye(r);if(_o&&r[_o])return ng(r[_o]());var i=ee(r),c=i==Qt?ns:i==Rt?bi:ro;return c(r)}function Pn(r){if(!r)return r===0?r:0;if(r=Ve(r),r===gt||r===-gt){var i=r<0?-1:1;return i*Vt}return r===r?r:0}function nt(r){var i=Pn(r),c=i%1;return i===i?c?i-c:i:0}function Bf(r){return r?wr(nt(r),0,It):0}function Ve(r){if(typeof r=="number")return r;if(Ae(r))return qt;if(Ot(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=Ot(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=rl(r);var c=im.test(r);return c||sm.test(r)?Bm(r.slice(2),c?2:8):om.test(r)?qt:+r}function Pf(r){return vn(r,we(r))}function C1(r){return r?wr(nt(r),-ht,ht):r===0?r:0}function yt(r){return r==null?"":_e(r)}var T1=Qr(function(r,i){if(Bo(i)||be(i)){vn(i,Wt(i),r);return}for(var c in i)wt.call(i,c)&&Do(r,c,i[c])}),Hf=Qr(function(r,i){vn(i,we(i),r)}),ea=Qr(function(r,i,c,p){vn(i,we(i),r,p)}),O1=Qr(function(r,i,c,p){vn(i,Wt(i),r,p)}),_1=Rn(cs);function A1(r,i){var c=Yr(r);return i==null?c:yl(c,i)}var E1=ot(function(r,i){r=kt(r);var c=-1,p=i.length,m=p>2?i[2]:e;for(m&&fe(i[0],i[1],m)&&(p=1);++c<p;)for(var y=i[c],w=we(y),M=-1,T=w.length;++M<T;){var N=w[M],D=r[N];(D===e||nn(D,Gr[N])&&!wt.call(r,N))&&(r[N]=y[N])}return r}),I1=ot(function(r){return r.push(e,rf),Te(Ff,e,r)});function N1(r,i){return Qc(r,J(i,3),gn)}function D1(r,i){return Qc(r,J(i,3),fs)}function L1(r,i){return r==null?r:ls(r,J(i,3),we)}function $1(r,i){return r==null?r:Ml(r,J(i,3),we)}function z1(r,i){return r&&gn(r,J(i,3))}function R1(r,i){return r&&fs(r,J(i,3))}function j1(r){return r==null?[]:zi(r,Wt(r))}function B1(r){return r==null?[]:zi(r,we(r))}function Vs(r,i,c){var p=r==null?e:xr(r,i);return p===e?c:p}function P1(r,i){return r!=null&&sf(r,i,c0)}function qs(r,i){return r!=null&&sf(r,i,l0)}var H1=Yl(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=Mi.call(i)),r[i]=c},Ks(xe)),F1=Yl(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=Mi.call(i)),wt.call(r,i)?r[i].push(c):r[i]=[c]},J),V1=ot($o);function Wt(r){return be(r)?gl(r):ms(r)}function we(r){return be(r)?gl(r,!0):w0(r)}function q1(r,i){var c={};return i=J(i,3),gn(r,function(p,m,y){$n(c,i(p,m,y),p)}),c}function W1(r,i){var c={};return i=J(i,3),gn(r,function(p,m,y){$n(c,m,i(p,m,y))}),c}var K1=Qr(function(r,i,c){Ri(r,i,c)}),Ff=Qr(function(r,i,c,p){Ri(r,i,c,p)}),U1=Rn(function(r,i){var c={};if(r==null)return c;var p=!1;i=Ct(i,function(y){return y=tr(y,r),p||(p=y.length>1),y}),vn(r,As(r),c),p&&(c=Pe(c,v|b|x,H0));for(var m=i.length;m--;)xs(c,i[m]);return c});function J1(r,i){return Vf(r,Yi(J(i)))}var G1=Rn(function(r,i){return r==null?{}:k0(r,i)});function Vf(r,i){if(r==null)return{};var c=Ct(As(r),function(p){return[p]});return i=J(i),Dl(r,c,function(p,m){return i(p,m[0])})}function Z1(r,i,c){i=tr(i,r);var p=-1,m=i.length;for(m||(m=1,r=e);++p<m;){var y=r==null?e:r[yn(i[p])];y===e&&(p=m,y=c),r=Bn(y)?y.call(r):y}return r}function X1(r,i,c){return r==null?r:Ro(r,i,c)}function Y1(r,i,c,p){return p=typeof p=="function"?p:e,r==null?r:Ro(r,i,c,p)}var qf=ef(Wt),Wf=ef(we);function Q1(r,i,c){var p=et(r),m=p||nr(r)||no(r);if(i=J(i,4),c==null){var y=r&&r.constructor;m?c=p?new y:[]:Ot(r)?c=Bn(y)?Yr(Ti(r)):{}:c={}}return(m?Re:gn)(r,function(w,M,T){return i(c,w,M,T)}),c}function tb(r,i){return r==null?!0:xs(r,i)}function eb(r,i,c){return r==null?r:jl(r,i,Ss(c))}function nb(r,i,c,p){return p=typeof p=="function"?p:e,r==null?r:jl(r,i,Ss(c),p)}function ro(r){return r==null?[]:es(r,Wt(r))}function rb(r){return r==null?[]:es(r,we(r))}function ob(r,i,c){return c===e&&(c=i,i=e),c!==e&&(c=Ve(c),c=c===c?c:0),i!==e&&(i=Ve(i),i=i===i?i:0),wr(Ve(r),i,c)}function ib(r,i,c){return i=Pn(i),c===e?(c=i,i=0):c=Pn(c),r=Ve(r),f0(r,i,c)}function ab(r,i,c){if(c&&typeof c!="boolean"&&fe(r,i,c)&&(i=c=e),c===e&&(typeof i=="boolean"?(c=i,i=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&i===e?(r=0,i=1):(r=Pn(r),i===e?(i=r,r=0):i=Pn(i)),r>i){var p=r;r=i,i=p}if(c||r%1||i%1){var m=hl();return te(r+m*(i-r+jm("1e-"+((m+"").length-1))),i)}return ys(r,i)}var sb=to(function(r,i,c){return i=i.toLowerCase(),r+(c?Kf(i):i)});function Kf(r){return Ws(yt(r).toLowerCase())}function Uf(r){return r=yt(r),r&&r.replace(cm,Xm).replace(_m,"")}function ub(r,i,c){r=yt(r),i=_e(i);var p=r.length;c=c===e?p:wr(nt(c),0,p);var m=c;return c-=i.length,c>=0&&r.slice(c,m)==i}function cb(r){return r=yt(r),r&&Hr.test(r)?r.replace(mr,Ym):r}function lb(r){return r=yt(r),r&&Gh.test(r)?r.replace(Ba,"\\$&"):r}var fb=to(function(r,i,c){return r+(c?"-":"")+i.toLowerCase()}),pb=to(function(r,i,c){return r+(c?" ":"")+i.toLowerCase()}),db=Gl("toLowerCase");function hb(r,i,c){r=yt(r),i=nt(i);var p=i?Ur(r):0;if(!i||p>=i)return r;var m=(i-p)/2;return Vi(Ei(m),c)+r+Vi(Ai(m),c)}function mb(r,i,c){r=yt(r),i=nt(i);var p=i?Ur(r):0;return i&&p<i?r+Vi(i-p,c):r}function gb(r,i,c){r=yt(r),i=nt(i);var p=i?Ur(r):0;return i&&p<i?Vi(i-p,c)+r:r}function vb(r,i,c){return c||i==null?i=0:i&&(i=+i),Sg(yt(r).replace(Pa,""),i||0)}function yb(r,i,c){return(c?fe(r,i,c):i===e)?i=1:i=nt(i),bs(yt(r),i)}function bb(){var r=arguments,i=yt(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var wb=to(function(r,i,c){return r+(c?"_":"")+i.toLowerCase()});function xb(r,i,c){return c&&typeof c!="number"&&fe(r,i,c)&&(i=c=e),c=c===e?It:c>>>0,c?(r=yt(r),r&&(typeof i=="string"||i!=null&&!Fs(i))&&(i=_e(i),!i&&Kr(r))?er(tn(r),0,c):r.split(i,c)):[]}var kb=to(function(r,i,c){return r+(c?" ":"")+Ws(i)});function Mb(r,i,c){return r=yt(r),c=c==null?0:wr(nt(c),0,r.length),i=_e(i),r.slice(c,c+i.length)==i}function Sb(r,i,c){var p=g.templateSettings;c&&fe(r,i,c)&&(i=e),r=yt(r),i=ea({},i,p,nf);var m=ea({},i.imports,p.imports,nf),y=Wt(m),w=es(m,y),M,T,N=0,D=i.interpolate||hi,$="__p += '",B=rs((i.escape||hi).source+"|"+D.source+"|"+(D===Fr?rm:hi).source+"|"+(i.evaluate||hi).source+"|$","g"),q="//# sourceURL="+(wt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dm+"]")+`
`;r.replace(B,function(X,st,pt,Ee,pe,Ie){return pt||(pt=Ee),$+=r.slice(N,Ie).replace(lm,Qm),st&&(M=!0,$+=`' +
__e(`+st+`) +
'`),pe&&(T=!0,$+=`';
`+pe+`;
__p += '`),pt&&($+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),N=Ie+X.length,X}),$+=`';
`;var Z=wt.call(i,"variable")&&i.variable;if(!Z)$=`with (obj) {
`+$+`
}
`;else if(em.test(Z))throw new tt(l);$=(T?$.replace(ft,""):$).replace(Gt,"$1").replace(ve,"$1;"),$="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var rt=Gf(function(){return vt(y,q+"return "+$).apply(e,w)});if(rt.source=$,Hs(rt))throw rt;return rt}function Cb(r){return yt(r).toLowerCase()}function Tb(r){return yt(r).toUpperCase()}function Ob(r,i,c){if(r=yt(r),r&&(c||i===e))return rl(r);if(!r||!(i=_e(i)))return r;var p=tn(r),m=tn(i),y=ol(p,m),w=il(p,m)+1;return er(p,y,w).join("")}function _b(r,i,c){if(r=yt(r),r&&(c||i===e))return r.slice(0,sl(r)+1);if(!r||!(i=_e(i)))return r;var p=tn(r),m=il(p,tn(i))+1;return er(p,0,m).join("")}function Ab(r,i,c){if(r=yt(r),r&&(c||i===e))return r.replace(Pa,"");if(!r||!(i=_e(i)))return r;var p=tn(r),m=ol(p,tn(i));return er(p,m).join("")}function Eb(r,i){var c=Q,p=xt;if(Ot(i)){var m="separator"in i?i.separator:m;c="length"in i?nt(i.length):c,p="omission"in i?_e(i.omission):p}r=yt(r);var y=r.length;if(Kr(r)){var w=tn(r);y=w.length}if(c>=y)return r;var M=c-Ur(p);if(M<1)return p;var T=w?er(w,0,M).join(""):r.slice(0,M);if(m===e)return T+p;if(w&&(M+=T.length-M),Fs(m)){if(r.slice(M).search(m)){var N,D=T;for(m.global||(m=rs(m.source,yt(Cc.exec(m))+"g")),m.lastIndex=0;N=m.exec(D);)var $=N.index;T=T.slice(0,$===e?M:$)}}else if(r.indexOf(_e(m),M)!=M){var B=T.lastIndexOf(m);B>-1&&(T=T.slice(0,B))}return T+p}function Ib(r){return r=yt(r),r&&Nn.test(r)?r.replace(In,ag):r}var Nb=to(function(r,i,c){return r+(c?" ":"")+i.toUpperCase()}),Ws=Gl("toUpperCase");function Jf(r,i,c){return r=yt(r),i=c?e:i,i===e?eg(r)?cg(r):Km(r):r.match(i)||[]}var Gf=ot(function(r,i){try{return Te(r,e,i)}catch(c){return Hs(c)?c:new tt(c)}}),Db=Rn(function(r,i){return Re(i,function(c){c=yn(c),$n(r,c,Bs(r[c],r))}),r});function Lb(r){var i=r==null?0:r.length,c=J();return r=i?Ct(r,function(p){if(typeof p[1]!="function")throw new je(u);return[c(p[0]),p[1]]}):[],ot(function(p){for(var m=-1;++m<i;){var y=r[m];if(Te(y[0],this,p))return Te(y[1],this,p)}})}function $b(r){return a0(Pe(r,v))}function Ks(r){return function(){return r}}function zb(r,i){return r==null||r!==r?i:r}var Rb=Xl(),jb=Xl(!0);function xe(r){return r}function Us(r){return Ol(typeof r=="function"?r:Pe(r,v))}function Bb(r){return Al(Pe(r,v))}function Pb(r,i){return El(r,Pe(i,v))}var Hb=ot(function(r,i){return function(c){return $o(c,r,i)}}),Fb=ot(function(r,i){return function(c){return $o(r,c,i)}});function Js(r,i,c){var p=Wt(i),m=zi(i,p);c==null&&!(Ot(i)&&(m.length||!p.length))&&(c=i,i=r,r=this,m=zi(i,Wt(i)));var y=!(Ot(c)&&"chain"in c)||!!c.chain,w=Bn(r);return Re(m,function(M){var T=i[M];r[M]=T,w&&(r.prototype[M]=function(){var N=this.__chain__;if(y||N){var D=r(this.__wrapped__),$=D.__actions__=ye(this.__actions__);return $.push({func:T,args:arguments,thisArg:r}),D.__chain__=N,D}return T.apply(r,Gn([this.value()],arguments))})}),r}function Vb(){return Zt._===this&&(Zt._=mg),this}function Gs(){}function qb(r){return r=nt(r),ot(function(i){return Il(i,r)})}var Wb=Ts(Ct),Kb=Ts(Yc),Ub=Ts(Za);function Zf(r){return Ds(r)?Xa(yn(r)):M0(r)}function Jb(r){return function(i){return r==null?e:xr(r,i)}}var Gb=Ql(),Zb=Ql(!0);function Zs(){return[]}function Xs(){return!1}function Xb(){return{}}function Yb(){return""}function Qb(){return!0}function tw(r,i){if(r=nt(r),r<1||r>ht)return[];var c=It,p=te(r,It);i=J(i),r-=It;for(var m=ts(p,i);++c<r;)i(c);return m}function ew(r){return et(r)?Ct(r,yn):Ae(r)?[r]:ye(gf(yt(r)))}function nw(r){var i=++dg;return yt(r)+i}var rw=Fi(function(r,i){return r+i},0),ow=Os("ceil"),iw=Fi(function(r,i){return r/i},1),aw=Os("floor");function sw(r){return r&&r.length?$i(r,xe,ps):e}function uw(r,i){return r&&r.length?$i(r,J(i,2),ps):e}function cw(r){return el(r,xe)}function lw(r,i){return el(r,J(i,2))}function fw(r){return r&&r.length?$i(r,xe,gs):e}function pw(r,i){return r&&r.length?$i(r,J(i,2),gs):e}var dw=Fi(function(r,i){return r*i},1),hw=Os("round"),mw=Fi(function(r,i){return r-i},0);function gw(r){return r&&r.length?Qa(r,xe):0}function vw(r,i){return r&&r.length?Qa(r,J(i,2)):0}return g.after=By,g.ary=Of,g.assign=T1,g.assignIn=Hf,g.assignInWith=ea,g.assignWith=O1,g.at=_1,g.before=_f,g.bind=Bs,g.bindAll=Db,g.bindKey=Af,g.castArray=Xy,g.chain=Sf,g.chunk=av,g.compact=sv,g.concat=uv,g.cond=Lb,g.conforms=$b,g.constant=Ks,g.countBy=gy,g.create=A1,g.curry=Ef,g.curryRight=If,g.debounce=Nf,g.defaults=E1,g.defaultsDeep=I1,g.defer=Py,g.delay=Hy,g.difference=cv,g.differenceBy=lv,g.differenceWith=fv,g.drop=pv,g.dropRight=dv,g.dropRightWhile=hv,g.dropWhile=mv,g.fill=gv,g.filter=yy,g.flatMap=xy,g.flatMapDeep=ky,g.flatMapDepth=My,g.flatten=wf,g.flattenDeep=vv,g.flattenDepth=yv,g.flip=Fy,g.flow=Rb,g.flowRight=jb,g.fromPairs=bv,g.functions=j1,g.functionsIn=B1,g.groupBy=Sy,g.initial=xv,g.intersection=kv,g.intersectionBy=Mv,g.intersectionWith=Sv,g.invert=H1,g.invertBy=F1,g.invokeMap=Ty,g.iteratee=Us,g.keyBy=Oy,g.keys=Wt,g.keysIn=we,g.map=Gi,g.mapKeys=q1,g.mapValues=W1,g.matches=Bb,g.matchesProperty=Pb,g.memoize=Xi,g.merge=K1,g.mergeWith=Ff,g.method=Hb,g.methodOf=Fb,g.mixin=Js,g.negate=Yi,g.nthArg=qb,g.omit=U1,g.omitBy=J1,g.once=Vy,g.orderBy=_y,g.over=Wb,g.overArgs=qy,g.overEvery=Kb,g.overSome=Ub,g.partial=Ps,g.partialRight=Df,g.partition=Ay,g.pick=G1,g.pickBy=Vf,g.property=Zf,g.propertyOf=Jb,g.pull=_v,g.pullAll=kf,g.pullAllBy=Av,g.pullAllWith=Ev,g.pullAt=Iv,g.range=Gb,g.rangeRight=Zb,g.rearg=Wy,g.reject=Ny,g.remove=Nv,g.rest=Ky,g.reverse=Rs,g.sampleSize=Ly,g.set=X1,g.setWith=Y1,g.shuffle=$y,g.slice=Dv,g.sortBy=jy,g.sortedUniq=Pv,g.sortedUniqBy=Hv,g.split=xb,g.spread=Uy,g.tail=Fv,g.take=Vv,g.takeRight=qv,g.takeRightWhile=Wv,g.takeWhile=Kv,g.tap=sy,g.throttle=Jy,g.thru=Ji,g.toArray=jf,g.toPairs=qf,g.toPairsIn=Wf,g.toPath=ew,g.toPlainObject=Pf,g.transform=Q1,g.unary=Gy,g.union=Uv,g.unionBy=Jv,g.unionWith=Gv,g.uniq=Zv,g.uniqBy=Xv,g.uniqWith=Yv,g.unset=tb,g.unzip=js,g.unzipWith=Mf,g.update=eb,g.updateWith=nb,g.values=ro,g.valuesIn=rb,g.without=Qv,g.words=Jf,g.wrap=Zy,g.xor=ty,g.xorBy=ey,g.xorWith=ny,g.zip=ry,g.zipObject=oy,g.zipObjectDeep=iy,g.zipWith=ay,g.entries=qf,g.entriesIn=Wf,g.extend=Hf,g.extendWith=ea,Js(g,g),g.add=rw,g.attempt=Gf,g.camelCase=sb,g.capitalize=Kf,g.ceil=ow,g.clamp=ob,g.clone=Yy,g.cloneDeep=t1,g.cloneDeepWith=e1,g.cloneWith=Qy,g.conformsTo=n1,g.deburr=Uf,g.defaultTo=zb,g.divide=iw,g.endsWith=ub,g.eq=nn,g.escape=cb,g.escapeRegExp=lb,g.every=vy,g.find=by,g.findIndex=yf,g.findKey=N1,g.findLast=wy,g.findLastIndex=bf,g.findLastKey=D1,g.floor=aw,g.forEach=Cf,g.forEachRight=Tf,g.forIn=L1,g.forInRight=$1,g.forOwn=z1,g.forOwnRight=R1,g.get=Vs,g.gt=r1,g.gte=o1,g.has=P1,g.hasIn=qs,g.head=xf,g.identity=xe,g.includes=Cy,g.indexOf=wv,g.inRange=ib,g.invoke=V1,g.isArguments=Sr,g.isArray=et,g.isArrayBuffer=i1,g.isArrayLike=be,g.isArrayLikeObject=Nt,g.isBoolean=a1,g.isBuffer=nr,g.isDate=s1,g.isElement=u1,g.isEmpty=c1,g.isEqual=l1,g.isEqualWith=f1,g.isError=Hs,g.isFinite=p1,g.isFunction=Bn,g.isInteger=Lf,g.isLength=Qi,g.isMap=$f,g.isMatch=d1,g.isMatchWith=h1,g.isNaN=m1,g.isNative=g1,g.isNil=y1,g.isNull=v1,g.isNumber=zf,g.isObject=Ot,g.isObjectLike=_t,g.isPlainObject=Ho,g.isRegExp=Fs,g.isSafeInteger=b1,g.isSet=Rf,g.isString=ta,g.isSymbol=Ae,g.isTypedArray=no,g.isUndefined=w1,g.isWeakMap=x1,g.isWeakSet=k1,g.join=Cv,g.kebabCase=fb,g.last=Fe,g.lastIndexOf=Tv,g.lowerCase=pb,g.lowerFirst=db,g.lt=M1,g.lte=S1,g.max=sw,g.maxBy=uw,g.mean=cw,g.meanBy=lw,g.min=fw,g.minBy=pw,g.stubArray=Zs,g.stubFalse=Xs,g.stubObject=Xb,g.stubString=Yb,g.stubTrue=Qb,g.multiply=dw,g.nth=Ov,g.noConflict=Vb,g.noop=Gs,g.now=Zi,g.pad=hb,g.padEnd=mb,g.padStart=gb,g.parseInt=vb,g.random=ab,g.reduce=Ey,g.reduceRight=Iy,g.repeat=yb,g.replace=bb,g.result=Z1,g.round=hw,g.runInContext=S,g.sample=Dy,g.size=zy,g.snakeCase=wb,g.some=Ry,g.sortedIndex=Lv,g.sortedIndexBy=$v,g.sortedIndexOf=zv,g.sortedLastIndex=Rv,g.sortedLastIndexBy=jv,g.sortedLastIndexOf=Bv,g.startCase=kb,g.startsWith=Mb,g.subtract=mw,g.sum=gw,g.sumBy=vw,g.template=Sb,g.times=tw,g.toFinite=Pn,g.toInteger=nt,g.toLength=Bf,g.toLower=Cb,g.toNumber=Ve,g.toSafeInteger=C1,g.toString=yt,g.toUpper=Tb,g.trim=Ob,g.trimEnd=_b,g.trimStart=Ab,g.truncate=Eb,g.unescape=Ib,g.uniqueId=nw,g.upperCase=Nb,g.upperFirst=Ws,g.each=Cf,g.eachRight=Tf,g.first=xf,Js(g,function(){var r={};return gn(g,function(i,c){wt.call(g.prototype,c)||(r[c]=i)}),r}(),{chain:!1}),g.VERSION=o,Re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){g[r].placeholder=g}),Re(["drop","take"],function(r,i){ut.prototype[r]=function(c){c=c===e?1:Pt(nt(c),0);var p=this.__filtered__&&!i?new ut(this):this.clone();return p.__filtered__?p.__takeCount__=te(c,p.__takeCount__):p.__views__.push({size:te(c,It),type:r+(p.__dir__<0?"Right":"")}),p},ut.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),Re(["filter","map","takeWhile"],function(r,i){var c=i+1,p=c==$t||c==zt;ut.prototype[r]=function(m){var y=this.clone();return y.__iteratees__.push({iteratee:J(m,3),type:c}),y.__filtered__=y.__filtered__||p,y}}),Re(["head","last"],function(r,i){var c="take"+(i?"Right":"");ut.prototype[r]=function(){return this[c](1).value()[0]}}),Re(["initial","tail"],function(r,i){var c="drop"+(i?"":"Right");ut.prototype[r]=function(){return this.__filtered__?new ut(this):this[c](1)}}),ut.prototype.compact=function(){return this.filter(xe)},ut.prototype.find=function(r){return this.filter(r).head()},ut.prototype.findLast=function(r){return this.reverse().find(r)},ut.prototype.invokeMap=ot(function(r,i){return typeof r=="function"?new ut(this):this.map(function(c){return $o(c,r,i)})}),ut.prototype.reject=function(r){return this.filter(Yi(J(r)))},ut.prototype.slice=function(r,i){r=nt(r);var c=this;return c.__filtered__&&(r>0||i<0)?new ut(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),i!==e&&(i=nt(i),c=i<0?c.dropRight(-i):c.take(i-r)),c)},ut.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},ut.prototype.toArray=function(){return this.take(It)},gn(ut.prototype,function(r,i){var c=/^(?:filter|find|map|reject)|While$/.test(i),p=/^(?:head|last)$/.test(i),m=g[p?"take"+(i=="last"?"Right":""):i],y=p||/^find/.test(i);m&&(g.prototype[i]=function(){var w=this.__wrapped__,M=p?[1]:arguments,T=w instanceof ut,N=M[0],D=T||et(w),$=function(st){var pt=m.apply(g,Gn([st],M));return p&&B?pt[0]:pt};D&&c&&typeof N=="function"&&N.length!=1&&(T=D=!1);var B=this.__chain__,q=!!this.__actions__.length,Z=y&&!B,rt=T&&!q;if(!y&&D){w=rt?w:new ut(this);var X=r.apply(w,M);return X.__actions__.push({func:Ji,args:[$],thisArg:e}),new Be(X,B)}return Z&&rt?r.apply(this,M):(X=this.thru($),Z?p?X.value()[0]:X.value():X)})}),Re(["pop","push","shift","sort","splice","unshift"],function(r){var i=wi[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);g.prototype[r]=function(){var m=arguments;if(p&&!this.__chain__){var y=this.value();return i.apply(et(y)?y:[],m)}return this[c](function(w){return i.apply(et(w)?w:[],m)})}}),gn(ut.prototype,function(r,i){var c=g[i];if(c){var p=c.name+"";wt.call(Xr,p)||(Xr[p]=[]),Xr[p].push({name:i,func:c})}}),Xr[Hi(e,z).name]=[{name:"wrapper",func:e}],ut.prototype.clone=Ig,ut.prototype.reverse=Ng,ut.prototype.value=Dg,g.prototype.at=uy,g.prototype.chain=cy,g.prototype.commit=ly,g.prototype.next=fy,g.prototype.plant=dy,g.prototype.reverse=hy,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=my,g.prototype.first=g.prototype.head,_o&&(g.prototype[_o]=py),g},Jr=lg();gr?((gr.exports=Jr)._=Jr,Ka._=Jr):Zt._=Jr}).call(qo)})(Ta,Ta.exports);Ta.exports;class xT{constructor(){Dw(this,"images"),this.images={}}getImage(t){return t.length&&this.images[t]||!1}async loadImage(t){return new Promise((e,o)=>{const a=new Image;a.onload=()=>{typeof window<"u"&&(this.images[t]={image:a,width:a.naturalWidth,height:a.naturalHeight}),e({image:a,width:a.naturalWidth,height:a.naturalHeight})},a.onerror=s=>{o(s)},a.src=t})}}const yu=new xT,kT=["src"],ca=Hu({__name:"UiImage",props:{...ud,preview:{type:String,default:""},origin:{type:String,default:""},lazy:{type:Boolean,default:!0},swiperLazy:{type:Boolean,default:!1},objectFit:{type:String,default:"cover",validator:n=>["contain","cover","fill","none","scale-down"].includes(n)},transition:{type:String,default:"fade",validator:n=>["fade","zoom-in","zoom-out"].includes(n)}},emits:["origin-loaded","preview-loaded"],setup(n,{emit:t}){const e=n,o=ad(),a=kw();let s=null;const u=na(null),l=Math.floor(Math.random()*1e6),f=na(!1),h=na(!1),d=na(!!yu.getImage(e.origin));function v(){if(window.UiLazyObserver)return window.UiLazyObserver;const k={rootMargin:"0px",threshold:.1},P=R=>{R.forEach(U=>{const{isIntersecting:it,target:mt}=U;it&&window.UiLazyObserver&&Object.values(window.UiLazyObserver.actions).forEach(Q=>{Q(mt)})})};return window.UiLazyObserver={object:new IntersectionObserver(P,k),actions:{}},window.UiLazyObserver}function b(){if(!e.lazy||!s||!u.value)return!1;delete s.actions[l],s.object.unobserve(u.value),Object.keys(s.actions).length||(s.object.disconnect(),window.UiLazyObserver=null)}async function x(){if(!o["preview-loaded"])return!1;try{await yu.loadImage(e.preview),t("preview-loaded")}catch(k){console.error("UI_IMAGE:LOAD_PREVIEW",k)}}async function O(k){try{const P=k.isEqualNode(u.value);if(h.value||f.value||!P)return!1;h.value=!0,await yu.loadImage(e.origin),f.value=!0,o["origin-loaded"]&&t("origin-loaded")}catch(P){console.error("UI_IMAGE:LOAD_IMAGE",P)}}function C(){if(!e.lazy||d.value||(s=v(),!s))return!1;s.actions[l]=O,u.value&&s.object.observe(u.value),x()}sd(()=>{C()}),Mw(()=>{b()});const{getClassName:A}=cd(e),z=Ue(()=>[`--object-fit-${e.objectFit}`,`--transition-${e.transition}`,{"--has-preview":!!e.preview||!!a.preview,"--loaded":f.value}]),L=Ue(()=>({...o,...!e.swiperLazy&&{src:e.origin},...e.swiperLazy&&{"data-src":e.origin}})),j=Ue(()=>[{"swiper-lazy":e.swiperLazy}]);return(k,P)=>(uo(),Wo("div",{ref_key:"el",ref:u,class:Ys([Ne(A)("Image"),z.value])},[_r("div",{class:Ys(Ne(A)("Image__wrapper"))},[k.$slots.preview?(uo(),Wo("div",{key:0,class:Ys(Ne(A)("Image__preview"))},[id(k.$slots,"preview")],2)):n.preview?(uo(),Wo("img",wu({key:1,src:n.preview},k.$attrs,{draggable:"false",alt:"",class:Ne(A)("Image__preview")}),null,16,kT)):Yf("",!0),oo(Sw,{name:d.value?"none":"ui-image",mode:"out-in"},{default:Fu(()=>[!n.lazy||n.lazy&&f.value||d.value?(uo(),Wo("img",wu({key:0},L.value,{draggable:"false",alt:"",class:[Ne(A)("Image__origin"),j.value]}),null,16)):Yf("",!0)]),_:1},8,["name"])],2)],2))}});var Ah={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},mc={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},MT=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Oa={CSS:{},springs:{}};function Mn(n,t,e){return Math.min(Math.max(n,t),e)}function ei(n,t){return n.indexOf(t)>-1}function bu(n,t){return n.apply(null,t)}var W={arr:function(n){return Array.isArray(n)},obj:function(n){return ei(Object.prototype.toString.call(n),"Object")},pth:function(n){return W.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||W.svg(n)},str:function(n){return typeof n=="string"},fnc:function(n){return typeof n=="function"},und:function(n){return typeof n>"u"},nil:function(n){return W.und(n)||n===null},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return W.hex(n)||W.rgb(n)||W.hsl(n)},key:function(n){return!Ah.hasOwnProperty(n)&&!mc.hasOwnProperty(n)&&n!=="targets"&&n!=="keyframes"}};function Eh(n){var t=/\(([^)]+)\)/.exec(n);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function Ih(n,t){var e=Eh(n),o=Mn(W.und(e[0])?1:e[0],.1,100),a=Mn(W.und(e[1])?100:e[1],.1,100),s=Mn(W.und(e[2])?10:e[2],.1,100),u=Mn(W.und(e[3])?0:e[3],.1,100),l=Math.sqrt(a/o),f=s/(2*Math.sqrt(a*o)),h=f<1?l*Math.sqrt(1-f*f):0,d=1,v=f<1?(f*l+-u)/h:-u+l;function b(O){var C=t?t*O/1e3:O;return f<1?C=Math.exp(-C*f*l)*(d*Math.cos(h*C)+v*Math.sin(h*C)):C=(d+v*C)*Math.exp(-C*l),O===0||O===1?O:1-C}function x(){var O=Oa.springs[n];if(O)return O;for(var C=1/6,A=0,z=0;;)if(A+=C,b(A)===1){if(z++,z>=16)break}else z=0;var L=A*C*1e3;return Oa.springs[n]=L,L}return t?b:x}function ST(n){return n===void 0&&(n=10),function(t){return Math.ceil(Mn(t,1e-6,1)*n)*(1/n)}}var CT=function(){var n=11,t=1/(n-1);function e(d,v){return 1-3*v+3*d}function o(d,v){return 3*v-6*d}function a(d){return 3*d}function s(d,v,b){return((e(v,b)*d+o(v,b))*d+a(v))*d}function u(d,v,b){return 3*e(v,b)*d*d+2*o(v,b)*d+a(v)}function l(d,v,b,x,O){var C,A,z=0;do A=v+(b-v)/2,C=s(A,x,O)-d,C>0?b=A:v=A;while(Math.abs(C)>1e-7&&++z<10);return A}function f(d,v,b,x){for(var O=0;O<4;++O){var C=u(v,b,x);if(C===0)return v;var A=s(v,b,x)-d;v-=A/C}return v}function h(d,v,b,x){if(!(0<=d&&d<=1&&0<=b&&b<=1))return;var O=new Float32Array(n);if(d!==v||b!==x)for(var C=0;C<n;++C)O[C]=s(C*t,d,b);function A(z){for(var L=0,j=1,k=n-1;j!==k&&O[j]<=z;++j)L+=t;--j;var P=(z-O[j])/(O[j+1]-O[j]),R=L+P*t,U=u(R,d,b);return U>=.001?f(z,R,d,b):U===0?R:l(z,L,L+t,d,b)}return function(z){return d===v&&b===x||z===0||z===1?z:s(A(z),v,x)}}return h}(),Nh=function(){var n={linear:function(){return function(o){return o}}},t={Sine:function(){return function(o){return 1-Math.cos(o*Math.PI/2)}},Circ:function(){return function(o){return 1-Math.sqrt(1-o*o)}},Back:function(){return function(o){return o*o*(3*o-2)}},Bounce:function(){return function(o){for(var a,s=4;o<((a=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((a*3-2)/22-o,2)}},Elastic:function(o,a){o===void 0&&(o=1),a===void 0&&(a=.5);var s=Mn(o,1,10),u=Mn(a,.1,2);return function(l){return l===0||l===1?l:-s*Math.pow(2,10*(l-1))*Math.sin((l-1-u/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/u)}}},e=["Quad","Cubic","Quart","Quint","Expo"];return e.forEach(function(o,a){t[o]=function(){return function(s){return Math.pow(s,a+2)}}}),Object.keys(t).forEach(function(o){var a=t[o];n["easeIn"+o]=a,n["easeOut"+o]=function(s,u){return function(l){return 1-a(s,u)(1-l)}},n["easeInOut"+o]=function(s,u){return function(l){return l<.5?a(s,u)(l*2)/2:1-a(s,u)(l*-2+2)/2}},n["easeOutIn"+o]=function(s,u){return function(l){return l<.5?(1-a(s,u)(1-l*2))/2:(a(s,u)(l*2-1)+1)/2}}}),n}();function gc(n,t){if(W.fnc(n))return n;var e=n.split("(")[0],o=Nh[e],a=Eh(n);switch(e){case"spring":return Ih(n,t);case"cubicBezier":return bu(CT,a);case"steps":return bu(ST,a);default:return bu(o,a)}}function Dh(n){try{var t=document.querySelectorAll(n);return t}catch{return}}function $a(n,t){for(var e=n.length,o=arguments.length>=2?arguments[1]:void 0,a=[],s=0;s<e;s++)if(s in n){var u=n[s];t.call(o,u,s,n)&&a.push(u)}return a}function za(n){return n.reduce(function(t,e){return t.concat(W.arr(e)?za(e):e)},[])}function td(n){return W.arr(n)?n:(W.str(n)&&(n=Dh(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function vc(n,t){return n.some(function(e){return e===t})}function yc(n){var t={};for(var e in n)t[e]=n[e];return t}function Bu(n,t){var e=yc(n);for(var o in n)e[o]=t.hasOwnProperty(o)?t[o]:n[o];return e}function Ra(n,t){var e=yc(n);for(var o in t)e[o]=W.und(n[o])?t[o]:n[o];return e}function TT(n){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);return t?"rgba("+t[1]+",1)":n}function OT(n){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=n.replace(t,function(l,f,h,d){return f+f+h+h+d+d}),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),a=parseInt(o[1],16),s=parseInt(o[2],16),u=parseInt(o[3],16);return"rgba("+a+","+s+","+u+",1)"}function _T(n){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),e=parseInt(t[1],10)/360,o=parseInt(t[2],10)/100,a=parseInt(t[3],10)/100,s=t[4]||1;function u(b,x,O){return O<0&&(O+=1),O>1&&(O-=1),O<1/6?b+(x-b)*6*O:O<1/2?x:O<2/3?b+(x-b)*(2/3-O)*6:b}var l,f,h;if(o==0)l=f=h=a;else{var d=a<.5?a*(1+o):a+o-a*o,v=2*a-d;l=u(v,d,e+1/3),f=u(v,d,e),h=u(v,d,e-1/3)}return"rgba("+l*255+","+f*255+","+h*255+","+s+")"}function AT(n){if(W.rgb(n))return TT(n);if(W.hex(n))return OT(n);if(W.hsl(n))return _T(n)}function Vn(n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(t)return t[1]}function ET(n){if(ei(n,"translate")||n==="perspective")return"px";if(ei(n,"rotate")||ei(n,"skew"))return"deg"}function Pu(n,t){return W.fnc(n)?n(t.target,t.id,t.total):n}function Sn(n,t){return n.getAttribute(t)}function bc(n,t,e){var o=Vn(t);if(vc([e,"deg","rad","turn"],o))return t;var a=Oa.CSS[t+e];if(!W.und(a))return a;var s=100,u=document.createElement(n.tagName),l=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;l.appendChild(u),u.style.position="absolute",u.style.width=s+e;var f=s/u.offsetWidth;l.removeChild(u);var h=f*parseFloat(t);return Oa.CSS[t+e]=h,h}function Lh(n,t,e){if(t in n.style){var o=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[t]||getComputedStyle(n).getPropertyValue(o)||"0";return e?bc(n,a,e):a}}function wc(n,t){if(W.dom(n)&&!W.inp(n)&&(!W.nil(Sn(n,t))||W.svg(n)&&n[t]))return"attribute";if(W.dom(n)&&vc(MT,t))return"transform";if(W.dom(n)&&t!=="transform"&&Lh(n,t))return"css";if(n[t]!=null)return"object"}function $h(n){if(W.dom(n)){for(var t=n.style.transform||"",e=/(\w+)\(([^)]*)\)/g,o=new Map,a;a=e.exec(t);)o.set(a[1],a[2]);return o}}function IT(n,t,e,o){var a=ei(t,"scale")?1:0+ET(t),s=$h(n).get(t)||a;return e&&(e.transforms.list.set(t,s),e.transforms.last=t),o?bc(n,s,o):s}function xc(n,t,e,o){switch(wc(n,t)){case"transform":return IT(n,t,o,e);case"css":return Lh(n,t,e);case"attribute":return Sn(n,t);default:return n[t]||0}}function kc(n,t){var e=/^(\*=|\+=|-=)/.exec(n);if(!e)return n;var o=Vn(n)||0,a=parseFloat(t),s=parseFloat(n.replace(e[0],""));switch(e[0][0]){case"+":return a+s+o;case"-":return a-s+o;case"*":return a*s+o}}function zh(n,t){if(W.col(n))return AT(n);if(/\s/g.test(n))return n;var e=Vn(n),o=e?n.substr(0,n.length-e.length):n;return t?o+t:o}function Mc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function NT(n){return Math.PI*2*Sn(n,"r")}function DT(n){return Sn(n,"width")*2+Sn(n,"height")*2}function LT(n){return Mc({x:Sn(n,"x1"),y:Sn(n,"y1")},{x:Sn(n,"x2"),y:Sn(n,"y2")})}function Rh(n){for(var t=n.points,e=0,o,a=0;a<t.numberOfItems;a++){var s=t.getItem(a);a>0&&(e+=Mc(o,s)),o=s}return e}function $T(n){var t=n.points;return Rh(n)+Mc(t.getItem(t.numberOfItems-1),t.getItem(0))}function jh(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return NT(n);case"rect":return DT(n);case"line":return LT(n);case"polyline":return Rh(n);case"polygon":return $T(n)}}function zT(n){var t=jh(n);return n.setAttribute("stroke-dasharray",t),t}function RT(n){for(var t=n.parentNode;W.svg(t)&&W.svg(t.parentNode);)t=t.parentNode;return t}function Bh(n,t){var e=t||{},o=e.el||RT(n),a=o.getBoundingClientRect(),s=Sn(o,"viewBox"),u=a.width,l=a.height,f=e.viewBox||(s?s.split(" "):[0,0,u,l]);return{el:o,viewBox:f,x:f[0]/1,y:f[1]/1,w:u,h:l,vW:f[2],vH:f[3]}}function jT(n,t){var e=W.str(n)?Dh(n)[0]:n,o=t||100;return function(a){return{property:a,el:e,svg:Bh(e),totalLength:jh(e)*(o/100)}}}function BT(n,t,e){function o(d){d===void 0&&(d=0);var v=t+d>=1?t+d:0;return n.el.getPointAtLength(v)}var a=Bh(n.el,n.svg),s=o(),u=o(-1),l=o(1),f=e?1:a.w/a.vW,h=e?1:a.h/a.vH;switch(n.property){case"x":return(s.x-a.x)*f;case"y":return(s.y-a.y)*h;case"angle":return Math.atan2(l.y-u.y,l.x-u.x)*180/Math.PI}}function ed(n,t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,o=zh(W.pth(n)?n.totalLength:n,t)+"";return{original:o,numbers:o.match(e)?o.match(e).map(Number):[0],strings:W.str(n)||t?o.split(e):[]}}function Sc(n){var t=n?za(W.arr(n)?n.map(td):td(n)):[];return $a(t,function(e,o,a){return a.indexOf(e)===o})}function Ph(n){var t=Sc(n);return t.map(function(e,o){return{target:e,id:o,total:t.length,transforms:{list:$h(e)}}})}function PT(n,t){var e=yc(t);if(/^spring/.test(e.easing)&&(e.duration=Ih(e.easing)),W.arr(n)){var o=n.length,a=o===2&&!W.obj(n[0]);a?n={value:n}:W.fnc(t.duration)||(e.duration=t.duration/o)}var s=W.arr(n)?n:[n];return s.map(function(u,l){var f=W.obj(u)&&!W.pth(u)?u:{value:u};return W.und(f.delay)&&(f.delay=l?0:t.delay),W.und(f.endDelay)&&(f.endDelay=l===s.length-1?t.endDelay:0),f}).map(function(u){return Ra(u,e)})}function HT(n){for(var t=$a(za(n.map(function(s){return Object.keys(s)})),function(s){return W.key(s)}).reduce(function(s,u){return s.indexOf(u)<0&&s.push(u),s},[]),e={},o=function(s){var u=t[s];e[u]=n.map(function(l){var f={};for(var h in l)W.key(h)?h==u&&(f.value=l[h]):f[h]=l[h];return f})},a=0;a<t.length;a++)o(a);return e}function FT(n,t){var e=[],o=t.keyframes;o&&(t=Ra(HT(o),t));for(var a in t)W.key(a)&&e.push({name:a,tweens:PT(t[a],n)});return e}function VT(n,t){var e={};for(var o in n){var a=Pu(n[o],t);W.arr(a)&&(a=a.map(function(s){return Pu(s,t)}),a.length===1&&(a=a[0])),e[o]=a}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}function qT(n,t){var e;return n.tweens.map(function(o){var a=VT(o,t),s=a.value,u=W.arr(s)?s[1]:s,l=Vn(u),f=xc(t.target,n.name,l,t),h=e?e.to.original:f,d=W.arr(s)?s[0]:h,v=Vn(d)||Vn(f),b=l||v;return W.und(u)&&(u=h),a.from=ed(d,b),a.to=ed(kc(u,d),b),a.start=e?e.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=gc(a.easing,a.duration),a.isPath=W.pth(s),a.isPathTargetInsideSVG=a.isPath&&W.svg(t.target),a.isColor=W.col(a.from.original),a.isColor&&(a.round=1),e=a,a})}var Hh={css:function(n,t,e){return n.style[t]=e},attribute:function(n,t,e){return n.setAttribute(t,e)},object:function(n,t,e){return n[t]=e},transform:function(n,t,e,o,a){if(o.list.set(t,e),t===o.last||a){var s="";o.list.forEach(function(u,l){s+=l+"("+u+") "}),n.style.transform=s}}};function Fh(n,t){var e=Ph(n);e.forEach(function(o){for(var a in t){var s=Pu(t[a],o),u=o.target,l=Vn(s),f=xc(u,a,l,o),h=l||Vn(f),d=kc(zh(s,h),f),v=wc(u,a);Hh[v](u,a,d,o.transforms,!0)}})}function WT(n,t){var e=wc(n.target,t.name);if(e){var o=qT(t,n),a=o[o.length-1];return{type:e,property:t.name,animatable:n,tweens:o,duration:a.end,delay:o[0].delay,endDelay:a.endDelay}}}function KT(n,t){return $a(za(n.map(function(e){return t.map(function(o){return WT(e,o)})})),function(e){return!W.und(e)})}function Vh(n,t){var e=n.length,o=function(s){return s.timelineOffset?s.timelineOffset:0},a={};return a.duration=e?Math.max.apply(Math,n.map(function(s){return o(s)+s.duration})):t.duration,a.delay=e?Math.min.apply(Math,n.map(function(s){return o(s)+s.delay})):t.delay,a.endDelay=e?a.duration-Math.max.apply(Math,n.map(function(s){return o(s)+s.duration-s.endDelay})):t.endDelay,a}var nd=0;function UT(n){var t=Bu(Ah,n),e=Bu(mc,n),o=FT(e,n),a=Ph(n.targets),s=KT(a,o),u=Vh(s,e),l=nd;return nd++,Ra(t,{id:l,children:[],animatables:a,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay})}var an=[],qh=function(){var n;function t(){!n&&(!rd()||!Lt.suspendWhenDocumentHidden)&&an.length>0&&(n=requestAnimationFrame(e))}function e(a){for(var s=an.length,u=0;u<s;){var l=an[u];l.paused?(an.splice(u,1),s--):(l.tick(a),u++)}n=u>0?requestAnimationFrame(e):void 0}function o(){Lt.suspendWhenDocumentHidden&&(rd()?n=cancelAnimationFrame(n):(an.forEach(function(a){return a._onDocumentVisibility()}),qh()))}return typeof document<"u"&&document.addEventListener("visibilitychange",o),t}();function rd(){return!!document&&document.hidden}function Lt(n){n===void 0&&(n={});var t=0,e=0,o=0,a,s=0,u=null;function l(L){var j=window.Promise&&new Promise(function(k){return u=k});return L.finished=j,j}var f=UT(n);l(f);function h(){var L=f.direction;L!=="alternate"&&(f.direction=L!=="normal"?"normal":"reverse"),f.reversed=!f.reversed,a.forEach(function(j){return j.reversed=f.reversed})}function d(L){return f.reversed?f.duration-L:L}function v(){t=0,e=d(f.currentTime)*(1/Lt.speed)}function b(L,j){j&&j.seek(L-j.timelineOffset)}function x(L){if(f.reversePlayback)for(var j=s;j--;)b(L,a[j]);else for(var k=0;k<s;k++)b(L,a[k])}function O(L){for(var j=0,k=f.animations,P=k.length;j<P;){var R=k[j],U=R.animatable,it=R.tweens,mt=it.length-1,Q=it[mt];mt&&(Q=$a(it,function(se){return L<se.end})[0]||Q);for(var xt=Mn(L-Q.start-Q.delay,0,Q.duration)/Q.duration,bt=isNaN(xt)?1:Q.easing(xt),at=Q.to.strings,$t=Q.round,jt=[],zt=Q.to.numbers.length,gt=void 0,ht=0;ht<zt;ht++){var Vt=void 0,qt=Q.to.numbers[ht],It=Q.from.numbers[ht]||0;Q.isPath?Vt=BT(Q.value,bt*qt,Q.isPathTargetInsideSVG):Vt=It+bt*(qt-It),$t&&(Q.isColor&&ht>2||(Vt=Math.round(Vt*$t)/$t)),jt.push(Vt)}var oe=at.length;if(!oe)gt=jt[0];else{gt=at[0];for(var ie=0;ie<oe;ie++){at[ie];var ae=at[ie+1],Tt=jt[ie];isNaN(Tt)||(ae?gt+=Tt+ae:gt+=Tt+" ")}}Hh[R.type](U.target,R.property,gt,U.transforms),R.currentValue=gt,j++}}function C(L){f[L]&&!f.passThrough&&f[L](f)}function A(){f.remaining&&f.remaining!==!0&&f.remaining--}function z(L){var j=f.duration,k=f.delay,P=j-f.endDelay,R=d(L);f.progress=Mn(R/j*100,0,100),f.reversePlayback=R<f.currentTime,a&&x(R),!f.began&&f.currentTime>0&&(f.began=!0,C("begin")),!f.loopBegan&&f.currentTime>0&&(f.loopBegan=!0,C("loopBegin")),R<=k&&f.currentTime!==0&&O(0),(R>=P&&f.currentTime!==j||!j)&&O(j),R>k&&R<P?(f.changeBegan||(f.changeBegan=!0,f.changeCompleted=!1,C("changeBegin")),C("change"),O(R)):f.changeBegan&&(f.changeCompleted=!0,f.changeBegan=!1,C("changeComplete")),f.currentTime=Mn(R,0,j),f.began&&C("update"),L>=j&&(e=0,A(),f.remaining?(t=o,C("loopComplete"),f.loopBegan=!1,f.direction==="alternate"&&h()):(f.paused=!0,f.completed||(f.completed=!0,C("loopComplete"),C("complete"),!f.passThrough&&"Promise"in window&&(u(),l(f)))))}return f.reset=function(){var L=f.direction;f.passThrough=!1,f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.loopBegan=!1,f.changeBegan=!1,f.completed=!1,f.changeCompleted=!1,f.reversePlayback=!1,f.reversed=L==="reverse",f.remaining=f.loop,a=f.children,s=a.length;for(var j=s;j--;)f.children[j].reset();(f.reversed&&f.loop!==!0||L==="alternate"&&f.loop===1)&&f.remaining++,O(f.reversed?f.duration:0)},f._onDocumentVisibility=v,f.set=function(L,j){return Fh(L,j),f},f.tick=function(L){o=L,t||(t=o),z((o+(e-t))*Lt.speed)},f.seek=function(L){z(d(L))},f.pause=function(){f.paused=!0,v()},f.play=function(){f.paused&&(f.completed&&f.reset(),f.paused=!1,an.push(f),v(),qh())},f.reverse=function(){h(),f.completed=!f.reversed,v()},f.restart=function(){f.reset(),f.play()},f.remove=function(L){var j=Sc(L);Wh(j,f)},f.reset(),f.autoplay&&f.play(),f}function od(n,t){for(var e=t.length;e--;)vc(n,t[e].animatable.target)&&t.splice(e,1)}function Wh(n,t){var e=t.animations,o=t.children;od(n,e);for(var a=o.length;a--;){var s=o[a],u=s.animations;od(n,u),!u.length&&!s.children.length&&o.splice(a,1)}!e.length&&!o.length&&t.pause()}function JT(n){for(var t=Sc(n),e=an.length;e--;){var o=an[e];Wh(t,o)}}function GT(n,t){t===void 0&&(t={});var e=t.direction||"normal",o=t.easing?gc(t.easing):null,a=t.grid,s=t.axis,u=t.from||0,l=u==="first",f=u==="center",h=u==="last",d=W.arr(n),v=parseFloat(d?n[0]:n),b=d?parseFloat(n[1]):0,x=Vn(d?n[1]:n)||0,O=t.start||0+(d?v:0),C=[],A=0;return function(z,L,j){if(l&&(u=0),f&&(u=(j-1)/2),h&&(u=j-1),!C.length){for(var k=0;k<j;k++){if(!a)C.push(Math.abs(u-k));else{var P=f?(a[0]-1)/2:u%a[0],R=f?(a[1]-1)/2:Math.floor(u/a[0]),U=k%a[0],it=Math.floor(k/a[0]),mt=P-U,Q=R-it,xt=Math.sqrt(mt*mt+Q*Q);s==="x"&&(xt=-mt),s==="y"&&(xt=-Q),C.push(xt)}A=Math.max.apply(Math,C)}o&&(C=C.map(function(at){return o(at/A)*A})),e==="reverse"&&(C=C.map(function(at){return s?at<0?at*-1:-at:Math.abs(A-at)}))}var bt=d?(b-v)/A:v;return O+bt*(Math.round(C[L]*100)/100)+x}}function ZT(n){n===void 0&&(n={});var t=Lt(n);return t.duration=0,t.add=function(e,o){var a=an.indexOf(t),s=t.children;a>-1&&an.splice(a,1);function u(b){b.passThrough=!0}for(var l=0;l<s.length;l++)u(s[l]);var f=Ra(e,Bu(mc,n));f.targets=f.targets||n.targets;var h=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=W.und(o)?h:kc(o,h),u(t),t.seek(f.timelineOffset);var d=Lt(f);u(d),s.push(d);var v=Vh(s,n);return t.delay=v.delay,t.endDelay=v.endDelay,t.duration=v.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}Lt.version="3.2.1";Lt.speed=1;Lt.suspendWhenDocumentHidden=!0;Lt.running=an;Lt.remove=JT;Lt.get=xc;Lt.set=Fh;Lt.convertPx=bc;Lt.path=jT;Lt.setDashoffset=zT;Lt.stagger=GT;Lt.timeline=ZT;Lt.easing=gc;Lt.penner=Nh;Lt.random=function(n,t){return Math.floor(Math.random()*(t-n+1))+n};const Kh=n=>(_w("data-v-b9b5afe8"),n=n(),Aw(),n),XT={class:"Parallax-3d"},YT={class:"container"},QT={class:"item layer-3"},tO={class:"content"},eO=Kh(()=>_r("h1",{class:"title"}," Some Title ",-1)),nO=Kh(()=>_r("p",{class:"text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",-1)),rO=Hu({__name:"index",setup(n){const t=Cw({x:0,y:0}),e=Ue(()=>[{"--move-x":`${t.x}deg`,"--move-y":`${t.y}deg`}]);function o(){document.addEventListener("mousemove",a=>{t.x=(a.clientX-window.innerWidth/2)*-.005,t.y=(a.clientY-window.innerHeight/2)*-.01})}return sd(()=>{o()}),(a,s)=>(uo(),Wo("section",XT,[_r("div",{style:Tw(Ne(e)),class:"wrapper"},[_r("div",YT,[oo(Ne(ca),{origin:"/web-layout-practice/parallax-3d/layer-1.webp",class:"item layer-1"}),oo(Ne(ca),{origin:"/web-layout-practice/parallax-3d/layer-2.webp",class:"item layer-2"}),_r("div",QT,[_r("div",tO,[eO,nO,oo(Ne(qw),{rounded:"",outline:"",size:"large",class:"button"},{default:Fu(()=>[Ow(" Button title ")]),_:1})])]),oo(Ne(ca),{origin:"/web-layout-practice/parallax-3d/layer-5.webp",class:"item layer-5"}),oo(Ne(ca),{origin:"/web-layout-practice/parallax-3d/layer-6.webp",class:"item layer-6"})])],4)]))}});const iO=Ew(rO,[["__scopeId","data-v-b9b5afe8"]]);export{iO as default};
